(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rb={exports:{}},wf={},ib={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),FO=Symbol.for("react.portal"),jO=Symbol.for("react.fragment"),UO=Symbol.for("react.strict_mode"),BO=Symbol.for("react.profiler"),zO=Symbol.for("react.provider"),$O=Symbol.for("react.context"),KO=Symbol.for("react.forward_ref"),qO=Symbol.for("react.suspense"),WO=Symbol.for("react.memo"),GO=Symbol.for("react.lazy"),ME=Symbol.iterator;function HO(t){return t===null||typeof t!="object"?null:(t=ME&&t[ME]||t["@@iterator"],typeof t=="function"?t:null)}var sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob=Object.assign,ab={};function Ua(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||sb}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lb(){}lb.prototype=Ua.prototype;function Nv(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||sb}var Dv=Nv.prototype=new lb;Dv.constructor=Nv;ob(Dv,Ua.prototype);Dv.isPureReactComponent=!0;var LE=Array.isArray,ub=Object.prototype.hasOwnProperty,Ov={current:null},cb={key:!0,ref:!0,__self:!0,__source:!0};function hb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ub.call(e,r)&&!cb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ac,type:t,key:s,ref:o,props:i,_owner:Ov.current}}function QO(t,e){return{$$typeof:ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ac}function YO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FE=/\/+/g;function Wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YO(""+t.key):e.toString(36)}function Nh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ac:case FO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wp(o,0):r,LE(i)?(n="",t!=null&&(n=t.replace(FE,"$&/")+"/"),Nh(i,e,n,"",function(u){return u})):i!=null&&(Vv(i)&&(i=QO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",LE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Wp(s,a);o+=Nh(s,e,n,l,i)}else if(l=HO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Wp(s,a++),o+=Nh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],i=0;return Nh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Dh={transition:null},JO={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Dh,ReactCurrentOwner:Ov};ce.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!Vv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ua;ce.Fragment=jO;ce.Profiler=BO;ce.PureComponent=Nv;ce.StrictMode=UO;ce.Suspense=qO;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ob({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ov.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ub.call(e,l)&&!cb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ac,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:$O,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zO,_context:t},t.Consumer=t};ce.createElement=hb;ce.createFactory=function(t){var e=hb.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:KO,render:t}};ce.isValidElement=Vv;ce.lazy=function(t){return{$$typeof:GO,_payload:{_status:-1,_result:t},_init:XO}};ce.memo=function(t,e){return{$$typeof:WO,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Dh.transition;Dh.transition={};try{t()}finally{Dh.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return Ht.current.useCallback(t,e)};ce.useContext=function(t){return Ht.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ht.current.useEffect(t,e)};ce.useId=function(){return Ht.current.useId()};ce.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ht.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};ce.useRef=function(t){return Ht.current.useRef(t)};ce.useState=function(t){return Ht.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Ht.current.useTransition()};ce.version="18.2.0";ib.exports=ce;var k=ib.exports;const Oe=_f(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=k,eV=Symbol.for("react.element"),tV=Symbol.for("react.fragment"),nV=Object.prototype.hasOwnProperty,rV=ZO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iV={key:!0,ref:!0,__self:!0,__source:!0};function db(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nV.call(e,r)&&!iV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eV,type:t,key:s,ref:o,props:i,_owner:rV.current}}wf.Fragment=tV;wf.jsx=db;wf.jsxs=db;rb.exports=wf;var b=rb.exports,lg={},fb={exports:{}},wn={},pb={exports:{}},mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var X=U.length;U.push(G);e:for(;0<X;){var he=X-1>>>1,ie=U[he];if(0<i(ie,G))U[he]=G,U[X]=ie,X=he;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],X=U.pop();if(X!==G){U[0]=X;e:for(var he=0,ie=U.length,me=ie>>>1;he<me;){var it=2*(he+1)-1,ve=U[it],Ye=it+1,Et=U[Ye];if(0>i(ve,X))Ye<ie&&0>i(Et,ve)?(U[he]=Et,U[Ye]=X,he=Ye):(U[he]=ve,U[it]=X,he=it);else if(Ye<ie&&0>i(Et,X))U[he]=Et,U[Ye]=X,he=Ye;else break e}}return G}function i(U,G){var X=U.sortIndex-G.sortIndex;return X!==0?X:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,g=!1,v=!1,I=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=U)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function C(U){if(I=!1,E(U),!v)if(n(l)!==null)v=!0,ft(N);else{var G=n(u);G!==null&&ae(C,G.startTime-U)}}function N(U,G){v=!1,I&&(I=!1,y(w),w=-1),g=!0;var X=f;try{for(E(G),d=n(l);d!==null&&(!(d.expirationTime>G)||U&&!D());){var he=d.callback;if(typeof he=="function"){d.callback=null,f=d.priorityLevel;var ie=he(d.expirationTime<=G);G=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),E(G)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var it=n(u);it!==null&&ae(C,it.startTime-G),me=!1}return me}finally{d=null,f=X,g=!1}}var O=!1,T=null,w=-1,A=5,P=-1;function D(){return!(t.unstable_now()-P<A)}function V(){if(T!==null){var U=t.unstable_now();P=U;var G=!0;try{G=T(!0,U)}finally{G?R():(O=!1,T=null)}}else O=!1}var R;if(typeof _=="function")R=function(){_(V)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Vt=qe.port2;qe.port1.onmessage=V,R=function(){Vt.postMessage(null)}}else R=function(){S(V,0)};function ft(U){T=U,O||(O=!0,R())}function ae(U,G){w=S(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,ft(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var X=f;f=G;try{return U()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=f;f=U;try{return G()}finally{f=X}},t.unstable_scheduleCallback=function(U,G,X){var he=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?he+X:he):X=he,U){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=X+ie,U={id:h++,callback:G,priorityLevel:U,startTime:X,expirationTime:ie,sortIndex:-1},X>he?(U.sortIndex=X,e(u,U),n(l)===null&&U===n(u)&&(I?(y(w),w=-1):I=!0,ae(C,X-he))):(U.sortIndex=ie,e(l,U),v||g||(v=!0,ft(N))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var G=f;return function(){var X=f;f=G;try{return U.apply(this,arguments)}finally{f=X}}}})(mb);pb.exports=mb;var sV=pb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=k,vn=sV;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yb=new Set,_u={};function to(t,e){ca(t,e),ca(t+"Capture",e)}function ca(t,e){for(_u[t]=e,t=0;t<e.length;t++)yb.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,oV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jE={},UE={};function aV(t){return ug.call(UE,t)?!0:ug.call(jE,t)?!1:oV.test(t)?UE[t]=!0:(jE[t]=!0,!1)}function lV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uV(t,e,n,r){if(e===null||typeof e>"u"||lV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mv=/[\-:]([a-z])/g;function Lv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mv,Lv);wt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mv,Lv);wt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mv,Lv);wt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fv(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uV(e,n,i,r)&&(n=null),r||i===null?aV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=gb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),ko=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),_b=Symbol.for("react.context"),Uv=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),Bv=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),wb=Symbol.for("react.offscreen"),BE=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=BE&&t[BE]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Gp;function kl(t){if(Gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gp=e&&e[1]||""}return`
`+Gp+t}var Hp=!1;function Qp(t,e){if(!t||Hp)return"";Hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function cV(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=Qp(t.type,!1),t;case 11:return t=Qp(t.type.render,!1),t;case 1:return t=Qp(t.type,!0),t;default:return""}}function fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case ko:return"Portal";case cg:return"Profiler";case jv:return"StrictMode";case hg:return"Suspense";case dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _b:return(t.displayName||"Context")+".Consumer";case vb:return(t._context.displayName||"Context")+".Provider";case Uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bv:return e=t.displayName||null,e!==null?e:fg(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return fg(t(e))}catch{}}return null}function hV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fg(e);case 8:return e===jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dV(t){var e=Eb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eh(t){t._valueTracker||(t._valueTracker=dV(t))}function Tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Eb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pg(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ib(t,e){e=e.checked,e!=null&&Fv(t,"checked",e,!1)}function mg(t,e){Ib(t,e);var n=Fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&gg(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $E(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gg(t,e,n){(e!=="number"||fd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nl=Array.isArray;function Zo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Nl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fi(n)}}function xb(t,e){var n=Fi(e.value),r=Fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var th,bb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(th=th||document.createElement("div"),th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fV=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(t){fV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ql[e]=Ql[t]})});function Ab(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ql.hasOwnProperty(t)&&Ql[t]?(""+e).trim():e+"px"}function Pb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ab(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pV=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _g(t,e){if(e){if(pV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=null;function zv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tg=null,ea=null,ta=null;function WE(t){if(t=cc(t)){if(typeof Tg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Sf(e),Tg(t.stateNode,t.type,e))}}function Rb(t){ea?ta?ta.push(t):ta=[t]:ea=t}function Cb(){if(ea){var t=ea,e=ta;if(ta=ea=null,WE(t),e)for(t=0;t<e.length;t++)WE(e[t])}}function kb(t,e){return t(e)}function Nb(){}var Yp=!1;function Db(t,e,n){if(Yp)return t(e,n);Yp=!0;try{return kb(t,e,n)}finally{Yp=!1,(ea!==null||ta!==null)&&(Nb(),Cb())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=Sf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Ig=!1;if(jr)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Ig=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Ig=!1}function mV(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Yl=!1,pd=null,md=!1,xg=null,gV={onError:function(t){Yl=!0,pd=t}};function yV(t,e,n,r,i,s,o,a,l){Yl=!1,pd=null,mV.apply(gV,arguments)}function vV(t,e,n,r,i,s,o,a,l){if(yV.apply(this,arguments),Yl){if(Yl){var u=pd;Yl=!1,pd=null}else throw Error(z(198));md||(md=!0,xg=u)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ob(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GE(t){if(no(t)!==t)throw Error(z(188))}function _V(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return GE(i),t;if(s===r)return GE(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Vb(t){return t=_V(t),t!==null?Mb(t):null}function Mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mb(t);if(e!==null)return e;t=t.sibling}return null}var Lb=vn.unstable_scheduleCallback,HE=vn.unstable_cancelCallback,wV=vn.unstable_shouldYield,EV=vn.unstable_requestPaint,Je=vn.unstable_now,TV=vn.unstable_getCurrentPriorityLevel,$v=vn.unstable_ImmediatePriority,Fb=vn.unstable_UserBlockingPriority,gd=vn.unstable_NormalPriority,IV=vn.unstable_LowPriority,jb=vn.unstable_IdlePriority,Ef=null,lr=null;function xV(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ef,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:AV,SV=Math.log,bV=Math.LN2;function AV(t){return t>>>=0,t===0?32:31-(SV(t)/bV|0)|0}var nh=64,rh=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Dl(a):(s&=o,s!==0&&(r=Dl(s)))}else o=n&~i,o!==0?r=Dl(o):s!==0&&(r=Dl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function PV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=PV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ub(){var t=nh;return nh<<=1,!(nh&4194240)&&(nh=64),t}function Xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function CV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Bb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zb,qv,$b,Kb,qb,bg=!1,ih=[],Si=null,bi=null,Ai=null,Tu=new Map,Iu=new Map,fi=[],kV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QE(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function yl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cc(e),e!==null&&qv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NV(t,e,n,r,i){switch(e){case"focusin":return Si=yl(Si,t,e,n,r,i),!0;case"dragenter":return bi=yl(bi,t,e,n,r,i),!0;case"mouseover":return Ai=yl(Ai,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tu.set(s,yl(Tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Iu.set(s,yl(Iu.get(s)||null,t,e,n,r,i)),!0}return!1}function Wb(t){var e=Ts(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=Ob(n),e!==null){t.blockedOn=e,qb(t.priority,function(){$b(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Eg=r,n.target.dispatchEvent(r),Eg=null}else return e=cc(n),e!==null&&qv(e),t.blockedOn=n,!1;e.shift()}return!0}function YE(t,e,n){Oh(t)&&n.delete(e)}function DV(){bg=!1,Si!==null&&Oh(Si)&&(Si=null),bi!==null&&Oh(bi)&&(bi=null),Ai!==null&&Oh(Ai)&&(Ai=null),Tu.forEach(YE),Iu.forEach(YE)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,bg||(bg=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,DV)))}function xu(t){function e(i){return vl(i,t)}if(0<ih.length){vl(ih[0],t);for(var n=1;n<ih.length;n++){var r=ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&vl(Si,t),bi!==null&&vl(bi,t),Ai!==null&&vl(Ai,t),Tu.forEach(e),Iu.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)Wb(n),n.blockedOn===null&&fi.shift()}var na=Qr.ReactCurrentBatchConfig,vd=!0;function OV(t,e,n,r){var i=we,s=na.transition;na.transition=null;try{we=1,Wv(t,e,n,r)}finally{we=i,na.transition=s}}function VV(t,e,n,r){var i=we,s=na.transition;na.transition=null;try{we=4,Wv(t,e,n,r)}finally{we=i,na.transition=s}}function Wv(t,e,n,r){if(vd){var i=Ag(t,e,n,r);if(i===null)am(t,e,r,_d,n),QE(t,r);else if(NV(i,t,e,n,r))r.stopPropagation();else if(QE(t,r),e&4&&-1<kV.indexOf(t)){for(;i!==null;){var s=cc(i);if(s!==null&&zb(s),s=Ag(t,e,n,r),s===null&&am(t,e,r,_d,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else am(t,e,r,null,n)}}var _d=null;function Ag(t,e,n,r){if(_d=null,t=zv(r),t=Ts(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ob(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _d=t,null}function Gb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TV()){case $v:return 1;case Fb:return 4;case gd:case IV:return 16;case jb:return 536870912;default:return 16}default:return 16}}var Ei=null,Gv=null,Vh=null;function Hb(){if(Vh)return Vh;var t,e=Gv,n=e.length,r,i="value"in Ei?Ei.value:Ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vh=i.slice(t,1<r?1-r:void 0)}function Mh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sh(){return!0}function XE(){return!1}function En(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sh:XE,this.isPropagationStopped=XE,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hv=En(Ba),uc=ze({},Ba,{view:0,detail:0}),MV=En(uc),Jp,Zp,_l,Tf=ze({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_l&&(_l&&t.type==="mousemove"?(Jp=t.screenX-_l.screenX,Zp=t.screenY-_l.screenY):Zp=Jp=0,_l=t),Jp)},movementY:function(t){return"movementY"in t?t.movementY:Zp}}),JE=En(Tf),LV=ze({},Tf,{dataTransfer:0}),FV=En(LV),jV=ze({},uc,{relatedTarget:0}),em=En(jV),UV=ze({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),BV=En(UV),zV=ze({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$V=En(zV),KV=ze({},Ba,{data:0}),ZE=En(KV),qV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GV[t])?!!e[t]:!1}function Qv(){return HV}var QV=ze({},uc,{key:function(t){if(t.key){var e=qV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qv,charCode:function(t){return t.type==="keypress"?Mh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YV=En(QV),XV=ze({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e1=En(XV),JV=ze({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qv}),ZV=En(JV),eM=ze({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),tM=En(eM),nM=ze({},Tf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rM=En(nM),iM=[9,13,27,32],Yv=jr&&"CompositionEvent"in window,Xl=null;jr&&"documentMode"in document&&(Xl=document.documentMode);var sM=jr&&"TextEvent"in window&&!Xl,Qb=jr&&(!Yv||Xl&&8<Xl&&11>=Xl),t1=" ",n1=!1;function Yb(t,e){switch(t){case"keyup":return iM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function oM(t,e){switch(t){case"compositionend":return Xb(e);case"keypress":return e.which!==32?null:(n1=!0,t1);case"textInput":return t=e.data,t===t1&&n1?null:t;default:return null}}function aM(t,e){if(Do)return t==="compositionend"||!Yv&&Yb(t,e)?(t=Hb(),Vh=Gv=Ei=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qb&&e.locale!=="ko"?null:e.data;default:return null}}var lM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lM[t.type]:e==="textarea"}function Jb(t,e,n,r){Rb(r),e=wd(e,"onChange"),0<e.length&&(n=new Hv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jl=null,Su=null;function uM(t){uA(t,0)}function If(t){var e=Mo(t);if(Tb(e))return t}function cM(t,e){if(t==="change")return e}var Zb=!1;if(jr){var tm;if(jr){var nm="oninput"in document;if(!nm){var i1=document.createElement("div");i1.setAttribute("oninput","return;"),nm=typeof i1.oninput=="function"}tm=nm}else tm=!1;Zb=tm&&(!document.documentMode||9<document.documentMode)}function s1(){Jl&&(Jl.detachEvent("onpropertychange",eA),Su=Jl=null)}function eA(t){if(t.propertyName==="value"&&If(Su)){var e=[];Jb(e,Su,t,zv(t)),Db(uM,e)}}function hM(t,e,n){t==="focusin"?(s1(),Jl=e,Su=n,Jl.attachEvent("onpropertychange",eA)):t==="focusout"&&s1()}function dM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(Su)}function fM(t,e){if(t==="click")return If(e)}function pM(t,e){if(t==="input"||t==="change")return If(e)}function mM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:mM;function bu(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ug.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function o1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a1(t,e){var n=o1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o1(n)}}function tA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nA(){for(var t=window,e=fd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fd(t.document)}return e}function Xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gM(t){var e=nA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tA(n.ownerDocument.documentElement,n)){if(r!==null&&Xv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=a1(n,s);var o=a1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yM=jr&&"documentMode"in document&&11>=document.documentMode,Oo=null,Pg=null,Zl=null,Rg=!1;function l1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rg||Oo==null||Oo!==fd(r)||(r=Oo,"selectionStart"in r&&Xv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zl&&bu(Zl,r)||(Zl=r,r=wd(Pg,"onSelect"),0<r.length&&(e=new Hv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oo)))}function oh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vo={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},rm={},rA={};jr&&(rA=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function xf(t){if(rm[t])return rm[t];if(!Vo[t])return t;var e=Vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rA)return rm[t]=e[n];return t}var iA=xf("animationend"),sA=xf("animationiteration"),oA=xf("animationstart"),aA=xf("transitionend"),lA=new Map,u1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){lA.set(t,e),to(e,[t])}for(var im=0;im<u1.length;im++){var sm=u1[im],vM=sm.toLowerCase(),_M=sm[0].toUpperCase()+sm.slice(1);Yi(vM,"on"+_M)}Yi(iA,"onAnimationEnd");Yi(sA,"onAnimationIteration");Yi(oA,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(aA,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function c1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vV(r,e,void 0,t),t.currentTarget=null}function uA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;c1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;c1(i,a,u),s=l}}}if(md)throw t=xg,md=!1,xg=null,t}function Ae(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(cA(e,t,2,!1),n.add(r))}function om(t,e,n){var r=0;e&&(r|=4),cA(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[ah]){t[ah]=!0,yb.forEach(function(n){n!=="selectionchange"&&(wM.has(n)||om(n,!1,t),om(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,om("selectionchange",!1,e))}}function cA(t,e,n,r){switch(Gb(e)){case 1:var i=OV;break;case 4:i=VV;break;default:i=Wv}n=i.bind(null,e,n,t),i=void 0,!Ig||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function am(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Db(function(){var u=s,h=zv(n),d=[];e:{var f=lA.get(t);if(f!==void 0){var g=Hv,v=t;switch(t){case"keypress":if(Mh(n)===0)break e;case"keydown":case"keyup":g=YV;break;case"focusin":v="focus",g=em;break;case"focusout":v="blur",g=em;break;case"beforeblur":case"afterblur":g=em;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=JE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=FV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ZV;break;case iA:case sA:case oA:g=BV;break;case aA:g=tM;break;case"scroll":g=MV;break;case"wheel":g=rM;break;case"copy":case"cut":case"paste":g=$V;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=e1}var I=(e&4)!==0,S=!I&&t==="scroll",y=I?f!==null?f+"Capture":null:f;I=[];for(var _=u,E;_!==null;){E=_;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,y!==null&&(C=Eu(_,y),C!=null&&I.push(Pu(_,C,E)))),S)break;_=_.return}0<I.length&&(f=new g(f,v,null,n,h),d.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Eg&&(v=n.relatedTarget||n.fromElement)&&(Ts(v)||v[Ur]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Ts(v):null,v!==null&&(S=no(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(I=JE,C="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=e1,C="onPointerLeave",y="onPointerEnter",_="pointer"),S=g==null?f:Mo(g),E=v==null?f:Mo(v),f=new I(C,_+"leave",g,n,h),f.target=S,f.relatedTarget=E,C=null,Ts(h)===u&&(I=new I(y,_+"enter",v,n,h),I.target=E,I.relatedTarget=S,C=I),S=C,g&&v)t:{for(I=g,y=v,_=0,E=I;E;E=go(E))_++;for(E=0,C=y;C;C=go(C))E++;for(;0<_-E;)I=go(I),_--;for(;0<E-_;)y=go(y),E--;for(;_--;){if(I===y||y!==null&&I===y.alternate)break t;I=go(I),y=go(y)}I=null}else I=null;g!==null&&h1(d,f,g,I,!1),v!==null&&S!==null&&h1(d,S,v,I,!0)}}e:{if(f=u?Mo(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=cM;else if(r1(f))if(Zb)N=pM;else{N=dM;var O=hM}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=fM);if(N&&(N=N(t,u))){Jb(d,N,n,h);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&gg(f,"number",f.value)}switch(O=u?Mo(u):window,t){case"focusin":(r1(O)||O.contentEditable==="true")&&(Oo=O,Pg=u,Zl=null);break;case"focusout":Zl=Pg=Oo=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,l1(d,n,h);break;case"selectionchange":if(yM)break;case"keydown":case"keyup":l1(d,n,h)}var T;if(Yv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Do?Yb(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Qb&&n.locale!=="ko"&&(Do||w!=="onCompositionStart"?w==="onCompositionEnd"&&Do&&(T=Hb()):(Ei=h,Gv="value"in Ei?Ei.value:Ei.textContent,Do=!0)),O=wd(u,w),0<O.length&&(w=new ZE(w,t,null,n,h),d.push({event:w,listeners:O}),T?w.data=T:(T=Xb(n),T!==null&&(w.data=T)))),(T=sM?oM(t,n):aM(t,n))&&(u=wd(u,"onBeforeInput"),0<u.length&&(h=new ZE("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=T))}uA(d,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,n),s!=null&&r.unshift(Pu(t,s,i)),s=Eu(t,e),s!=null&&r.push(Pu(t,s,i))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Eu(n,s),l!=null&&o.unshift(Pu(n,l,a))):i||(l=Eu(n,s),l!=null&&o.push(Pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EM=/\r\n?/g,TM=/\u0000|\uFFFD/g;function d1(t){return(typeof t=="string"?t:""+t).replace(EM,`
`).replace(TM,"")}function lh(t,e,n){if(e=d1(e),d1(t)!==e&&n)throw Error(z(425))}function Ed(){}var Cg=null,kg=null;function Ng(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,IM=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,xM=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(t){return f1.resolve(null).then(t).catch(SM)}:Dg;function SM(t){setTimeout(function(){throw t})}function lm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function Pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var za=Math.random().toString(36).slice(2),tr="__reactFiber$"+za,Ru="__reactProps$"+za,Ur="__reactContainer$"+za,Og="__reactEvents$"+za,bM="__reactListeners$"+za,AM="__reactHandles$"+za;function Ts(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p1(t);t!==null;){if(n=t[tr])return n;t=p1(t)}return e}t=n,n=t.parentNode}return null}function cc(t){return t=t[tr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Sf(t){return t[Ru]||null}var Vg=[],Lo=-1;function Xi(t){return{current:t}}function Re(t){0>Lo||(t.current=Vg[Lo],Vg[Lo]=null,Lo--)}function Ie(t,e){Lo++,Vg[Lo]=t.current,t.current=e}var ji={},Dt=Xi(ji),nn=Xi(!1),Fs=ji;function ha(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Td(){Re(nn),Re(Dt)}function m1(t,e,n){if(Dt.current!==ji)throw Error(z(168));Ie(Dt,e),Ie(nn,n)}function hA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,hV(t)||"Unknown",i));return ze({},n,r)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Fs=Dt.current,Ie(Dt,t),Ie(nn,nn.current),!0}function g1(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=hA(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Re(nn),Re(Dt),Ie(Dt,t)):Re(nn),Ie(nn,n)}var xr=null,bf=!1,um=!1;function dA(t){xr===null?xr=[t]:xr.push(t)}function PM(t){bf=!0,dA(t)}function Ji(){if(!um&&xr!==null){um=!0;var t=0,e=we;try{var n=xr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,bf=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),Lb($v,Ji),i}finally{we=e,um=!1}}return null}var Fo=[],jo=0,xd=null,Sd=0,bn=[],An=0,js=null,br=1,Ar="";function hs(t,e){Fo[jo++]=Sd,Fo[jo++]=xd,xd=t,Sd=e}function fA(t,e,n){bn[An++]=br,bn[An++]=Ar,bn[An++]=js,js=t;var r=br;t=Ar;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,br=1<<32-qn(e)+i|n<<i|r,Ar=s+t}else br=1<<s|n<<i|r,Ar=t}function Jv(t){t.return!==null&&(hs(t,1),fA(t,1,0))}function Zv(t){for(;t===xd;)xd=Fo[--jo],Fo[jo]=null,Sd=Fo[--jo],Fo[jo]=null;for(;t===js;)js=bn[--An],bn[An]=null,Ar=bn[--An],bn[An]=null,br=bn[--An],bn[An]=null}var pn=null,hn=null,De=!1,$n=null;function pA(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=Pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:br,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lg(t){if(De){var e=hn;if(e){var n=e;if(!y1(t,e)){if(Mg(t))throw Error(z(418));e=Pi(n.nextSibling);var r=pn;e&&y1(t,e)?pA(r,n):(t.flags=t.flags&-4097|2,De=!1,pn=t)}}else{if(Mg(t))throw Error(z(418));t.flags=t.flags&-4097|2,De=!1,pn=t}}}function v1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function uh(t){if(t!==pn)return!1;if(!De)return v1(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ng(t.type,t.memoizedProps)),e&&(e=hn)){if(Mg(t))throw mA(),Error(z(418));for(;e;)pA(t,e),e=Pi(e.nextSibling)}if(v1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?Pi(t.stateNode.nextSibling):null;return!0}function mA(){for(var t=hn;t;)t=Pi(t.nextSibling)}function da(){hn=pn=null,De=!1}function e_(t){$n===null?$n=[t]:$n.push(t)}var RM=Qr.ReactCurrentBatchConfig;function Bn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var bd=Xi(null),Ad=null,Uo=null,t_=null;function n_(){t_=Uo=Ad=null}function r_(t){var e=bd.current;Re(bd),t._currentValue=e}function Fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ra(t,e){Ad=t,t_=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(t_!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(Ad===null)throw Error(z(308));Uo=t,Ad.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Is=null;function i_(t){Is===null?Is=[t]:Is.push(t)}function gA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,i_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function s_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Br(t,n)}return i=r.interleaved,i===null?(e.next=e,i_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Br(t,n)}function Lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kv(t,n)}}function _1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,I=a;switch(f=e,g=n,I.tag){case 1:if(v=I.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=I.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=ze({},d,f);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bs|=o,t.lanes=o,t.memoizedState=d}}function w1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var vA=new gb.Component().refs;function jg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Af={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),i=ki(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ri(t,s,i),e!==null&&(Wn(e,t,i,r),Lh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),i=ki(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ri(t,s,i),e!==null&&(Wn(e,t,i,r),Lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=ki(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ri(t,i,r),e!==null&&(Wn(e,t,r,n),Lh(e,t,r))}};function E1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(i,s):!0}function _A(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=rn(e)?Fs:Dt.current,r=e.contextTypes,s=(r=r!=null)?ha(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function T1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Af.enqueueReplaceState(e,e.state,null)}function Ug(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=vA,s_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=rn(e)?Fs:Dt.current,i.context=ha(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Af.enqueueReplaceState(i,i.state,null),Pd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===vA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ch(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function I1(t){var e=t._init;return e(t._payload)}function wA(t){function e(y,_){if(t){var E=y.deletions;E===null?(y.deletions=[_],y.flags|=16):E.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Ni(y,_),y.index=0,y.sibling=null,y}function s(y,_,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<_?(y.flags|=2,_):E):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,E,C){return _===null||_.tag!==6?(_=gm(E,y.mode,C),_.return=y,_):(_=i(_,E),_.return=y,_)}function l(y,_,E,C){var N=E.type;return N===No?h(y,_,E.props.children,C,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&I1(N)===_.type)?(C=i(_,E.props),C.ref=wl(y,_,E),C.return=y,C):(C=$h(E.type,E.key,E.props,null,y.mode,C),C.ref=wl(y,_,E),C.return=y,C)}function u(y,_,E,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=ym(E,y.mode,C),_.return=y,_):(_=i(_,E.children||[]),_.return=y,_)}function h(y,_,E,C,N){return _===null||_.tag!==7?(_=Rs(E,y.mode,C,N),_.return=y,_):(_=i(_,E),_.return=y,_)}function d(y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=gm(""+_,y.mode,E),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zc:return E=$h(_.type,_.key,_.props,null,y.mode,E),E.ref=wl(y,null,_),E.return=y,E;case ko:return _=ym(_,y.mode,E),_.return=y,_;case ci:var C=_._init;return d(y,C(_._payload),E)}if(Nl(_)||ml(_))return _=Rs(_,y.mode,E,null),_.return=y,_;ch(y,_)}return null}function f(y,_,E,C){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(y,_,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zc:return E.key===N?l(y,_,E,C):null;case ko:return E.key===N?u(y,_,E,C):null;case ci:return N=E._init,f(y,_,N(E._payload),C)}if(Nl(E)||ml(E))return N!==null?null:h(y,_,E,C,null);ch(y,E)}return null}function g(y,_,E,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(E)||null,a(_,y,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zc:return y=y.get(C.key===null?E:C.key)||null,l(_,y,C,N);case ko:return y=y.get(C.key===null?E:C.key)||null,u(_,y,C,N);case ci:var O=C._init;return g(y,_,E,O(C._payload),N)}if(Nl(C)||ml(C))return y=y.get(E)||null,h(_,y,C,N,null);ch(_,C)}return null}function v(y,_,E,C){for(var N=null,O=null,T=_,w=_=0,A=null;T!==null&&w<E.length;w++){T.index>w?(A=T,T=null):A=T.sibling;var P=f(y,T,E[w],C);if(P===null){T===null&&(T=A);break}t&&T&&P.alternate===null&&e(y,T),_=s(P,_,w),O===null?N=P:O.sibling=P,O=P,T=A}if(w===E.length)return n(y,T),De&&hs(y,w),N;if(T===null){for(;w<E.length;w++)T=d(y,E[w],C),T!==null&&(_=s(T,_,w),O===null?N=T:O.sibling=T,O=T);return De&&hs(y,w),N}for(T=r(y,T);w<E.length;w++)A=g(T,y,w,E[w],C),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?w:A.key),_=s(A,_,w),O===null?N=A:O.sibling=A,O=A);return t&&T.forEach(function(D){return e(y,D)}),De&&hs(y,w),N}function I(y,_,E,C){var N=ml(E);if(typeof N!="function")throw Error(z(150));if(E=N.call(E),E==null)throw Error(z(151));for(var O=N=null,T=_,w=_=0,A=null,P=E.next();T!==null&&!P.done;w++,P=E.next()){T.index>w?(A=T,T=null):A=T.sibling;var D=f(y,T,P.value,C);if(D===null){T===null&&(T=A);break}t&&T&&D.alternate===null&&e(y,T),_=s(D,_,w),O===null?N=D:O.sibling=D,O=D,T=A}if(P.done)return n(y,T),De&&hs(y,w),N;if(T===null){for(;!P.done;w++,P=E.next())P=d(y,P.value,C),P!==null&&(_=s(P,_,w),O===null?N=P:O.sibling=P,O=P);return De&&hs(y,w),N}for(T=r(y,T);!P.done;w++,P=E.next())P=g(T,y,w,P.value,C),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?w:P.key),_=s(P,_,w),O===null?N=P:O.sibling=P,O=P);return t&&T.forEach(function(V){return e(y,V)}),De&&hs(y,w),N}function S(y,_,E,C){if(typeof E=="object"&&E!==null&&E.type===No&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Zc:e:{for(var N=E.key,O=_;O!==null;){if(O.key===N){if(N=E.type,N===No){if(O.tag===7){n(y,O.sibling),_=i(O,E.props.children),_.return=y,y=_;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&I1(N)===O.type){n(y,O.sibling),_=i(O,E.props),_.ref=wl(y,O,E),_.return=y,y=_;break e}n(y,O);break}else e(y,O);O=O.sibling}E.type===No?(_=Rs(E.props.children,y.mode,C,E.key),_.return=y,y=_):(C=$h(E.type,E.key,E.props,null,y.mode,C),C.ref=wl(y,_,E),C.return=y,y=C)}return o(y);case ko:e:{for(O=E.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(y,_.sibling),_=i(_,E.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=ym(E,y.mode,C),_.return=y,y=_}return o(y);case ci:return O=E._init,S(y,_,O(E._payload),C)}if(Nl(E))return v(y,_,E,C);if(ml(E))return I(y,_,E,C);ch(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,E),_.return=y,y=_):(n(y,_),_=gm(E,y.mode,C),_.return=y,y=_),o(y)):n(y,_)}return S}var fa=wA(!0),EA=wA(!1),hc={},ur=Xi(hc),Cu=Xi(hc),ku=Xi(hc);function xs(t){if(t===hc)throw Error(z(174));return t}function o_(t,e){switch(Ie(ku,e),Ie(Cu,t),Ie(ur,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vg(e,t)}Re(ur),Ie(ur,e)}function pa(){Re(ur),Re(Cu),Re(ku)}function TA(t){xs(ku.current);var e=xs(ur.current),n=vg(e,t.type);e!==n&&(Ie(Cu,t),Ie(ur,n))}function a_(t){Cu.current===t&&(Re(ur),Re(Cu))}var Le=Xi(0);function Rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cm=[];function l_(){for(var t=0;t<cm.length;t++)cm[t]._workInProgressVersionPrimary=null;cm.length=0}var Fh=Qr.ReactCurrentDispatcher,hm=Qr.ReactCurrentBatchConfig,Us=0,Ue=null,st=null,ct=null,Cd=!1,eu=!1,Nu=0,CM=0;function St(){throw Error(z(321))}function u_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function c_(t,e,n,r,i,s){if(Us=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?OM:VM,t=n(r,i),eu){s=0;do{if(eu=!1,Nu=0,25<=s)throw Error(z(301));s+=1,ct=st=null,e.updateQueue=null,Fh.current=MM,t=n(r,i)}while(eu)}if(Fh.current=kd,e=st!==null&&st.next!==null,Us=0,ct=st=Ue=null,Cd=!1,e)throw Error(z(300));return t}function h_(){var t=Nu!==0;return Nu=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ue.memoizedState=ct=t:ct=ct.next=t,ct}function On(){if(st===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ct===null?Ue.memoizedState:ct.next;if(e!==null)ct=e,st=t;else{if(t===null)throw Error(z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ct===null?Ue.memoizedState=ct=t:ct=ct.next=t}return ct}function Du(t,e){return typeof e=="function"?e(t):e}function dm(t){var e=On(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Us&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ue.lanes|=h,Bs|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,Bs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fm(t){var e=On(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(Zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function IA(){}function xA(t,e){var n=Ue,r=On(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Zt=!0),r=r.queue,d_(AA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Ou(9,bA.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(z(349));Us&30||SA(n,e,i)}return i}function SA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bA(t,e,n,r){e.value=n,e.getSnapshot=r,PA(e)&&RA(t)}function AA(t,e,n){return n(function(){PA(e)&&RA(t)})}function PA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function RA(t){var e=Br(t,1);e!==null&&Wn(e,t,1,-1)}function x1(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=DM.bind(null,Ue,t),[e.memoizedState,t]}function Ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CA(){return On().memoizedState}function jh(t,e,n,r){var i=Jn();Ue.flags|=t,i.memoizedState=Ou(1|e,n,void 0,r===void 0?null:r)}function Pf(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&u_(r,o.deps)){i.memoizedState=Ou(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=Ou(1|e,n,s,r)}function S1(t,e){return jh(8390656,8,t,e)}function d_(t,e){return Pf(2048,8,t,e)}function kA(t,e){return Pf(4,2,t,e)}function NA(t,e){return Pf(4,4,t,e)}function DA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OA(t,e,n){return n=n!=null?n.concat([t]):null,Pf(4,4,DA.bind(null,e,t),n)}function f_(){}function VA(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MA(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LA(t,e,n){return Us&21?(Hn(n,e)||(n=Ub(),Ue.lanes|=n,Bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function kM(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=hm.transition;hm.transition={};try{t(!1),e()}finally{we=n,hm.transition=r}}function FA(){return On().memoizedState}function NM(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jA(t))UA(e,n);else if(n=gA(t,e,n,r),n!==null){var i=qt();Wn(n,t,r,i),BA(n,e,r)}}function DM(t,e,n){var r=ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jA(t))UA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(i.next=i,i_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gA(t,e,i,r),n!==null&&(i=qt(),Wn(n,t,r,i),BA(n,e,r))}}function jA(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function UA(t,e){eu=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kv(t,n)}}var kd={readContext:Dn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},OM={readContext:Dn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:S1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jh(4194308,4,DA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return jh(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NM.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:x1,useDebugValue:f_,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=x1(!1),e=t[0];return t=kM.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Jn();if(De){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),dt===null)throw Error(z(349));Us&30||SA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,S1(AA.bind(null,r,s,t),[t]),r.flags|=2048,Ou(9,bA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=dt.identifierPrefix;if(De){var n=Ar,r=br;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VM={readContext:Dn,useCallback:VA,useContext:Dn,useEffect:d_,useImperativeHandle:OA,useInsertionEffect:kA,useLayoutEffect:NA,useMemo:MA,useReducer:dm,useRef:CA,useState:function(){return dm(Du)},useDebugValue:f_,useDeferredValue:function(t){var e=On();return LA(e,st.memoizedState,t)},useTransition:function(){var t=dm(Du)[0],e=On().memoizedState;return[t,e]},useMutableSource:IA,useSyncExternalStore:xA,useId:FA,unstable_isNewReconciler:!1},MM={readContext:Dn,useCallback:VA,useContext:Dn,useEffect:d_,useImperativeHandle:OA,useInsertionEffect:kA,useLayoutEffect:NA,useMemo:MA,useReducer:fm,useRef:CA,useState:function(){return fm(Du)},useDebugValue:f_,useDeferredValue:function(t){var e=On();return st===null?e.memoizedState=t:LA(e,st.memoizedState,t)},useTransition:function(){var t=fm(Du)[0],e=On().memoizedState;return[t,e]},useMutableSource:IA,useSyncExternalStore:xA,useId:FA,unstable_isNewReconciler:!1};function ma(t,e){try{var n="",r=e;do n+=cV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LM=typeof WeakMap=="function"?WeakMap:Map;function zA(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dd||(Dd=!0,Xg=r),Bg(t,e)},n}function $A(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bg(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XM.bind(null,t,e,n),e.then(t,t))}function A1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var FM=Qr.ReactCurrentOwner,Zt=!1;function Ut(t,e,n,r){e.child=t===null?EA(e,null,n,r):fa(e,t.child,n,r)}function R1(t,e,n,r,i){n=n.render;var s=e.ref;return ra(e,i),r=c_(t,e,n,r,s,i),n=h_(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(De&&n&&Jv(e),e.flags|=1,Ut(t,e,r,i),e.child)}function C1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!E_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KA(t,e,s,r,i)):(t=$h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function KA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bu(s,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,zr(t,e,i)}return zg(t,e,n,r,i)}function qA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(zo,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(zo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(zo,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(zo,cn),cn|=r;return Ut(t,e,i,n),e.child}function WA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,i){var s=rn(n)?Fs:Dt.current;return s=ha(e,s),ra(e,i),n=c_(t,e,n,r,s,i),r=h_(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(De&&r&&Jv(e),e.flags|=1,Ut(t,e,n,i),e.child)}function k1(t,e,n,r,i){if(rn(n)){var s=!0;Id(e)}else s=!1;if(ra(e,i),e.stateNode===null)Uh(t,e),_A(e,n,r),Ug(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=rn(n)?Fs:Dt.current,u=ha(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&T1(e,o,r,u),hi=!1;var f=e.memoizedState;o.state=f,Pd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||hi?(typeof h=="function"&&(jg(e,n,h,r),l=e.memoizedState),(a=hi||E1(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=rn(n)?Fs:Dt.current,l=ha(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&T1(e,o,r,l),hi=!1,f=e.memoizedState,o.state=f,Pd(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||nn.current||hi?(typeof g=="function"&&(jg(e,n,g,r),v=e.memoizedState),(u=hi||E1(e,n,u,r,f,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return $g(t,e,n,r,s,i)}function $g(t,e,n,r,i,s){WA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&g1(e,n,!1),zr(t,e,s);r=e.stateNode,FM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fa(e,t.child,null,s),e.child=fa(e,null,a,s)):Ut(t,e,a,s),e.memoizedState=r.state,i&&g1(e,n,!0),e.child}function GA(t){var e=t.stateNode;e.pendingContext?m1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m1(t,e.context,!1),o_(t,e.containerInfo)}function N1(t,e,n,r,i){return da(),e_(i),e.flags|=256,Ut(t,e,n,r),e.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function qg(t){return{baseLanes:t,cachePool:null,transitions:null}}function HA(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Le,i&1),t===null)return Lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kf(o,r,0,null),t=Rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qg(n),e.memoizedState=Kg,t):p_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ni(a,s):(s=Rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kg,r}return s=t.child,t=s.sibling,r=Ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function p_(t,e){return e=kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hh(t,e,n,r){return r!==null&&e_(r),fa(e,t.child,null,n),t=p_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pm(Error(z(422))),hh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kf({mode:"visible",children:r.children},i,0,null),s=Rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fa(e,t.child,null,o),e.child.memoizedState=qg(o),e.memoizedState=Kg,s);if(!(e.mode&1))return hh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=pm(s,r,void 0),hh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Br(t,i),Wn(r,t,i,-1))}return w_(),r=pm(Error(z(421))),hh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=Pi(i.nextSibling),pn=e,De=!0,$n=null,t!==null&&(bn[An++]=br,bn[An++]=Ar,bn[An++]=js,br=t.id,Ar=t.overflow,js=e),e=p_(e,r.children),e.flags|=4096,e)}function D1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fg(t.return,e,n)}function mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function QA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ut(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D1(t,n,e);else if(t.tag===19)D1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mm(e,!0,n,null,s);break;case"together":mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UM(t,e,n){switch(e.tag){case 3:GA(e),da();break;case 5:TA(e);break;case 1:rn(e.type)&&Id(e);break;case 4:o_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?HA(t,e,n):(Ie(Le,Le.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Ie(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,qA(t,e,n)}return zr(t,e,n)}var YA,Wg,XA,JA;YA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wg=function(){};XA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(ur.current);var s=null;switch(n){case"input":i=pg(t,i),r=pg(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=yg(t,i),r=yg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ed)}_g(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_u.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_u.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};JA=function(t,e,n,r){n!==r&&(e.flags|=4)};function El(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BM(t,e,n){var r=e.pendingProps;switch(Zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return rn(e.type)&&Td(),bt(e),null;case 3:return r=e.stateNode,pa(),Re(nn),Re(Dt),l_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(ey($n),$n=null))),Wg(t,e),bt(e),null;case 5:a_(e);var i=xs(ku.current);if(n=e.type,t!==null&&e.stateNode!=null)XA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return bt(e),null}if(t=xs(ur.current),uh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[Ru]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Ol.length;i++)Ae(Ol[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":zE(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":KE(r,s),Ae("invalid",r)}_g(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lh(r.textContent,a,t),i=["children",""+a]):_u.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":eh(r),$E(r,s,!0);break;case"textarea":eh(r),qE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[Ru]=r,YA(t,e,!1,!1),e.stateNode=t;e:{switch(o=wg(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ol.length;i++)Ae(Ol[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":zE(t,r),i=pg(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":KE(t,r),i=yg(t,r),Ae("invalid",t);break;default:i=r}_g(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Pb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_u.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&Fv(t,s,l,o))}switch(n){case"input":eh(t),$E(t,r,!1);break;case"textarea":eh(t),qE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)JA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=xs(ku.current),xs(ur.current),uh(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:lh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return bt(e),null;case 13:if(Re(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&hn!==null&&e.mode&1&&!(e.flags&128))mA(),da(),e.flags|=98560,s=!1;else if(s=uh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[tr]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else $n!==null&&(ey($n),$n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?ot===0&&(ot=3):w_())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return pa(),Wg(t,e),t===null&&Au(e.stateNode.containerInfo),bt(e),null;case 10:return r_(e.type._context),bt(e),null;case 17:return rn(e.type)&&Td(),bt(e),null;case 19:if(Re(Le),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)El(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rd(t),o!==null){for(e.flags|=128,El(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>ga&&(e.flags|=128,r=!0,El(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),El(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return bt(e),null}else 2*Je()-s.renderingStartTime>ga&&n!==1073741824&&(e.flags|=128,r=!0,El(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Le.current,Ie(Le,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return __(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function zM(t,e){switch(Zv(e),e.tag){case 1:return rn(e.type)&&Td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pa(),Re(nn),Re(Dt),l_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return a_(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return pa(),null;case 10:return r_(e.type._context),null;case 22:case 23:return __(),null;case 24:return null;default:return null}}var dh=!1,Rt=!1,$M=typeof WeakSet=="function"?WeakSet:Set,W=null;function Bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Gg(t,e,n){try{n()}catch(r){He(t,e,r)}}var O1=!1;function KM(t,e){if(Cg=vd,t=nA(),Xv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kg={focusedElem:t,selectionRange:n},vd=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var I=v.memoizedProps,S=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?I:Bn(e.type,I),S);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){He(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=O1,O1=!1,v}function tu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gg(e,n,s)}i=i.next}while(i!==r)}}function Rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZA(t){var e=t.alternate;e!==null&&(t.alternate=null,ZA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Ru],delete e[Og],delete e[bM],delete e[AM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eP(t){return t.tag===5||t.tag===3||t.tag===4}function V1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&(t=t.child,t!==null))for(Qg(t,e,n),t=t.sibling;t!==null;)Qg(t,e,n),t=t.sibling}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}var gt=null,zn=!1;function ri(t,e,n){for(n=n.child;n!==null;)tP(t,e,n),n=n.sibling}function tP(t,e,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ef,n)}catch{}switch(n.tag){case 5:Rt||Bo(n,e);case 6:var r=gt,i=zn;gt=null,ri(t,e,n),gt=r,zn=i,gt!==null&&(zn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(zn?(t=gt,n=n.stateNode,t.nodeType===8?lm(t.parentNode,n):t.nodeType===1&&lm(t,n),xu(t)):lm(gt,n.stateNode));break;case 4:r=gt,i=zn,gt=n.stateNode.containerInfo,zn=!0,ri(t,e,n),gt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gg(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Rt&&(Bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,ri(t,e,n),Rt=r):ri(t,e,n);break;default:ri(t,e,n)}}function M1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $M),e.forEach(function(r){var i=ZM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,zn=!1;break e;case 3:gt=a.stateNode.containerInfo,zn=!0;break e;case 4:gt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(gt===null)throw Error(z(160));tP(s,o,i),gt=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nP(e,t),e=e.sibling}function nP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),Yn(t),r&4){try{tu(3,t,t.return),Rf(3,t)}catch(I){He(t,t.return,I)}try{tu(5,t,t.return)}catch(I){He(t,t.return,I)}}break;case 1:Fn(e,t),Yn(t),r&512&&n!==null&&Bo(n,n.return);break;case 5:if(Fn(e,t),Yn(t),r&512&&n!==null&&Bo(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(I){He(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ib(i,s),wg(a,o);var u=wg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Pb(i,d):h==="dangerouslySetInnerHTML"?bb(i,d):h==="children"?wu(i,d):Fv(i,h,d,u)}switch(a){case"input":mg(i,s);break;case"textarea":xb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(I){He(t,t.return,I)}}break;case 6:if(Fn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){He(t,t.return,I)}}break;case 3:if(Fn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(I){He(t,t.return,I)}break;case 4:Fn(e,t),Yn(t);break;case 13:Fn(e,t),Yn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(y_=Je())),r&4&&M1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||h,Fn(e,t),Rt=u):Fn(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(d=W=h;W!==null;){switch(f=W,g=f.child,f.tag){case 0:case 11:case 14:case 15:tu(4,f,f.return);break;case 1:Bo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(I){He(r,n,I)}}break;case 5:Bo(f,f.return);break;case 22:if(f.memoizedState!==null){F1(d);continue}}g!==null?(g.return=f,W=g):F1(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ab("display",o))}catch(I){He(t,t.return,I)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(I){He(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fn(e,t),Yn(t),r&4&&M1(t);break;case 21:break;default:Fn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eP(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=V1(t);Yg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=V1(t);Qg(t,a,o);break;default:throw Error(z(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qM(t,e,n){W=t,rP(t)}function rP(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=dh;var u=Rt;if(dh=o,(Rt=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?j1(i):l!==null?(l.return=o,W=l):j1(i);for(;s!==null;)W=s,rP(s),s=s.sibling;W=i,dh=a,Rt=u}L1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):L1(t)}}function L1(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&xu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Rt||e.flags&512&&Hg(e)}catch(f){He(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function F1(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function j1(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rf(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Hg(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Hg(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var WM=Math.ceil,Nd=Qr.ReactCurrentDispatcher,m_=Qr.ReactCurrentOwner,kn=Qr.ReactCurrentBatchConfig,fe=0,dt=null,nt=null,_t=0,cn=0,zo=Xi(0),ot=0,Vu=null,Bs=0,Cf=0,g_=0,nu=null,Jt=null,y_=0,ga=1/0,Tr=null,Dd=!1,Xg=null,Ci=null,fh=!1,Ti=null,Od=0,ru=0,Jg=null,Bh=-1,zh=0;function qt(){return fe&6?Je():Bh!==-1?Bh:Bh=Je()}function ki(t){return t.mode&1?fe&2&&_t!==0?_t&-_t:RM.transition!==null?(zh===0&&(zh=Ub()),zh):(t=we,t!==0||(t=window.event,t=t===void 0?16:Gb(t.type)),t):1}function Wn(t,e,n,r){if(50<ru)throw ru=0,Jg=null,Error(z(185));lc(t,n,r),(!(fe&2)||t!==dt)&&(t===dt&&(!(fe&2)&&(Cf|=n),ot===4&&pi(t,_t)),sn(t,r),n===1&&fe===0&&!(e.mode&1)&&(ga=Je()+500,bf&&Ji()))}function sn(t,e){var n=t.callbackNode;RV(t,e);var r=yd(t,t===dt?_t:0);if(r===0)n!==null&&HE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HE(n),e===1)t.tag===0?PM(U1.bind(null,t)):dA(U1.bind(null,t)),xM(function(){!(fe&6)&&Ji()}),n=null;else{switch(Bb(r)){case 1:n=$v;break;case 4:n=Fb;break;case 16:n=gd;break;case 536870912:n=jb;break;default:n=gd}n=hP(n,iP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iP(t,e){if(Bh=-1,zh=0,fe&6)throw Error(z(327));var n=t.callbackNode;if(ia()&&t.callbackNode!==n)return null;var r=yd(t,t===dt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vd(t,r);else{e=r;var i=fe;fe|=2;var s=oP();(dt!==t||_t!==e)&&(Tr=null,ga=Je()+500,Ps(t,e));do try{QM();break}catch(a){sP(t,a)}while(!0);n_(),Nd.current=s,fe=i,nt!==null?e=0:(dt=null,_t=0,e=ot)}if(e!==0){if(e===2&&(i=Sg(t),i!==0&&(r=i,e=Zg(t,i))),e===1)throw n=Vu,Ps(t,0),pi(t,r),sn(t,Je()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!GM(i)&&(e=Vd(t,r),e===2&&(s=Sg(t),s!==0&&(r=s,e=Zg(t,s))),e===1))throw n=Vu,Ps(t,0),pi(t,r),sn(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ds(t,Jt,Tr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=y_+500-Je(),10<e)){if(yd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dg(ds.bind(null,t,Jt,Tr),e);break}ds(t,Jt,Tr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WM(r/1960))-r,10<r){t.timeoutHandle=Dg(ds.bind(null,t,Jt,Tr),r);break}ds(t,Jt,Tr);break;case 5:ds(t,Jt,Tr);break;default:throw Error(z(329))}}}return sn(t,Je()),t.callbackNode===n?iP.bind(null,t):null}function Zg(t,e){var n=nu;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=Vd(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&ey(e)),t}function ey(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function GM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~g_,e&=~Cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function U1(t){if(fe&6)throw Error(z(327));ia();var e=yd(t,0);if(!(e&1))return sn(t,Je()),null;var n=Vd(t,e);if(t.tag!==0&&n===2){var r=Sg(t);r!==0&&(e=r,n=Zg(t,r))}if(n===1)throw n=Vu,Ps(t,0),pi(t,e),sn(t,Je()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,Jt,Tr),sn(t,Je()),null}function v_(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(ga=Je()+500,bf&&Ji())}}function zs(t){Ti!==null&&Ti.tag===0&&!(fe&6)&&ia();var e=fe;fe|=1;var n=kn.transition,r=we;try{if(kn.transition=null,we=1,t)return t()}finally{we=r,kn.transition=n,fe=e,!(fe&6)&&Ji()}}function __(){cn=zo.current,Re(zo)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IM(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Zv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:pa(),Re(nn),Re(Dt),l_();break;case 5:a_(r);break;case 4:pa();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:r_(r.type._context);break;case 22:case 23:__()}n=n.return}if(dt=t,nt=t=Ni(t.current,null),_t=cn=e,ot=0,Vu=null,g_=Cf=Bs=0,Jt=nu=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function sP(t,e){do{var n=nt;try{if(n_(),Fh.current=kd,Cd){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(Us=0,ct=st=Ue=null,eu=!1,Nu=0,m_.current=null,n===null||n.return===null){ot=1,Vu=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=A1(o);if(g!==null){g.flags&=-257,P1(g,o,a,s,e),g.mode&1&&b1(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var I=new Set;I.add(l),e.updateQueue=I}else v.add(l);break e}else{if(!(e&1)){b1(s,u,e),w_();break e}l=Error(z(426))}}else if(De&&a.mode&1){var S=A1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),P1(S,o,a,s,e),e_(ma(l,a));break e}}s=l=ma(l,a),ot!==4&&(ot=2),nu===null?nu=[s]:nu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=zA(s,l,e);_1(s,y);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ci===null||!Ci.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=$A(s,a,e);_1(s,C);break e}}s=s.return}while(s!==null)}lP(n)}catch(N){e=N,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function oP(){var t=Nd.current;return Nd.current=kd,t===null?kd:t}function w_(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Bs&268435455)&&!(Cf&268435455)||pi(dt,_t)}function Vd(t,e){var n=fe;fe|=2;var r=oP();(dt!==t||_t!==e)&&(Tr=null,Ps(t,e));do try{HM();break}catch(i){sP(t,i)}while(!0);if(n_(),fe=n,Nd.current=r,nt!==null)throw Error(z(261));return dt=null,_t=0,ot}function HM(){for(;nt!==null;)aP(nt)}function QM(){for(;nt!==null&&!wV();)aP(nt)}function aP(t){var e=cP(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?lP(t):nt=e,m_.current=null}function lP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zM(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,nt=null;return}}else if(n=BM(n,e,cn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ot===0&&(ot=5)}function ds(t,e,n){var r=we,i=kn.transition;try{kn.transition=null,we=1,YM(t,e,n,r)}finally{kn.transition=i,we=r}return null}function YM(t,e,n,r){do ia();while(Ti!==null);if(fe&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(CV(t,s),t===dt&&(nt=dt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fh||(fh=!0,hP(gd,function(){return ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=we;we=1;var a=fe;fe|=4,m_.current=null,KM(t,n),nP(n,t),gM(kg),vd=!!Cg,kg=Cg=null,t.current=n,qM(n),EV(),fe=a,we=o,kn.transition=s}else t.current=n;if(fh&&(fh=!1,Ti=t,Od=i),s=t.pendingLanes,s===0&&(Ci=null),xV(n.stateNode),sn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,t=Xg,Xg=null,t;return Od&1&&t.tag!==0&&ia(),s=t.pendingLanes,s&1?t===Jg?ru++:(ru=0,Jg=t):ru=0,Ji(),null}function ia(){if(Ti!==null){var t=Bb(Od),e=kn.transition,n=we;try{if(kn.transition=null,we=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,Od=0,fe&6)throw Error(z(331));var i=fe;for(fe|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:tu(8,h,s)}var d=h.child;if(d!==null)d.return=h,W=d;else for(;W!==null;){h=W;var f=h.sibling,g=h.return;if(ZA(h),h===u){W=null;break}if(f!==null){f.return=g,W=f;break}W=g}}}var v=s.alternate;if(v!==null){var I=v.child;if(I!==null){v.child=null;do{var S=I.sibling;I.sibling=null,I=S}while(I!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,W=y;break e}W=s.return}}var _=t.current;for(W=_;W!==null;){o=W;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,W=E;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rf(9,a)}}catch(N){He(a,a.return,N)}if(a===o){W=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,W=C;break e}W=a.return}}if(fe=i,Ji(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ef,t)}catch{}r=!0}return r}finally{we=n,kn.transition=e}}return!1}function B1(t,e,n){e=ma(n,e),e=zA(t,e,1),t=Ri(t,e,1),e=qt(),t!==null&&(lc(t,1,e),sn(t,e))}function He(t,e,n){if(t.tag===3)B1(t,t,n);else for(;e!==null;){if(e.tag===3){B1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=ma(n,t),t=$A(e,t,1),e=Ri(e,t,1),t=qt(),e!==null&&(lc(e,1,t),sn(e,t));break}}e=e.return}}function XM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(_t&n)===n&&(ot===4||ot===3&&(_t&130023424)===_t&&500>Je()-y_?Ps(t,0):g_|=n),sn(t,e)}function uP(t,e){e===0&&(t.mode&1?(e=rh,rh<<=1,!(rh&130023424)&&(rh=4194304)):e=1);var n=qt();t=Br(t,e),t!==null&&(lc(t,e,n),sn(t,n))}function JM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uP(t,n)}function ZM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),uP(t,n)}var cP;cP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,UM(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,De&&e.flags&1048576&&fA(e,Sd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uh(t,e),t=e.pendingProps;var i=ha(e,Dt.current);ra(e,n),i=c_(null,e,r,t,i,n);var s=h_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,Id(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s_(e),i.updater=Af,e.stateNode=i,i._reactInternals=e,Ug(e,r,t,n),e=$g(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Jv(e),Ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tL(r),t=Bn(r,t),i){case 0:e=zg(null,e,r,t,n);break e;case 1:e=k1(null,e,r,t,n);break e;case 11:e=R1(null,e,r,t,n);break e;case 14:e=C1(null,e,r,Bn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),k1(t,e,r,i,n);case 3:e:{if(GA(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yA(t,e),Pd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ma(Error(z(423)),e),e=N1(t,e,r,n,i);break e}else if(r!==i){i=ma(Error(z(424)),e),e=N1(t,e,r,n,i);break e}else for(hn=Pi(e.stateNode.containerInfo.firstChild),pn=e,De=!0,$n=null,n=EA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===i){e=zr(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return TA(e),t===null&&Lg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ng(r,i)?o=null:s!==null&&Ng(r,s)&&(e.flags|=32),WA(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&Lg(e),null;case 13:return HA(t,e,n);case 4:return o_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fa(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),R1(t,e,r,i,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(bd,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!nn.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ra(e,n),i=Dn(i),r=r(i),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,i=Bn(r,e.pendingProps),i=Bn(r.type,i),C1(t,e,r,i,n);case 15:return KA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Uh(t,e),e.tag=1,rn(r)?(t=!0,Id(e)):t=!1,ra(e,n),_A(e,r,i),Ug(e,r,i,n),$g(null,e,r,!0,t,n);case 19:return QA(t,e,n);case 22:return qA(t,e,n)}throw Error(z(156,e.tag))};function hP(t,e){return Lb(t,e)}function eL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new eL(t,e,n,r)}function E_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tL(t){if(typeof t=="function")return E_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uv)return 11;if(t===Bv)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $h(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")E_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case No:return Rs(n.children,i,s,e);case jv:o=8,i|=8;break;case cg:return t=Rn(12,n,e,i|2),t.elementType=cg,t.lanes=s,t;case hg:return t=Rn(13,n,e,i),t.elementType=hg,t.lanes=s,t;case dg:return t=Rn(19,n,e,i),t.elementType=dg,t.lanes=s,t;case wb:return kf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vb:o=10;break e;case _b:o=9;break e;case Uv:o=11;break e;case Bv:o=14;break e;case ci:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Rs(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function kf(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=wb,t.lanes=n,t.stateNode={isHidden:!1},t}function gm(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function ym(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xp(0),this.expirationTimes=Xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T_(t,e,n,r,i,s,o,a,l){return t=new nL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s_(s),t}function rL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dP(t){if(!t)return ji;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(rn(n))return hA(t,n,e)}return e}function fP(t,e,n,r,i,s,o,a,l){return t=T_(n,r,!0,t,i,s,o,a,l),t.context=dP(null),n=t.current,r=qt(),i=ki(n),s=Dr(r,i),s.callback=e??null,Ri(n,s,i),t.current.lanes=i,lc(t,i,r),sn(t,r),t}function Nf(t,e,n,r){var i=e.current,s=qt(),o=ki(i);return n=dP(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(i,e,o),t!==null&&(Wn(t,i,o,s),Lh(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function I_(t,e){z1(t,e),(t=t.alternate)&&z1(t,e)}function iL(){return null}var pP=typeof reportError=="function"?reportError:function(t){console.error(t)};function x_(t){this._internalRoot=t}Df.prototype.render=x_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Nf(t,e,null,null)};Df.prototype.unmount=x_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){Nf(null,t,null,null)}),e[Ur]=null}};function Df(t){this._internalRoot=t}Df.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&Wb(t)}};function S_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $1(){}function sL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Md(o);s.call(u)}}var o=fP(e,r,t,0,null,!1,!1,"",$1);return t._reactRootContainer=o,t[Ur]=o.current,Au(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Md(l);a.call(u)}}var l=T_(t,0,!1,null,null,!1,!1,"",$1);return t._reactRootContainer=l,t[Ur]=l.current,Au(t.nodeType===8?t.parentNode:t),zs(function(){Nf(e,l,n,r)}),l}function Vf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Md(o);a.call(l)}}Nf(e,o,t,i)}else o=sL(n,e,t,i,r);return Md(o)}zb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dl(e.pendingLanes);n!==0&&(Kv(e,n|1),sn(e,Je()),!(fe&6)&&(ga=Je()+500,Ji()))}break;case 13:zs(function(){var r=Br(t,1);if(r!==null){var i=qt();Wn(r,t,1,i)}}),I_(t,1)}};qv=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=qt();Wn(e,t,134217728,n)}I_(t,134217728)}};$b=function(t){if(t.tag===13){var e=ki(t),n=Br(t,e);if(n!==null){var r=qt();Wn(n,t,e,r)}I_(t,e)}};Kb=function(){return we};qb=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Tg=function(t,e,n){switch(e){case"input":if(mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sf(r);if(!i)throw Error(z(90));Tb(r),mg(r,i)}}}break;case"textarea":xb(t,n);break;case"select":e=n.value,e!=null&&Zo(t,!!n.multiple,e,!1)}};kb=v_;Nb=zs;var oL={usingClientEntryPoint:!1,Events:[cc,Mo,Sf,Rb,Cb,v_]},Tl={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aL={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vb(t),t===null?null:t.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Ef=ph.inject(aL),lr=ph}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S_(e))throw Error(z(200));return rL(t,e,null,n)};wn.createRoot=function(t,e){if(!S_(t))throw Error(z(299));var n=!1,r="",i=pP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T_(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,Au(t.nodeType===8?t.parentNode:t),new x_(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Vb(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return zs(t)};wn.hydrate=function(t,e,n){if(!Of(e))throw Error(z(200));return Vf(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!S_(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=pP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fP(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Df(e)};wn.render=function(t,e,n){if(!Of(e))throw Error(z(200));return Vf(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!Of(t))throw Error(z(40));return t._reactRootContainer?(zs(function(){Vf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};wn.unstable_batchedUpdates=v_;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Of(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Vf(t,e,n,!1,r)};wn.version="18.2.0-next-9e3b772b8-20220608";function mP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mP)}catch(t){console.error(t)}}mP(),fb.exports=wn;var gP=fb.exports;const $o=_f(gP);var K1=gP;lg.createRoot=K1.createRoot,lg.hydrateRoot=K1.hydrateRoot;var yP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yP);var lL=yP.exports;const Ze=_f(lL),uL=["xxl","xl","lg","md","sm","xs"],cL="xs",b_=k.createContext({prefixes:{},breakpoints:uL,minBreakpoint:cL});function Ot(t,e){const{prefixes:n}=k.useContext(b_);return t||n[e]||e}function vP(){const{breakpoints:t}=k.useContext(b_);return t}function _P(){const{minBreakpoint:t}=k.useContext(b_);return t}const A_=k.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Ot(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(n,{ref:s,...i,className:Ze(r,e?`${o}${a}`:o)})});A_.displayName="Container";var q1={exports:{}},ty={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,h,d){var f=u||"<<anonymous>>",g=d||l;if(a[l]==null)return o?new Error("Required "+h+" `"+g+"` was not specified "+("in `"+f+"`.")):null;for(var v=arguments.length,I=Array(v>6?v-6:0),S=6;S<v;S++)I[S-6]=arguments[S];return r.apply(void 0,[a,l,f,h,g].concat(I))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(ty,ty.exports);var hL=ty.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=hL,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var h=arguments.length,d=Array(h),f=0;f<h;f++)d[f]=arguments[f];var g=null;return a.forEach(function(v){if(g==null){var I=v.apply(void 0,d);I!=null&&(g=I)}}),g}return(0,r.default)(u)}t.exports=e.default})(q1,q1.exports);function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}function wP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function dL(t){var e=fL(t,"string");return typeof e=="symbol"?e:String(e)}function fL(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pL(t,e,n){var r=k.useRef(t!==void 0),i=k.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,k.useCallback(function(u){for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function EP(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[W1(r)],a=s[r],l=wP(s,[W1(r),r].map(dL)),u=e[r],h=pL(a,o,t[u]),d=h[0],f=h[1];return ny({},l,(i={},i[r]=d,i[u]=f,i))},t)}function ry(t,e){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ry(t,e)}function mL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ry(t,e)}var gL=Function.prototype.bind.call(Function.prototype.call,[].slice);function fs(t,e){return gL(t.querySelectorAll(e))}function yL(){const[,t]=k.useReducer(e=>!e,!1);return t}const G1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function vL(t,e){const n=G1(t),r=G1(e);return i=>{n&&n(i),r&&r(i)}}function dc(t,e){return k.useMemo(()=>vL(t,e),[t,e])}const P_=k.createContext(null);P_.displayName="NavContext";const Ld=k.createContext(null),R_=(t,e=null)=>t!=null?String(t):e||null,TP=k.createContext(null),_L="data-rr-ui-",wL="rrUi";function Mf(t){return`${_L}${t}`}function EL(t){return`${wL}${t}`}function TL(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t},[t]),e}function Pn(t){const e=TL(t);return k.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const IL=["as","disabled"];function xL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SL(t){return!t||t.trim()==="#"}function IP({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const h=f=>{if((e||t==="a"&&SL(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),h(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:d},u]}const xP=k.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=xL(t,IL);const[s,{tagName:o}]=IP(Object.assign({tagName:n,disabled:r},i));return b.jsx(o,Object.assign({},i,s,{ref:e}))});xP.displayName="Button";const bL=["as","active","eventKey"];function AL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SP({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=k.useContext(Ld),a=k.useContext(P_),l=k.useContext(TP);let u=n;const h={role:i};if(a){!i&&a.role==="tablist"&&(h.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);h[Mf("event-key")]=t,h.id=d||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=f)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Pn(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[h,{isActive:u}]}const bP=k.forwardRef((t,e)=>{let{as:n=xP,active:r,eventKey:i}=t,s=AL(t,bL);const[o,a]=SP(Object.assign({key:R_(i,s.href),active:r},s));return o[Mf("active")]=a.isActive,b.jsx(n,Object.assign({},s,o,{ref:e}))});bP.displayName="NavItem";const PL=["as","onSelect","activeKey","role","onKeyDown"];function RL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const H1=()=>{},Q1=Mf("event-key"),AP=k.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=RL(t,PL);const l=yL(),u=k.useRef(!1),h=k.useContext(Ld),d=k.useContext(TP);let f,g;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,g=d.getControllerId);const v=k.useRef(null),I=E=>{const C=v.current;if(!C)return null;const N=fs(C,`[${Q1}]:not([aria-disabled=true])`),O=C.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const T=N.indexOf(O);if(T===-1)return null;let w=T+E;return w>=N.length&&(w=0),w<0&&(w=N.length-1),N[w]},S=(E,C)=>{E!=null&&(r==null||r(E,C),h==null||h(E,C))},y=E=>{if(o==null||o(E),!d)return;let C;switch(E.key){case"ArrowLeft":case"ArrowUp":C=I(-1);break;case"ArrowRight":case"ArrowDown":C=I(1);break;default:return}C&&(E.preventDefault(),S(C.dataset[EL("EventKey")]||null,E),u.current=!0,l())};k.useEffect(()=>{if(v.current&&u.current){const E=v.current.querySelector(`[${Q1}][aria-selected=true]`);E==null||E.focus()}u.current=!1});const _=dc(e,v);return b.jsx(Ld.Provider,{value:S,children:b.jsx(P_.Provider,{value:{role:s,activeKey:R_(i),getControlledId:f||H1,getControllerId:g||H1},children:b.jsx(n,Object.assign({},a,{onKeyDown:y,ref:_,role:s}))})})});AP.displayName="Nav";const CL=Object.assign(AP,{Item:bP}),ro=k.createContext(null);ro.displayName="NavbarContext";const PP=k.createContext(null);PP.displayName="CardHeaderContext";const RP=k.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ot(e,"nav-item"),b.jsx(n,{ref:i,className:Ze(t,e),...r})));RP.displayName="NavItem";function kL(){const t=k.useRef(!0),e=k.useRef(()=>t.current);return k.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function NL(t){const e=k.useRef(null);return k.useEffect(()=>{e.current=t}),e.current}const DL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",OL=typeof document<"u",iy=OL||DL?k.useLayoutEffect:k.useEffect,VL=["onKeyDown"];function ML(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LL(t){return!t||t.trim()==="#"}const CP=k.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=ML(t,VL);const[i]=IP(Object.assign({tagName:"a"},r)),s=Pn(o=>{i.onKeyDown(o),n==null||n(o)});return LL(r.href)||r.role==="button"?b.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):b.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});CP.displayName="Anchor";const kP=k.forwardRef(({bsPrefix:t,className:e,as:n=CP,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=Ot(t,"nav-link");const[l,u]=SP({key:R_(i,o.href),active:r,disabled:s,...o});return b.jsx(n,{...o,...l,ref:a,disabled:s,className:Ze(e,t,s&&"disabled",u.isActive&&"active")})});kP.displayName="NavLink";const NP=k.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:u,activeKey:h,...d}=EP(t,{activeKey:"onSelect"}),f=Ot(r,"nav");let g,v,I=!1;const S=k.useContext(ro),y=k.useContext(PP);return S?(g=S.bsPrefix,I=a??!0):y&&({cardHeaderBsPrefix:v}=y),b.jsx(CL,{as:n,ref:e,activeKey:h,className:Ze(u,{[f]:!I,[`${g}-nav`]:I,[`${g}-nav-scroll`]:I&&l,[`${v}-${i}`]:!!v,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});NP.displayName="Nav";const Xn=Object.assign(NP,{Item:RP,Link:kP}),DP=k.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ot(t,"navbar-brand");const s=n||(r.href?"a":"span");return b.jsx(s,{...r,ref:i,className:Ze(e,t)})});DP.displayName="NavbarBrand";function C_(t){return t&&t.ownerDocument||document}function FL(t){var e=C_(t);return e&&e.defaultView||window}function jL(t,e){return FL(t).getComputedStyle(t,e)}var UL=/([A-Z])/g;function BL(t){return t.replace(UL,"-$1").toLowerCase()}var zL=/^ms-/;function mh(t){return BL(t).replace(zL,"-ms-")}var $L=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function KL(t){return!!(t&&$L.test(t))}function Or(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(mh(e))||jL(t).getPropertyValue(mh(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(mh(i)):KL(i)?r+=i+"("+s+") ":n+=mh(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var OP={exports:{}},qL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WL=qL,GL=WL;function VP(){}function MP(){}MP.resetWarningCache=VP;var HL=function(){function t(r,i,s,o,a,l){if(l!==GL){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MP,resetWarningCache:VP};return n.PropTypes=n,n};OP.exports=HL();var QL=OP.exports;const Z=_f(QL),Y1={disabled:!1},LP=Oe.createContext(null);var YL=function(e){return e.scrollTop},Vl="unmounted",di="exited",Kn="entering",Sr="entered",Mu="exiting",Yr=function(t){mL(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=di,s.appearStatus=Kn):l=Sr:r.unmountOnExit||r.mountOnEnter?l=Vl:l=di,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Vl?{status:di}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Kn&&o!==Sr&&(s=Kn):(o===Kn||o===Sr)&&(s=Mu)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Kn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:$o.findDOMNode(this);o&&YL(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===di&&this.setState({status:Vl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[$o.findDOMNode(this),a],u=l[0],h=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Y1.disabled){this.safeSetState({status:Sr},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:Kn},function(){s.props.onEntering(u,h),s.onTransitionEnd(f,function(){s.safeSetState({status:Sr},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:$o.findDOMNode(this);if(!s||Y1.disabled){this.safeSetState({status:di},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Mu},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:di},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:$o.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Vl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=wP(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Oe.createElement(LP.Provider,{value:null},typeof o=="function"?o(i,a):Oe.cloneElement(Oe.Children.only(o),a))},e}(Oe.Component);Yr.contextType=LP;Yr.propTypes={};function yo(){}Yr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yo,onEntering:yo,onEntered:yo,onExit:yo,onExiting:yo,onExited:yo};Yr.UNMOUNTED=Vl;Yr.EXITED=di;Yr.ENTERING=Kn;Yr.ENTERED=Sr;Yr.EXITING=Mu;const Lf=!!(typeof window<"u"&&window.document&&window.document.createElement);var sy=!1,oy=!1;try{var vm={get passive(){return sy=!0},get once(){return oy=sy=!0}};Lf&&(window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,!0))}catch{}function XL(t,e,n,r){if(r&&typeof r!="boolean"&&!oy){var i=r.once,s=r.capture,o=n;!oy&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,sy?r:s)}t.addEventListener(e,n,r)}function JL(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Fd(t,e,n,r){return XL(t,e,n,r),function(){JL(t,e,n,r)}}function ZL(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function e4(t){var e=Or(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function t4(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||ZL(t,"transitionend",!0)},e+n),s=Fd(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function n4(t,e,n,r){n==null&&(n=e4(t)||0);var i=t4(t,n,r),s=Fd(t,"transitionend",e);return function(){i(),s()}}function X1(t,e){const n=Or(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function k_(t,e){const n=X1(t,"transitionDuration"),r=X1(t,"transitionDelay"),i=n4(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Il(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function FP(t){t.offsetHeight}function r4(t){return t&&"setState"in t?$o.findDOMNode(t):t??null}const N_=Oe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},h)=>{const d=k.useRef(null),f=dc(d,l),g=O=>{f(r4(O))},v=O=>T=>{O&&d.current&&O(d.current,T)},I=k.useCallback(v(t),[t]),S=k.useCallback(v(e),[e]),y=k.useCallback(v(n),[n]),_=k.useCallback(v(r),[r]),E=k.useCallback(v(i),[i]),C=k.useCallback(v(s),[s]),N=k.useCallback(v(o),[o]);return b.jsx(Yr,{ref:h,...u,onEnter:I,onEntered:y,onEntering:S,onExit:_,onExited:C,onExiting:E,addEndListener:N,nodeRef:d,children:typeof a=="function"?(O,T)=>a(O,{...T,ref:g}):Oe.cloneElement(a,{ref:g})})}),i4={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function s4(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=i4[t];return r+parseInt(Or(e,i[0]),10)+parseInt(Or(e,i[1]),10)}const o4={[di]:"collapse",[Mu]:"collapsing",[Kn]:"collapsing",[Sr]:"collapse show"},a4=Oe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:h=!1,unmountOnExit:d=!1,appear:f=!1,getDimensionValue:g=s4,...v},I)=>{const S=typeof a=="function"?a():a,y=k.useMemo(()=>Il(O=>{O.style[S]="0"},t),[S,t]),_=k.useMemo(()=>Il(O=>{const T=`scroll${S[0].toUpperCase()}${S.slice(1)}`;O.style[S]=`${O[T]}px`},e),[S,e]),E=k.useMemo(()=>Il(O=>{O.style[S]=null},n),[S,n]),C=k.useMemo(()=>Il(O=>{O.style[S]=`${g(S,O)}px`,FP(O)},r),[r,g,S]),N=k.useMemo(()=>Il(O=>{O.style[S]=null},i),[S,i]);return b.jsx(N_,{ref:I,addEndListener:k_,...v,"aria-expanded":v.role?l:null,onEnter:y,onEntering:_,onEntered:E,onExit:C,onExiting:N,childRef:o.ref,in:l,timeout:u,mountOnEnter:h,unmountOnExit:d,appear:f,children:(O,T)=>Oe.cloneElement(o,{...T,className:Ze(s,o.props.className,o4[O],S==="width"&&"collapse-horizontal")})})}),jP=k.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ot(e,"navbar-collapse");const i=k.useContext(ro);return b.jsx(a4,{in:!!(i&&i.expanded),...n,children:b.jsx("div",{ref:r,className:e,children:t})})});jP.displayName="NavbarCollapse";const UP=k.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{t=Ot(t,"navbar-toggler");const{onToggle:l,expanded:u}=k.useContext(ro)||{},h=Pn(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),b.jsx(i,{...o,ref:a,onClick:h,"aria-label":r,className:Ze(e,t,!u&&"collapsed"),children:n||b.jsx("span",{className:`${t}-icon`})})});UP.displayName="NavbarToggle";const ay=new WeakMap,J1=(t,e)=>{if(!t||!e)return;const n=ay.get(e)||new Map;ay.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function l4(t,e=typeof window>"u"?void 0:window){const n=J1(t,e),[r,i]=k.useState(()=>n?n.matches:!1);return iy(()=>{let s=J1(t,e);if(!s)return i(!1);let o=ay.get(e);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function u4(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,u){let h;typeof a=="object"?(h=a,u=l,l=!0):(l=l||!0,h={[a]:l});let d=k.useMemo(()=>Object.entries(h).reduce((f,[g,v])=>((v==="up"||v===!0)&&(f=n(f,s(g))),(v==="down"||v===!0)&&(f=n(f,i(g))),f),""),[JSON.stringify(h)]);return l4(d,u)}return o}const c4=u4({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function _m(t){t===void 0&&(t=C_());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Z1(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function h4(t){const e=k.useRef(t);return e.current=t,e}function d4(t){const e=h4(t);k.useEffect(()=>()=>e.current(),[])}function f4(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const eT=Mf("modal-open");class D_{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return f4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Or(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(eT,""),Or(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(eT),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const BP=k.createContext(Lf?window:void 0);BP.Provider;function O_(){return k.useContext(BP)}const wm=(t,e)=>Lf?t==null?(e||C_()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function p4(t,e){const n=O_(),[r,i]=k.useState(()=>wm(t,n==null?void 0:n.document));if(!r){const s=wm(t);s&&i(s)}return k.useEffect(()=>{},[e,r]),k.useEffect(()=>{const s=wm(t);s!==r&&i(s)},[t,r]),r}function m4({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=k.useRef(null),o=k.useRef(e),a=Pn(n);k.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=dc(s,t.ref),u=k.cloneElement(t,{ref:l});return e?u:i||!o.current&&r?null:u}function g4(t){return t.code==="Escape"||t.keyCode===27}function y4(){const t=k.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const v4=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w4(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,u=_4(t,v4);const{major:h}=y4(),d=h>=19?l.props.ref:l.ref,f=k.useRef(null),g=dc(f,typeof l=="function"?null:d),v=O=>T=>{O&&f.current&&O(f.current,T)},I=k.useCallback(v(e),[e]),S=k.useCallback(v(n),[n]),y=k.useCallback(v(r),[r]),_=k.useCallback(v(i),[i]),E=k.useCallback(v(s),[s]),C=k.useCallback(v(o),[o]),N=k.useCallback(v(a),[a]);return Object.assign({},u,{nodeRef:f},e&&{onEnter:I},n&&{onEntering:S},r&&{onEntered:y},i&&{onExit:_},s&&{onExiting:E},o&&{onExited:C},a&&{addEndListener:N},{children:typeof l=="function"?(O,T)=>l(O,Object.assign({},T,{ref:g})):k.cloneElement(l,{ref:g})})}const E4=["component"];function T4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const I4=k.forwardRef((t,e)=>{let{component:n}=t,r=T4(t,E4);const i=w4(r);return b.jsx(n,Object.assign({ref:e},i))});function x4({in:t,onTransition:e}){const n=k.useRef(null),r=k.useRef(!0),i=Pn(e);return iy(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),iy(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function S4({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=k.useState(!e);e&&s&&o(!1);const a=x4({in:!!e,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(h,d=>{throw u.in||o(!0),d})}}),l=dc(a,t.ref);return s&&!e?null:k.cloneElement(t,{ref:l})}function tT(t,e,n){return t?b.jsx(I4,Object.assign({},n,{component:t})):e?b.jsx(S4,Object.assign({},n,{transition:e})):b.jsx(m4,Object.assign({},n))}const b4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function A4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Em;function P4(t){return Em||(Em=new D_({ownerDocument:t==null?void 0:t.document})),Em}function R4(t){const e=O_(),n=t||P4(e),r=k.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:k.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:k.useCallback(i=>{r.current.backdrop=i},[])})}const zP=k.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:g,runBackdropTransition:v,autoFocus:I=!0,enforceFocus:S=!0,restoreFocus:y=!0,restoreFocusOptions:_,renderDialog:E,renderBackdrop:C=Se=>b.jsx("div",Object.assign({},Se)),manager:N,container:O,onShow:T,onHide:w=()=>{},onExit:A,onExited:P,onExiting:D,onEnter:V,onEntering:R,onEntered:qe}=t,Vt=A4(t,b4);const ft=O_(),ae=p4(O),U=R4(N),G=kL(),X=NL(n),[he,ie]=k.useState(!n),me=k.useRef(null);k.useImperativeHandle(e,()=>U,[U]),Lf&&!X&&n&&(me.current=_m(ft==null?void 0:ft.document)),n&&he&&ie(!1);const it=Pn(()=>{if(U.add(),In.current=Fd(document,"keydown",_r),an.current=Fd(document,"focus",()=>setTimeout(Ye),!0),T&&T(),I){var Se,el;const tl=_m((Se=(el=U.dialog)==null?void 0:el.ownerDocument)!=null?Se:ft==null?void 0:ft.document);U.dialog&&tl&&!Z1(U.dialog,tl)&&(me.current=tl,U.dialog.focus())}}),ve=Pn(()=>{if(U.remove(),In.current==null||In.current(),an.current==null||an.current(),y){var Se;(Se=me.current)==null||Se.focus==null||Se.focus(_),me.current=null}});k.useEffect(()=>{!n||!ae||it()},[n,ae,it]),k.useEffect(()=>{he&&ve()},[he,ve]),d4(()=>{ve()});const Ye=Pn(()=>{if(!S||!G()||!U.isTopModal())return;const Se=_m(ft==null?void 0:ft.document);U.dialog&&Se&&!Z1(U.dialog,Se)&&U.dialog.focus()}),Et=Pn(Se=>{Se.target===Se.currentTarget&&(u==null||u(Se),a===!0&&w())}),_r=Pn(Se=>{l&&g4(Se)&&U.isTopModal()&&(h==null||h(Se),Se.defaultPrevented||w())}),an=k.useRef(),In=k.useRef(),Mn=(...Se)=>{ie(!0),P==null||P(...Se)};if(!ae)return null;const Mt=Object.assign({role:r,ref:U.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Vt,{style:s,className:i,tabIndex:-1});let is=E?E(Mt):b.jsx("div",Object.assign({},Mt,{children:k.cloneElement(o,{role:"document"})}));is=tT(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:D,onExited:Mn,onEnter:V,onEntering:R,onEntered:qe,children:is});let Zr=null;return a&&(Zr=C({ref:U.setBackdropRef,onClick:Et}),Zr=tT(g,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Zr})),b.jsx(b.Fragment,{children:$o.createPortal(b.jsxs(b.Fragment,{children:[Zr,is]}),ae)})});zP.displayName="Modal";const C4=Object.assign(zP,{Manager:D_}),k4={[Kn]:"show",[Sr]:"show"},$P=k.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=k.useCallback((l,u)=>{FP(l),r==null||r(l,u)},[r]);return b.jsx(N_,{ref:s,addEndListener:k_,...o,onEnter:a,childRef:e.ref,children:(l,u)=>k.cloneElement(e,{...u,className:Ze("fade",t,e.props.className,k4[l],n[l])})})});$P.displayName="Fade";const KP=k.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ot(e,"offcanvas-body"),b.jsx(n,{ref:i,className:Ze(t,e),...r})));KP.displayName="OffcanvasBody";const N4={[Kn]:"show",[Sr]:"show"},qP=k.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(t=Ot(t,"offcanvas"),b.jsx(N_,{ref:l,addEndListener:k_,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:n.ref,children:(u,h)=>k.cloneElement(n,{...h,className:Ze(e,n.props.className,(u===Kn||u===Mu)&&`${t}-toggling`,N4[u])})})));qP.displayName="OffcanvasToggling";const WP=k.createContext({onHide(){}}),D4={"aria-label":Z.string,onClick:Z.func,variant:Z.oneOf(["white"])},V_=k.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>b.jsx("button",{ref:i,type:"button",className:Ze("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));V_.displayName="CloseButton";V_.propTypes=D4;const O4=k.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=k.useContext(WP),l=Pn(()=>{a==null||a.onHide(),r==null||r()});return b.jsxs("div",{ref:o,...s,children:[i,n&&b.jsx(V_,{"aria-label":t,variant:e,onClick:l})]})}),GP=k.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Ot(t,"offcanvas-header"),b.jsx(O4,{ref:s,...i,className:Ze(e,t),closeLabel:n,closeButton:r})));GP.displayName="OffcanvasHeader";const V4=t=>k.forwardRef((e,n)=>b.jsx("div",{...e,ref:n,className:Ze(e.className,t)})),M4=V4("h5"),HP=k.forwardRef(({className:t,bsPrefix:e,as:n=M4,...r},i)=>(e=Ot(e,"offcanvas-title"),b.jsx(n,{ref:i,className:Ze(t,e),...r})));HP.displayName="OffcanvasTitle";function L4(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function F4(t,e){t.classList?t.classList.add(e):L4(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function nT(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function j4(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=nT(t.className,e):t.setAttribute("class",nT(t.className&&t.className.baseVal||"",e))}const vo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class QP extends D_{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Or(n,{[e]:`${parseFloat(Or(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Or(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(F4(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";fs(n,vo.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),fs(n,vo.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),fs(n,vo.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();j4(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";fs(n,vo.FIXED_CONTENT).forEach(s=>this.restore(r,s)),fs(n,vo.STICKY_CONTENT).forEach(s=>this.restore(i,s)),fs(n,vo.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Tm;function U4(t){return Tm||(Tm=new QP(t)),Tm}function B4(t){return b.jsx(qP,{...t})}function z4(t){return b.jsx($P,{...t})}const YP=k.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:h,onShow:d,onHide:f,container:g,autoFocus:v=!0,enforceFocus:I=!0,restoreFocus:S=!0,restoreFocusOptions:y,onEntered:_,onExit:E,onExiting:C,onEnter:N,onEntering:O,onExited:T,backdropClassName:w,manager:A,renderStaticNode:P=!1,...D},V)=>{const R=k.useRef();t=Ot(t,"offcanvas");const{onToggle:qe}=k.useContext(ro)||{},[Vt,ft]=k.useState(!1),ae=c4(s||"xs","up");k.useEffect(()=>{ft(s?o&&!ae:o)},[o,s,ae]);const U=Pn(()=>{qe==null||qe(),f==null||f()}),G=k.useMemo(()=>({onHide:U}),[U]);function X(){return A||(u?(R.current||(R.current=new QP({handleContainerOverflow:!1})),R.current):U4())}const he=(ve,...Ye)=>{ve&&(ve.style.visibility="visible"),N==null||N(ve,...Ye)},ie=(ve,...Ye)=>{ve&&(ve.style.visibility=""),T==null||T(...Ye)},me=k.useCallback(ve=>b.jsx("div",{...ve,className:Ze(`${t}-backdrop`,w)}),[w,t]),it=ve=>b.jsx("div",{...ve,...D,className:Ze(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return b.jsxs(b.Fragment,{children:[!Vt&&(s||P)&&it({}),b.jsx(WP.Provider,{value:G,children:b.jsx(C4,{show:Vt,ref:V,backdrop:a,container:g,keyboard:l,autoFocus:v,enforceFocus:I&&!u,restoreFocus:S,restoreFocusOptions:y,onEscapeKeyDown:h,onShow:d,onHide:U,onEnter:he,onEntering:O,onEntered:_,onExit:E,onExiting:C,onExited:ie,manager:X(),transition:B4,backdropTransition:z4,renderBackdrop:me,renderDialog:it})})]})});YP.displayName="Offcanvas";const $4=Object.assign(YP,{Body:KP,Header:GP,Title:HP}),XP=k.forwardRef((t,e)=>{const n=k.useContext(ro);return b.jsx($4,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});XP.displayName="NavbarOffcanvas";const JP=k.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ot(e,"navbar-text"),b.jsx(n,{ref:i,className:Ze(t,e),...r})));JP.displayName="NavbarText";const ZP=k.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:h,onToggle:d,onSelect:f,collapseOnSelect:g=!1,...v}=EP(t,{expanded:"onToggle"}),I=Ot(n,"navbar"),S=k.useCallback((...E)=>{f==null||f(...E),g&&h&&(d==null||d(!1))},[f,g,h,d]);v.role===void 0&&u!=="nav"&&(v.role="navigation");let y=`${I}-expand`;typeof r=="string"&&(y=`${y}-${r}`);const _=k.useMemo(()=>({onToggle:()=>d==null?void 0:d(!h),bsPrefix:I,expanded:!!h,expand:r}),[I,h,r,d]);return b.jsx(ro.Provider,{value:_,children:b.jsx(Ld.Provider,{value:S,children:b.jsx(u,{ref:e,...v,className:Ze(l,I,r&&y,i&&`${I}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});ZP.displayName="Navbar";const gh=Object.assign(ZP,{Brand:DP,Collapse:jP,Offcanvas:XP,Text:JP,Toggle:UP});var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new q4;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W4=function(t){const e=eR(t);return tR.encodeByteArray(e,!0)},jd=function(t){return W4(t).replace(/\./g,"")},nR=function(t){try{return tR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=()=>G4().__FIREBASE_DEFAULTS__,Q4=()=>{if(typeof process>"u"||typeof rT>"u")return;const t=rT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nR(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return H4()||Q4()||Y4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rR=t=>{var e,n;return(n=(e=Ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},X4=t=>{const e=rR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iR=()=>{var t;return(t=Ff())===null||t===void 0?void 0:t.config},sR=t=>{var e;return(e=Ff())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jd(JSON.stringify(n)),jd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function tF(){var t;const e=(t=Ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sF(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oR(){return!tF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aR(){try{return typeof indexedDB=="object"}catch{return!1}}function oF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aF,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vr(i,a,r)}}function lF(t,e){return t.replace(uF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uF=/\{\$([^}]+)}/g;function cF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iT(s)&&iT(o)){if(!Lu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hF(t,e){const n=new dF(t,e);return n.subscribe.bind(n)}class dF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class Ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new J4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gF(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mF(t){return t===ps?void 0:t}function gF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const vF={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},_F=le.INFO,wF={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},EF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=_F,this._logHandler=EF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const TF=(t,e)=>e.some(n=>t instanceof n);let sT,oT;function IF(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xF(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lR=new WeakMap,ly=new WeakMap,uR=new WeakMap,xm=new WeakMap,L_=new WeakMap;function SF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lR.set(n,t)}).catch(()=>{}),L_.set(e,t),e}function bF(t){if(ly.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ly.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AF(t){uy=t(uy)}function PF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sm(this),e,...n);return uR.set(r,e.sort?e.sort():[e]),Di(r)}:xF().includes(t)?function(...e){return t.apply(Sm(this),e),Di(lR.get(this))}:function(...e){return Di(t.apply(Sm(this),e))}}function RF(t){return typeof t=="function"?PF(t):(t instanceof IDBTransaction&&bF(t),TF(t,IF())?new Proxy(t,uy):t)}function Di(t){if(t instanceof IDBRequest)return SF(t);if(xm.has(t))return xm.get(t);const e=RF(t);return e!==t&&(xm.set(t,e),L_.set(e,t)),e}const Sm=t=>L_.get(t);function CF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const kF=["get","getKey","getAll","getAllKeys","count"],NF=["put","add","delete","clear"],bm=new Map;function aT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return bm.set(e,s),s}AF(t=>({...t,get:(e,n,r)=>aT(e,n)||t.get(e,n,r),has:(e,n)=>!!aT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",lT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new M_("@firebase/app"),VF="@firebase/app-compat",MF="@firebase/analytics-compat",LF="@firebase/analytics",FF="@firebase/app-check-compat",jF="@firebase/app-check",UF="@firebase/auth",BF="@firebase/auth-compat",zF="@firebase/database",$F="@firebase/data-connect",KF="@firebase/database-compat",qF="@firebase/functions",WF="@firebase/functions-compat",GF="@firebase/installations",HF="@firebase/installations-compat",QF="@firebase/messaging",YF="@firebase/messaging-compat",XF="@firebase/performance",JF="@firebase/performance-compat",ZF="@firebase/remote-config",ej="@firebase/remote-config-compat",tj="@firebase/storage",nj="@firebase/storage-compat",rj="@firebase/firestore",ij="@firebase/vertexai-preview",sj="@firebase/firestore-compat",oj="firebase",aj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",lj={[cy]:"fire-core",[VF]:"fire-core-compat",[LF]:"fire-analytics",[MF]:"fire-analytics-compat",[jF]:"fire-app-check",[FF]:"fire-app-check-compat",[UF]:"fire-auth",[BF]:"fire-auth-compat",[zF]:"fire-rtdb",[$F]:"fire-data-connect",[KF]:"fire-rtdb-compat",[qF]:"fire-fn",[WF]:"fire-fn-compat",[GF]:"fire-iid",[HF]:"fire-iid-compat",[QF]:"fire-fcm",[YF]:"fire-fcm-compat",[XF]:"fire-perf",[JF]:"fire-perf-compat",[ZF]:"fire-rc",[ej]:"fire-rc-compat",[tj]:"fire-gcs",[nj]:"fire-gcs-compat",[rj]:"fire-fst",[sj]:"fire-fst-compat",[ij]:"fire-vertex","fire-js":"fire-js",[oj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,uj=new Map,dy=new Map;function uT(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(dy.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of Ud.values())uT(n,t);for(const n of uj.values())uT(n,t);return!0}function jf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new fc("app","Firebase",cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=aj;function cR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=iR()),!n)throw Oi.create("no-options");const s=Ud.get(i);if(s){if(Lu(n,s.options)&&Lu(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}const o=new yF(i);for(const l of dy.values())o.addComponent(l);const a=new hj(n,r,o);return Ud.set(i,a),a}function hR(t=hy){const e=Ud.get(t);if(!e&&t===hy&&iR())return cR();if(!e)throw Oi.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let i=(r=lj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}$s(new Ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="firebase-heartbeat-database",fj=1,Fu="firebase-heartbeat-store";let Am=null;function dR(){return Am||(Am=CF(dj,fj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),Am}async function pj(t){try{const n=(await dR()).transaction(Fu),r=await n.objectStore(Fu).get(fR(t));return await n.done,r}catch(e){if(e instanceof vr)$r.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function cT(t,e){try{const r=(await dR()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,fR(t)),await r.done}catch(n){if(n instanceof vr)$r.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function fR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=1024,gj=30*24*60*60*1e3;class yj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _j(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hT(),{heartbeatsToSend:r,unsentEntries:i}=vj(this._heartbeatsCache.heartbeats),s=jd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $r.warn(n),""}}}function hT(){return new Date().toISOString().substring(0,10)}function vj(t,e=mj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aR()?oF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dT(t){return jd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){$s(new Ui("platform-logger",e=>new DF(e),"PRIVATE")),$s(new Ui("heartbeat",e=>new yj(e),"PRIVATE")),cr(cy,lT,t),cr(cy,lT,"esm2017"),cr("fire-js","")}wj("");var Ej="firebase",Tj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(Ej,Tj,"app");var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,pR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function A(){}A.prototype=w.prototype,T.D=w.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(P,D,V){for(var R=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)R[qe-2]=arguments[qe];return w.prototype[D].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,A){A||(A=0);var P=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)P[D]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(D=0;16>D;++D)P[D]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=T.g[0],A=T.g[1],D=T.g[2];var V=T.g[3],R=w+(V^A&(D^V))+P[0]+3614090360&4294967295;w=A+(R<<7&4294967295|R>>>25),R=V+(D^w&(A^D))+P[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(A^V&(w^A))+P[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(w^D&(V^w))+P[3]+3250441966&4294967295,A=D+(R<<22&4294967295|R>>>10),R=w+(V^A&(D^V))+P[4]+4118548399&4294967295,w=A+(R<<7&4294967295|R>>>25),R=V+(D^w&(A^D))+P[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(A^V&(w^A))+P[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(w^D&(V^w))+P[7]+4249261313&4294967295,A=D+(R<<22&4294967295|R>>>10),R=w+(V^A&(D^V))+P[8]+1770035416&4294967295,w=A+(R<<7&4294967295|R>>>25),R=V+(D^w&(A^D))+P[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(A^V&(w^A))+P[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(w^D&(V^w))+P[11]+2304563134&4294967295,A=D+(R<<22&4294967295|R>>>10),R=w+(V^A&(D^V))+P[12]+1804603682&4294967295,w=A+(R<<7&4294967295|R>>>25),R=V+(D^w&(A^D))+P[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=D+(A^V&(w^A))+P[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=A+(w^D&(V^w))+P[15]+1236535329&4294967295,A=D+(R<<22&4294967295|R>>>10),R=w+(D^V&(A^D))+P[1]+4129170786&4294967295,w=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(w^A))+P[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^A&(V^w))+P[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^w&(D^V))+P[0]+3921069994&4294967295,A=D+(R<<20&4294967295|R>>>12),R=w+(D^V&(A^D))+P[5]+3593408605&4294967295,w=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(w^A))+P[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^A&(V^w))+P[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^w&(D^V))+P[4]+3889429448&4294967295,A=D+(R<<20&4294967295|R>>>12),R=w+(D^V&(A^D))+P[9]+568446438&4294967295,w=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(w^A))+P[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^A&(V^w))+P[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^w&(D^V))+P[8]+1163531501&4294967295,A=D+(R<<20&4294967295|R>>>12),R=w+(D^V&(A^D))+P[13]+2850285829&4294967295,w=A+(R<<5&4294967295|R>>>27),R=V+(A^D&(w^A))+P[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=D+(w^A&(V^w))+P[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=A+(V^w&(D^V))+P[12]+2368359562&4294967295,A=D+(R<<20&4294967295|R>>>12),R=w+(A^D^V)+P[5]+4294588738&4294967295,w=A+(R<<4&4294967295|R>>>28),R=V+(w^A^D)+P[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^A)+P[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^w)+P[14]+4259657740&4294967295,A=D+(R<<23&4294967295|R>>>9),R=w+(A^D^V)+P[1]+2763975236&4294967295,w=A+(R<<4&4294967295|R>>>28),R=V+(w^A^D)+P[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^A)+P[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^w)+P[10]+3200236656&4294967295,A=D+(R<<23&4294967295|R>>>9),R=w+(A^D^V)+P[13]+681279174&4294967295,w=A+(R<<4&4294967295|R>>>28),R=V+(w^A^D)+P[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^A)+P[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^w)+P[6]+76029189&4294967295,A=D+(R<<23&4294967295|R>>>9),R=w+(A^D^V)+P[9]+3654602809&4294967295,w=A+(R<<4&4294967295|R>>>28),R=V+(w^A^D)+P[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=D+(V^w^A)+P[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=A+(D^V^w)+P[2]+3299628645&4294967295,A=D+(R<<23&4294967295|R>>>9),R=w+(D^(A|~V))+P[0]+4096336452&4294967295,w=A+(R<<6&4294967295|R>>>26),R=V+(A^(w|~D))+P[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~A))+P[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~w))+P[5]+4237533241&4294967295,A=D+(R<<21&4294967295|R>>>11),R=w+(D^(A|~V))+P[12]+1700485571&4294967295,w=A+(R<<6&4294967295|R>>>26),R=V+(A^(w|~D))+P[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~A))+P[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~w))+P[1]+2240044497&4294967295,A=D+(R<<21&4294967295|R>>>11),R=w+(D^(A|~V))+P[8]+1873313359&4294967295,w=A+(R<<6&4294967295|R>>>26),R=V+(A^(w|~D))+P[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~A))+P[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~w))+P[13]+1309151649&4294967295,A=D+(R<<21&4294967295|R>>>11),R=w+(D^(A|~V))+P[4]+4149444226&4294967295,w=A+(R<<6&4294967295|R>>>26),R=V+(A^(w|~D))+P[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=D+(w^(V|~A))+P[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=A+(V^(D|~w))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+V&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var A=w-this.blockSize,P=this.B,D=this.h,V=0;V<w;){if(D==0)for(;V<=A;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<w;)if(P[D++]=T.charCodeAt(V++),D==this.blockSize){i(this,P),D=0;break}}else for(;V<w;)if(P[D++]=T[V++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var A=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=A&255,A/=256;for(this.u(T),T=Array(16),w=A=0;4>w;++w)for(var P=0;32>P;P+=8)T[A++]=this.g[w]>>>P&255;return T};function s(T,w){var A=a;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=w(T)}function o(T,w){this.h=w;for(var A=[],P=!0,D=T.length-1;0<=D;D--){var V=T[D]|0;P&&V==w||(A[D]=V,P=!1)}this.g=A}var a={};function l(T){return-128<=T&&128>T?s(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return S(u(-T));for(var w=[],A=1,P=0;T>=A;P++)w[P]=T/A|0,A*=4294967296;return new o(w,0)}function h(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return S(h(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(w,8)),P=d,D=0;D<T.length;D+=8){var V=Math.min(8,T.length-D),R=parseInt(T.substring(D,D+V),w);8>V?(V=u(Math.pow(w,V)),P=P.j(V).add(u(R))):(P=P.j(A),P=P.add(u(R)))}return P}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-S(this).m();for(var T=0,w=1,A=0;A<this.g.length;A++){var P=this.i(A);T+=(0<=P?P:4294967296+P)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(I(this))return"-"+S(this).toString(T);for(var w=u(Math.pow(T,6)),A=this,P="";;){var D=C(A,w).g;A=y(A,D.j(w));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=D,v(A))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=y(this,T),I(T)?-1:v(T)?0:1};function S(T){for(var w=T.g.length,A=[],P=0;P<w;P++)A[P]=~T.g[P];return new o(A,~T.h).add(f)}t.abs=function(){return I(this)?S(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],P=0,D=0;D<=w;D++){var V=P+(this.i(D)&65535)+(T.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);P=R>>>16,V&=65535,R&=65535,A[D]=R<<16|V}return new o(A,A[A.length-1]&-2147483648?-1:0)};function y(T,w){return T.add(S(w))}t.j=function(T){if(v(this)||v(T))return d;if(I(this))return I(T)?S(this).j(S(T)):S(S(this).j(T));if(I(T))return S(this.j(S(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var w=this.g.length+T.g.length,A=[],P=0;P<2*w;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<T.g.length;D++){var V=this.i(P)>>>16,R=this.i(P)&65535,qe=T.i(D)>>>16,Vt=T.i(D)&65535;A[2*P+2*D]+=R*Vt,_(A,2*P+2*D),A[2*P+2*D+1]+=V*Vt,_(A,2*P+2*D+1),A[2*P+2*D+1]+=R*qe,_(A,2*P+2*D+1),A[2*P+2*D+2]+=V*qe,_(A,2*P+2*D+2)}for(P=0;P<w;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=w;P<2*w;P++)A[P]=0;return new o(A,0)};function _(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function E(T,w){this.g=T,this.h=w}function C(T,w){if(v(w))throw Error("division by zero");if(v(T))return new E(d,d);if(I(T))return w=C(S(T),w),new E(S(w.g),S(w.h));if(I(w))return w=C(T,S(w)),new E(S(w.g),w.h);if(30<T.g.length){if(I(T)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var A=f,P=w;0>=P.l(T);)A=N(A),P=N(P);var D=O(A,1),V=O(P,1);for(P=O(P,2),A=O(A,2);!v(P);){var R=V.add(P);0>=R.l(T)&&(D=D.add(A),V=R),P=O(P,1),A=O(A,1)}return w=y(T,D.j(w)),new E(D,w)}for(D=d;0<=T.l(w);){for(A=Math.max(1,Math.floor(T.m()/w.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=u(A),R=V.j(w);I(R)||0<R.l(T);)A-=P,V=u(A),R=V.j(w);v(V)&&(V=f),D=D.add(V),T=y(T,R)}return new E(D,T)}t.A=function(T){return C(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],P=0;P<w;P++)A[P]=this.i(P)&T.i(P);return new o(A,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],P=0;P<w;P++)A[P]=this.i(P)|T.i(P);return new o(A,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],P=0;P<w;P++)A[P]=this.i(P)^T.i(P);return new o(A,this.h^T.h)};function N(T){for(var w=T.g.length+1,A=[],P=0;P<w;P++)A[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(A,T.h)}function O(T,w){var A=w>>5;w%=32;for(var P=T.g.length-A,D=[],V=0;V<P;V++)D[V]=0<w?T.i(V+A)>>>w|T.i(V+A+1)<<32-w:T.i(V+A);return new o(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Cs=o}).apply(typeof fT<"u"?fT:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mR,Fl,gR,Kh,fy,yR,vR,_R;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,m){return c==Array.prototype||c==Object.prototype||(c[p]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var p=0;p<c.length;++p){var m=c[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var m=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var M=c[x];if(!(M in m))break e;m=m[M]}c=c[c.length-1],x=m[c],p=p(x),p!=x&&p!=null&&e(m,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var m=0,x=!1,M={next:function(){if(!x&&m<c.length){var F=m++;return{value:p(F,c[F]),done:!1}}return x=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,m){return c.call.apply(c.bind,arguments)}function d(c,p,m){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,x),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(c,p){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function v(c,p){function m(){}m.prototype=p.prototype,c.aa=p.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(x,M,F){for(var $=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)$[Te-2]=arguments[Te];return p.prototype[M].apply(x,$)}}function I(c){const p=c.length;if(0<p){const m=Array(p);for(let x=0;x<p;x++)m[x]=c[x];return m}return[]}function S(c,p){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(l(x)){const M=c.length||0,F=x.length||0;c.length=M+F;for(let $=0;$<F;$++)c[M+$]=x[$]}else c.push(x)}}class y{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function C(c){return C[" "](c),c}C[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(c,p,m){for(const x in c)p.call(m,c[x],x,c)}function T(c,p){for(const m in c)p.call(void 0,c[m],m,c)}function w(c){const p={};for(const m in c)p[m]=c[m];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let m,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(m in x)c[m]=x[m];for(let F=0;F<A.length;F++)m=A[F],Object.prototype.hasOwnProperty.call(x,m)&&(c[m]=x[m])}}function D(c){var p=1;c=c.split(":");const m=[];for(;0<p&&c.length;)m.push(c.shift()),p--;return c.length&&m.push(c.join(":")),m}function V(c){a.setTimeout(()=>{throw c},0)}function R(){var c=G;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class qe{constructor(){this.h=this.g=null}add(p,m){const x=Vt.get();x.set(p,m),this.h?this.h.next=x:this.g=x,this.h=x}}var Vt=new y(()=>new ft,c=>c.reset());class ft{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,U=!1,G=new qe,X=()=>{const c=a.Promise.resolve(void 0);ae=()=>{c.then(he)}};var he=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(m){V(m)}var p=Vt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}U=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return c}();function ve(c,p){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(N){e:{try{C(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else m=="mouseover"?p=c.fromElement:m=="mouseout"&&(p=c.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}v(ve,me);var Ye={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),_r=0;function an(c,p,m,x,M){this.listener=c,this.proxy=null,this.src=p,this.type=m,this.capture=!!x,this.ha=M,this.key=++_r,this.da=this.fa=!1}function In(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mn(c){this.src=c,this.g={},this.h=0}Mn.prototype.add=function(c,p,m,x,M){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var $=is(c,p,x,M);return-1<$?(p=c[$],m||(p.fa=!1)):(p=new an(p,this.src,F,!!x,M),p.fa=m,c.push(p)),p};function Mt(c,p){var m=p.type;if(m in c.g){var x=c.g[m],M=Array.prototype.indexOf.call(x,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(x,M,1),F&&(In(p),c.g[m].length==0&&(delete c.g[m],c.h--))}}function is(c,p,m,x){for(var M=0;M<c.length;++M){var F=c[M];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==x)return M}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),Se={};function el(c,p,m,x,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)el(c,p[F],m,x,M);return null}return m=Uw(m),c&&c[Et]?c.K(p,m,u(x)?!!x.capture:!!x,M):tl(c,p,m,!1,x,M)}function tl(c,p,m,x,M,F){if(!p)throw Error("Invalid event type");var $=u(M)?!!M.capture:!!M,Te=Pp(c);if(Te||(c[Zr]=Te=new Mn(c)),m=Te.add(p,m,x,$,F),m.proxy)return m;if(x=cO(),m.proxy=x,x.src=c,x.listener=m,c.addEventListener)it||(M=$),M===void 0&&(M=!1),c.addEventListener(p.toString(),x,M);else if(c.attachEvent)c.attachEvent(jw(p.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function cO(){function c(m){return p.call(c.src,c.listener,m)}const p=hO;return c}function Fw(c,p,m,x,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)Fw(c,p[F],m,x,M);else x=u(x)?!!x.capture:!!x,m=Uw(m),c&&c[Et]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],m=is(F,m,x,M),-1<m&&(In(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Pp(c))&&(p=c.g[p.toString()],c=-1,p&&(c=is(p,m,x,M)),(m=-1<c?p[c]:null)&&Ap(m))}function Ap(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Et])Mt(p.i,c);else{var m=c.type,x=c.proxy;p.removeEventListener?p.removeEventListener(m,x,c.capture):p.detachEvent?p.detachEvent(jw(m),x):p.addListener&&p.removeListener&&p.removeListener(x),(m=Pp(p))?(Mt(m,c),m.h==0&&(m.src=null,p[Zr]=null)):In(c)}}}function jw(c){return c in Se?Se[c]:Se[c]="on"+c}function hO(c,p){if(c.da)c=!0;else{p=new ve(p,this);var m=c.listener,x=c.ha||c.src;c.fa&&Ap(c),c=m.call(x,p)}return c}function Pp(c){return c=c[Zr],c instanceof Mn?c:null}var Rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uw(c){return typeof c=="function"?c:(c[Rp]||(c[Rp]=function(p){return c.handleEvent(p)}),c[Rp])}function Tt(){ie.call(this),this.i=new Mn(this),this.M=this,this.F=null}v(Tt,ie),Tt.prototype[Et]=!0,Tt.prototype.removeEventListener=function(c,p,m,x){Fw(this,c,p,m,x)};function Lt(c,p){var m,x=c.F;if(x)for(m=[];x;x=x.F)m.push(x);if(c=c.M,x=p.type||p,typeof p=="string")p=new me(p,c);else if(p instanceof me)p.target=p.target||c;else{var M=p;p=new me(x,c),P(p,M)}if(M=!0,m)for(var F=m.length-1;0<=F;F--){var $=p.g=m[F];M=Mc($,x,!0,p)&&M}if($=p.g=c,M=Mc($,x,!0,p)&&M,M=Mc($,x,!1,p)&&M,m)for(F=0;F<m.length;F++)$=p.g=m[F],M=Mc($,x,!1,p)&&M}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var m=c.g[p],x=0;x<m.length;x++)In(m[x]);delete c.g[p],c.h--}}this.F=null},Tt.prototype.K=function(c,p,m,x){return this.i.add(String(c),p,!1,m,x)},Tt.prototype.L=function(c,p,m,x){return this.i.add(String(c),p,!0,m,x)};function Mc(c,p,m,x){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var $=p[F];if($&&!$.da&&$.capture==m){var Te=$.listener,pt=$.ha||$.src;$.fa&&Mt(c.i,$),M=Te.call(pt,x)!==!1&&M}}return M&&!x.defaultPrevented}function Bw(c,p,m){if(typeof c=="function")m&&(c=f(c,m));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function zw(c){c.g=Bw(()=>{c.g=null,c.i&&(c.i=!1,zw(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class dO extends ie{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:zw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nl(c){ie.call(this),this.h=c,this.g={}}v(nl,ie);var $w=[];function Kw(c){O(c.g,function(p,m){this.g.hasOwnProperty(m)&&Ap(p)},c),c.g={}}nl.prototype.N=function(){nl.aa.N.call(this),Kw(this)},nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cp=a.JSON.stringify,fO=a.JSON.parse,pO=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function kp(){}kp.prototype.h=null;function qw(c){return c.h||(c.h=c.i())}function Ww(){}var rl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Np(){me.call(this,"d")}v(Np,me);function Dp(){me.call(this,"c")}v(Dp,me);var ss={},Gw=null;function Lc(){return Gw=Gw||new Tt}ss.La="serverreachability";function Hw(c){me.call(this,ss.La,c)}v(Hw,me);function il(c){const p=Lc();Lt(p,new Hw(p))}ss.STAT_EVENT="statevent";function Qw(c,p){me.call(this,ss.STAT_EVENT,c),this.stat=p}v(Qw,me);function Ft(c){const p=Lc();Lt(p,new Qw(p,c))}ss.Ma="timingevent";function Yw(c,p){me.call(this,ss.Ma,c),this.size=p}v(Yw,me);function sl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ol(){this.g=!0}ol.prototype.xa=function(){this.g=!1};function mO(c,p,m,x,M,F){c.info(function(){if(c.g)if(F)for(var $="",Te=F.split("&"),pt=0;pt<Te.length;pt++){var pe=Te[pt].split("=");if(1<pe.length){var It=pe[0];pe=pe[1];var xt=It.split("_");$=2<=xt.length&&xt[1]=="type"?$+(It+"="+pe+"&"):$+(It+"=redacted&")}}else $=null;else $=F;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+p+`
`+m+`
`+$})}function gO(c,p,m,x,M,F,$){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+p+`
`+m+`
`+F+" "+$})}function ho(c,p,m,x){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+vO(c,m)+(x?" "+x:"")})}function yO(c,p){c.info(function(){return"TIMEOUT: "+p})}ol.prototype.info=function(){};function vO(c,p){if(!c.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var x=m[c];if(!(2>x.length)){var M=x[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var $=1;$<M.length;$++)M[$]=""}}}}return Cp(m)}catch{return p}}var Fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Op;function jc(){}v(jc,kp),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},Op=new jc;function ei(c,p,m,x){this.j=c,this.i=p,this.l=m,this.R=x||1,this.U=new nl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jw}function Jw(){this.i=null,this.g="",this.h=!1}var Zw={},Vp={};function Mp(c,p,m){c.L=1,c.v=$c(wr(p)),c.m=m,c.P=!0,eE(c,null)}function eE(c,p){c.F=Date.now(),Uc(c),c.A=wr(c.v);var m=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),pE(m.i,"t",x),c.C=0,m=c.j.J,c.h=new Jw,c.g=NE(c.j,m?p:null,!c.m),0<c.O&&(c.M=new dO(f(c.Y,c,c.g),c.O)),p=c.U,m=c.g,x=c.ca;var M="readystatechange";Array.isArray(M)||(M&&($w[0]=M.toString()),M=$w);for(var F=0;F<M.length;F++){var $=el(m,M[F],x||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),il(),mO(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const p=this.M;p&&Er(c)==3?p.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Er(this.g);var p=this.g.Ba();const mo=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||EE(this.g)))){this.J||xt!=4||p==7||(p==8||0>=mo?il(3):il(2)),Lp(this);var m=this.g.Z();this.X=m;t:if(tE(this)){var x=EE(this.g);c="";var M=x.length,F=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),al(this);var $="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(x[p],{stream:!(F&&p==M-1)});x.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,gO(this.i,this.u,this.A,this.l,this.R,xt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,pt=this.g;if((Te=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Te)){var pe=Te;break t}}pe=null}if(m=pe)ho(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fp(this,m);else{this.o=!1,this.s=3,Ft(12),os(this),al(this);break e}}if(this.P){m=!0;let Ln;for(;!this.J&&this.C<$.length;)if(Ln=_O(this,$),Ln==Vp){xt==4&&(this.s=4,Ft(14),m=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==Zw){this.s=4,Ft(15),ho(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else ho(this.i,this.l,Ln,null),Fp(this,Ln);if(tE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||$.length!=0||this.h.h||(this.s=1,Ft(16),m=!1),this.o=this.o&&m,!m)ho(this.i,this.l,$,"[Invalid Chunked Response]"),os(this),al(this);else if(0<$.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Kp(It),It.M=!0,Ft(11))}}else ho(this.i,this.l,$,null),Fp(this,$);xt==4&&os(this),this.o&&!this.J&&(xt==4?PE(this.j,this):(this.o=!1,Uc(this)))}else MO(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),os(this),al(this)}}}catch{}finally{}};function tE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _O(c,p){var m=c.C,x=p.indexOf(`
`,m);return x==-1?Vp:(m=Number(p.substring(m,x)),isNaN(m)?Zw:(x+=1,x+m>p.length?Vp:(p=p.slice(x,x+m),c.C=x+m,p)))}ei.prototype.cancel=function(){this.J=!0,os(this)};function Uc(c){c.S=Date.now()+c.I,nE(c,c.I)}function nE(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sl(f(c.ba,c),p)}function Lp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yO(this.i,this.A),this.L!=2&&(il(),Ft(17)),os(this),this.s=2,al(this)):nE(this,this.S-c)};function al(c){c.j.G==0||c.J||PE(c.j,c)}function os(c){Lp(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Kw(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Fp(c,p){try{var m=c.j;if(m.G!=0&&(m.g==c||jp(m.h,c))){if(!c.K&&jp(m.h,c)&&m.G==3){try{var x=m.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Qc(m),Gc(m);else break e;$p(m),Ft(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=sl(f(m.Za,m),6e3));if(1>=sE(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ls(m,11)}else if((c.K||m.g==c)&&Qc(m),!_(p))for(M=m.Da.g.parse(p),p=0;p<M.length;p++){let pe=M[p];if(m.T=pe[0],pe=pe[1],m.G==2)if(pe[0]=="c"){m.K=pe[1],m.ia=pe[2];const It=pe[3];It!=null&&(m.la=It,m.j.info("VER="+m.la));const xt=pe[4];xt!=null&&(m.Aa=xt,m.j.info("SVER="+m.Aa));const mo=pe[5];mo!=null&&typeof mo=="number"&&0<mo&&(x=1.5*mo,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const Ln=c.g;if(Ln){const Xc=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var F=x.h;F.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Up(F,F.h),F.h=null))}if(x.D){const qp=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;qp&&(x.ya=qp,be(x.I,x.D,qp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var $=c;if(x.qa=kE(x,x.J?x.ia:null,x.W),$.K){oE(x.h,$);var Te=$,pt=x.L;pt&&(Te.I=pt),Te.B&&(Lp(Te),Uc(Te)),x.g=$}else bE(x);0<m.i.length&&Hc(m)}else pe[0]!="stop"&&pe[0]!="close"||ls(m,7);else m.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?ls(m,7):zp(m):pe[0]!="noop"&&m.l&&m.l.ta(pe),m.v=0)}}il(4)}catch{}}var wO=class{constructor(c,p){this.g=c,this.map=p}};function rE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sE(c){return c.h?1:c.g?c.g.size:0}function jp(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Up(c,p){c.g?c.g.add(p):c.h=p}function oE(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}rE.prototype.cancel=function(){if(this.i=aE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function aE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const m of c.g.values())p=p.concat(m.D);return p}return I(c.i)}function EO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],m=c.length,x=0;x<m;x++)p.push(c[x]);return p}p=[],m=0;for(x in c)p[m++]=c[x];return p}function TO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var m=0;m<c;m++)p.push(m);return p}p=[],m=0;for(const x in c)p[m++]=x;return p}}}function lE(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var m=TO(c),x=EO(c),M=x.length,F=0;F<M;F++)p.call(void 0,x[F],m&&m[F],c)}var uE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IO(c,p){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var x=c[m].indexOf("="),M=null;if(0<=x){var F=c[m].substring(0,x);M=c[m].substring(x+1)}else F=c[m];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function as(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof as){this.h=c.h,Bc(this,c.j),this.o=c.o,this.g=c.g,zc(this,c.s),this.l=c.l;var p=c.i,m=new cl;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),cE(this,m),this.m=c.m}else c&&(p=String(c).match(uE))?(this.h=!1,Bc(this,p[1]||"",!0),this.o=ll(p[2]||""),this.g=ll(p[3]||"",!0),zc(this,p[4]),this.l=ll(p[5]||"",!0),cE(this,p[6]||"",!0),this.m=ll(p[7]||"")):(this.h=!1,this.i=new cl(null,this.h))}as.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ul(p,hE,!0),":");var m=this.g;return(m||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ul(p,hE,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(ul(m,m.charAt(0)=="/"?bO:SO,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",ul(m,PO)),c.join("")};function wr(c){return new as(c)}function Bc(c,p,m){c.j=m?ll(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function zc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function cE(c,p,m){p instanceof cl?(c.i=p,RO(c.i,c.h)):(m||(p=ul(p,AO)),c.i=new cl(p,c.h))}function be(c,p,m){c.i.set(p,m)}function $c(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ll(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ul(c,p,m){return typeof c=="string"?(c=encodeURI(c).replace(p,xO),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hE=/[#\/\?@]/g,SO=/[#\?:]/g,bO=/[#\?]/g,AO=/[#\?@]/g,PO=/#/g;function cl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&IO(c.i,function(p,m){c.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=cl.prototype,t.add=function(c,p){ti(this),this.i=null,c=fo(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(p),this.h+=1,this};function dE(c,p){ti(c),p=fo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function fE(c,p){return ti(c),p=fo(c,p),c.g.has(p)}t.forEach=function(c,p){ti(this),this.g.forEach(function(m,x){m.forEach(function(M){c.call(p,M,x,this)},this)},this)},t.na=function(){ti(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let x=0;x<p.length;x++){const M=c[x];for(let F=0;F<M.length;F++)m.push(p[x])}return m},t.V=function(c){ti(this);let p=[];if(typeof c=="string")fE(this,c)&&(p=p.concat(this.g.get(fo(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)p=p.concat(c[m])}return p},t.set=function(c,p){return ti(this),this.i=null,c=fo(this,c),fE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function pE(c,p,m){dE(c,p),0<m.length&&(c.i=null,c.g.set(fo(c,p),I(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var x=p[m];const F=encodeURIComponent(String(x)),$=this.V(x);for(x=0;x<$.length;x++){var M=F;$[x]!==""&&(M+="="+encodeURIComponent(String($[x]))),c.push(M)}}return this.i=c.join("&")};function fo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function RO(c,p){p&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(m,x){var M=x.toLowerCase();x!=M&&(dE(this,x),pE(this,M,m))},c)),c.j=p}function CO(c,p){const m=new ol;if(a.Image){const x=new Image;x.onload=g(ni,m,"TestLoadImage: loaded",!0,p,x),x.onerror=g(ni,m,"TestLoadImage: error",!1,p,x),x.onabort=g(ni,m,"TestLoadImage: abort",!1,p,x),x.ontimeout=g(ni,m,"TestLoadImage: timeout",!1,p,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else p(!1)}function kO(c,p){const m=new ol,x=new AbortController,M=setTimeout(()=>{x.abort(),ni(m,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:x.signal}).then(F=>{clearTimeout(M),F.ok?ni(m,"TestPingServer: ok",!0,p):ni(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ni(m,"TestPingServer: error",!1,p)})}function ni(c,p,m,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(m)}catch{}}function NO(){this.g=new pO}function DO(c,p,m){const x=m||"";try{lE(c,function(M,F){let $=M;u(M)&&($=Cp(M)),p.push(x+F+"="+encodeURIComponent($))})}catch(M){throw p.push(x+"type="+encodeURIComponent("_badmap")),M}}function Kc(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Kc,kp),Kc.prototype.g=function(){return new qc(this.l,this.j)},Kc.prototype.i=function(c){return function(){return c}}({});function qc(c,p){Tt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(qc,Tt),t=qc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,dl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?hl(this):dl(this),this.readyState==3&&mE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,hl(this))},t.Qa=function(c){this.g&&(this.response=c,hl(this))},t.ga=function(){this.g&&hl(this)};function hl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=p.next();return c.join(`\r
`)};function dl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gE(c){let p="";return O(c,function(m,x){p+=x,p+=":",p+=m,p+=`\r
`}),p}function Bp(c,p,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=gE(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):be(c,p,m))}function We(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(We,Tt);var OO=/^https?$/i,VO=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Op.g(),this.v=this.o?qw(this.o):qw(Op),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){yE(this,F);return}if(c=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)m.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const F of x.keys())m.set(F,x.get(F));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VO,p,void 0))||x||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,$]of m)this.g.setRequestHeader(F,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wE(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){yE(this,F)}};function yE(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,vE(c),Wc(c)}function vE(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_E(this):this.bb())},t.bb=function(){_E(this)};function _E(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)Bw(c.Ea,0,c);else if(Lt(c,"readystatechange"),Er(c)==4){c.h=!1;try{const $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var x;if(x=$===0){var M=String(c.D).match(uE)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),x=!OO.test(M?M.toLowerCase():"")}m=x}if(m)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var F=2<Er(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",vE(c)}}finally{Wc(c)}}}}function Wc(c,p){if(c.g){wE(c);const m=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Lt(c,"ready");try{m.onreadystatechange=x}catch{}}}function wE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),fO(p)}};function EE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MO(c){const p={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(_(c[x]))continue;var m=D(c[x]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=p[M]||[];p[M]=F,F.push(m)}T(p,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fl(c,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||p}function TE(c){this.Aa=0,this.i=[],this.j=new ol,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fl("baseRetryDelayMs",5e3,c),this.cb=fl("retryDelaySeedMs",1e4,c),this.Wa=fl("forwardChannelMaxRetries",2,c),this.wa=fl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rE(c&&c.concurrentRequestLimit),this.Da=new NO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=TE.prototype,t.la=8,t.G=1,t.connect=function(c,p,m,x){Ft(0),this.W=c,this.H=p||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=kE(this,null,this.W),Hc(this)};function zp(c){if(IE(c),c.G==3){var p=c.U++,m=wr(c.I);if(be(m,"SID",c.K),be(m,"RID",p),be(m,"TYPE","terminate"),pl(c,m),p=new ei(c,c.j,p),p.L=2,p.v=$c(wr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=NE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Uc(p)}CE(c)}function Gc(c){c.g&&(Kp(c),c.g.cancel(),c.g=null)}function IE(c){Gc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Qc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hc(c){if(!iE(c.h)&&!c.s){c.s=!0;var p=c.Ga;ae||X(),U||(ae(),U=!0),G.add(p,c),c.B=0}}function LO(c,p){return sE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sl(f(c.Ga,c,p),RE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new ei(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=SE(this,M,p),m=wr(this.I),be(m,"RID",c),be(m,"CVER",22),this.D&&be(m,"X-HTTP-Session-Id",this.D),pl(this,m),F&&(this.O?p="headers="+encodeURIComponent(String(gE(F)))+"&"+p:this.m&&Bp(m,this.m,F)),Up(this.h,M),this.Ua&&be(m,"TYPE","init"),this.P?(be(m,"$req",p),be(m,"SID","null"),M.T=!0,Mp(M,m,null)):Mp(M,m,p),this.G=2}}else this.G==3&&(c?xE(this,c):this.i.length==0||iE(this.h)||xE(this))};function xE(c,p){var m;p?m=p.l:m=c.U++;const x=wr(c.I);be(x,"SID",c.K),be(x,"RID",m),be(x,"AID",c.T),pl(c,x),c.m&&c.o&&Bp(x,c.m,c.o),m=new ei(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),p&&(c.i=p.D.concat(c.i)),p=SE(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Up(c.h,m),Mp(m,x,p)}function pl(c,p){c.H&&O(c.H,function(m,x){be(p,x,m)}),c.l&&lE({},function(m,x){be(p,x,m)})}function SE(c,p,m){m=Math.min(c.i.length,m);var x=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let F=-1;for(;;){const $=["count="+m];F==-1?0<m?(F=M[0].g,$.push("ofs="+F)):F=0:$.push("ofs="+F);let Te=!0;for(let pt=0;pt<m;pt++){let pe=M[pt].g;const It=M[pt].map;if(pe-=F,0>pe)F=Math.max(0,M[pt].g-100),Te=!1;else try{DO(It,$,"req"+pe+"_")}catch{x&&x(It)}}if(Te){x=$.join("&");break e}}}return c=c.i.splice(0,m),p.D=c,x}function bE(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ae||X(),U||(ae(),U=!0),G.add(p,c),c.v=0}}function $p(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sl(f(c.Fa,c),RE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,AE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sl(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Gc(this),AE(this))};function Kp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function AE(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=wr(c.qa);be(p,"RID","rpc"),be(p,"SID",c.K),be(p,"AID",c.T),be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(p,"TO",c.ja),be(p,"TYPE","xmlhttp"),pl(c,p),c.m&&c.o&&Bp(p,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=$c(wr(p)),m.m=null,m.P=!0,eE(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),$p(this),Ft(19))};function Qc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function PE(c,p){var m=null;if(c.g==p){Qc(c),Kp(c),c.g=null;var x=2}else if(jp(c.h,p))m=p.D,oE(c.h,p),x=1;else return;if(c.G!=0){if(p.o)if(x==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;x=Lc(),Lt(x,new Yw(x,m)),Hc(c)}else bE(c);else if(M=p.s,M==3||M==0&&0<p.X||!(x==1&&LO(c,p)||x==2&&$p(c)))switch(m&&0<m.length&&(p=c.h,p.i=p.i.concat(m)),M){case 1:ls(c,5);break;case 4:ls(c,10);break;case 3:ls(c,6);break;default:ls(c,2)}}}function RE(c,p){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*p}function ls(c,p){if(c.j.info("Error code "+p),p==2){var m=f(c.fb,c),x=c.Xa;const M=!x;x=new as(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bc(x,"https"),$c(x),M?CO(x.toString(),m):kO(x.toString(),m)}else Ft(2);c.G=0,c.l&&c.l.sa(p),CE(c),IE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function CE(c){if(c.G=0,c.ka=[],c.l){const p=aE(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function kE(c,p,m){var x=m instanceof as?wr(m):new as(m);if(x.g!="")p&&(x.g=p+"."+x.g),zc(x,x.s);else{var M=a.location;x=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new as(null);x&&Bc(F,x),p&&(F.g=p),M&&zc(F,M),m&&(F.l=m),x=F}return m=c.D,p=c.ya,m&&p&&be(x,m,p),be(x,"VER",c.la),pl(c,x),x}function NE(c,p,m){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new We(new Kc({eb:m})):new We(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function DE(){}t=DE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yc(){}Yc.prototype.g=function(c,p){return new ln(c,p)};function ln(c,p){Tt.call(this),this.g=new TE(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new po(this)}v(ln,Tt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){zp(this.g)},ln.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Cp(c),c=m);p.i.push(new wO(p.Ya++,c)),p.G==3&&Hc(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,zp(this.g),delete this.g,ln.aa.N.call(this)};function OE(c){Np.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const m in p){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}v(OE,Np);function VE(){Dp.call(this),this.status=1}v(VE,Dp);function po(c){this.g=c}v(po,DE),po.prototype.ua=function(){Lt(this.g,"a")},po.prototype.ta=function(c){Lt(this.g,new OE(c))},po.prototype.sa=function(c){Lt(this.g,new VE)},po.prototype.ra=function(){Lt(this.g,"b")},Yc.prototype.createWebChannel=Yc.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,_R=function(){return new Yc},vR=function(){return Lc()},yR=ss,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Kh=Fc,Xw.COMPLETE="complete",gR=Xw,Ww.EventType=rl,rl.OPEN="a",rl.CLOSE="b",rl.ERROR="c",rl.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Fl=Ww,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,mR=We}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new M_("@firebase/firestore");function So(){return Ks.logLevel}function B(t,...e){if(Ks.logLevel<=le.DEBUG){const n=e.map(F_);Ks.debug(`Firestore (${$a}): ${t}`,...n)}}function zt(t,...e){if(Ks.logLevel<=le.ERROR){const n=e.map(F_);Ks.error(`Firestore (${$a}): ${t}`,...n)}}function ya(t,...e){if(Ks.logLevel<=le.WARN){const n=e.map(F_);Ks.warn(`Firestore (${$a}): ${t}`,...n)}}function F_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+t;throw zt(e),new Error(e)}function Y(t,e){t||Q()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class Sj{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Y(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y(typeof r.accessToken=="string"),new Ij(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string"),new Bt(e)}}class bj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Aj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Y(this.o===void 0);const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string"),this.R=n.token,new Pj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Cj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function ER(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new Be(0,0))}static max(){return new J(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ju.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ju?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends ju{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends ju{construct(e,n,r){return new Fe(e,n,r)}static isValidIdentifier(e){return kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(ye.fromString(e))}static fromName(e){return new q(ye.fromString(e).popFirst(5))}static empty(){return new q(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function py(t){return t.fields.find(e=>e.kind===2)}function ms(t){return t.fields.filter(e=>e.kind!==2)}Bd.UNKNOWN_ID=-1;class qh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Uu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Uu(0,_n.min())}}function Nj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new _n(i,q.empty(),e)}function TR(t){return new _n(t.readTime,t.key,-1)}class _n{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _n(J.min(),q.empty(),-1)}static max(){return new _n(J.max(),q.empty(),-1)}}function j_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==IR)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new iu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=U_(r.target.error);this.V.reject(new iu(e,i))}}static open(e,n,r,i){try{return new Uf(n,e.transaction(i,r))}catch(s){throw new iu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Oj(n)}}class Vi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Vi.S(at())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),ys(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!aR())return!1;if(Vi.v())return!0;const e=at(),n=Vi.S(e),r=0<n&&n<10,i=SR(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new iu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new K(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new K(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new iu(e,o))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Uf.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(B("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Dj{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ys(this.B.delete())}}class iu extends K{constructor(e,n){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Zi(t){return t.name==="IndexedDbTransactionError"}class Oj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ys(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),ys(this.store.add(e))}get(e){return ys(this.store.get(e)).next(n=>(n===void 0&&(n=null),B("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),ys(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),ys(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=U_(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Dj(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const h=u.catch(d=>(l.done(),L.reject(d)));r.push(h)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ys(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=U_(r.target.error);n(i)}})}let mT=!1;function U_(t){const e=Vi.S(at());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mT||(mT=!0,setTimeout(()=>{throw r},0)),r}}return t}class Vj{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){B("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{B("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Zi(n)?B("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await so(n)}await this.X(6e4)})}}class Mj{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return B("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(B("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=TR(s);j_(o,r)>0&&(r=o)}),new _n(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cn.oe=-1;function Bf(t){return t==null}function Bu(t){return t===0&&1/t==-1/0}function Lj(t){return typeof t=="number"&&Number.isInteger(t)&&!Bu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gT(e)),e=Fj(t.get(n),e);return gT(e)}function Fj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function gT(t){return t+""}function nr(t){const e=t.length;if(Y(e>=2),e===2)return Y(t.charAt(0)===""&&t.charAt(1)===""),ye.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Q()}s=o+2}return new ye(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t,e){return[t,Wt(e)]}function bR(t,e,n){return[t,Wt(e),n]}const jj={},Uj=["prefixPath","collectionGroup","readTime","documentId"],Bj=["prefixPath","collectionGroup","documentId"],zj=["collectionGroup","readTime","prefixPath","documentId"],$j=["canonicalId","targetId"],Kj=["targetId","path"],qj=["path","targetId"],Wj=["collectionId","parent"],Gj=["indexId","uid"],Hj=["uid","sequenceNumber"],Qj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yj=["indexId","uid","orderedDocumentKey"],Xj=["userId","collectionPath","documentId"],Jj=["userId","collectionPath","largestBatchId"],Zj=["userId","collectionGroup","largestBatchId"],AR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],e6=[...AR,"documentOverlays"],PR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RR=PR,B_=[...RR,"indexConfiguration","indexState","indexEntries"],t6=B_,n6=[...B_,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends xR{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function lt(t,e){const n=ne(t);return Vi.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ee)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ee(this.comparator);return n.data=e,n}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _o(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new en([])}unionWith(e){let n=new Ee(Fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kR("Invalid base64 string: "+s):s}}(e);return new rt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const r6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(Y(!!t),typeof t=="string"){let e=0;const n=r6.exec(t);if(Y(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $_(t){const e=t.mapValue.fields.__previous_value__;return z_(e)?$_(e):e}function zu(t){const e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gh={nullValue:"NULL_VALUE"};function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?z_(t)?4:NR(t)?9007199254740991:zf(t)?10:11:Q()}function gr(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Kr(i.timestampValue),a=Kr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bi(i.bytesValue).isEqual(Bi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?Bu(o)===Bu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return va(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(vT(o)!==vT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function $u(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function zi(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ne(s.integerValue||s.doubleValue),l=Ne(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wT(t.timestampValue,e.timestampValue);case 4:return wT(zu(t),zu(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Bi(s),l=Bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=re(a[u],l[u]);if(h!==0)return h}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ne(s.latitude),Ne(o.latitude));return a!==0?a:re(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ET(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},f=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,I=re(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return I!==0?I:ET(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ii.mapValue&&o===Ii.mapValue)return 0;if(s===Ii.mapValue)return 1;if(o===Ii.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=re(l[d],h[d]);if(f!==0)return f;const g=zi(a[l[d]],u[h[d]]);if(g!==0)return g}return re(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function wT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Kr(t),r=Kr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function ET(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zi(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function _a(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=gy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${gy(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function Ku(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yy(t){return!!t&&"integerValue"in t}function qu(t){return!!t&&"arrayValue"in t}function TT(t){return!!t&&"nullValue"in t}function IT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hh(t){return!!t&&"mapValue"in t}function zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const DR={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function s6(t){return"nullValue"in t?Gh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ku(qs.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?zf(t)?DR:{mapValue:{}}:Q()}function o6(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ku(qs.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?DR:"mapValue"in t?zf(t)?{mapValue:{}}:Ii:Q()}function xT(t,e){const n=zi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ST(t,e){const n=zi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Fe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=su(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ct(su(this.value))}}function OR(t){const e=[];return oo(t.fields,(n,r)=>{const i=new Fe([n]);if(Hh(r)){const s=OR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,J.min(),J.min(),J.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,i){return new Qe(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new Qe(e,2,n,J.min(),J.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,J.min(),J.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.position=e,this.inclusive=n}}function bT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=zi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function AT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function a6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{}class ue extends VR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l6(e,n,r):n==="array-contains"?new h6(e,r):n==="in"?new BR(e,r):n==="not-in"?new d6(e,r):n==="array-contains-any"?new f6(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u6(e,r):new c6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zi(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _e extends VR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _e(e,n)}matches(e){return Ea(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ea(t){return t.op==="and"}function vy(t){return t.op==="or"}function K_(t){return MR(t)&&Ea(t)}function MR(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}function _y(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(K_(t))return t.filters.map(e=>_y(e)).join(",");{const e=t.filters.map(n=>_y(n)).join(",");return`${t.op}(${e})`}}function LR(t,e){return t instanceof ue?function(r,i){return i instanceof ue&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&LR(o,i.filters[a]),!0):!1}(t,e):void Q()}function FR(t,e){const n=t.filters.concat(e);return _e.create(n,t.op)}function jR(t){return t instanceof ue?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof _e?function(n){return n.op.toString()+" {"+n.getFilters().map(jR).join(" ,")+"}"}(t):"Filter"}class l6 extends ue{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class u6 extends ue{constructor(e,n){super(e,"in",n),this.keys=UR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c6 extends ue{constructor(e,n){super(e,"not-in",n),this.keys=UR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class h6 extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qu(n)&&$u(n.arrayValue,this.value)}}class BR extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class d6 extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$u(this.value.arrayValue,n)}}class f6 extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function wy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new p6(t,e,n,r,i,s,o)}function Gs(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_a(r)).join(",")),e.ue=n}return e.ue}function mc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AT(t.startAt,e.startAt)&&AT(t.endAt,e.endAt)}function zd(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function $d(t,e){return t.filters.filter(n=>n instanceof ue&&n.field.isEqual(e))}function PT(t,e,n){let r=Gh,i=!0;for(const s of $d(t,e)){let o=Gh,a=!0;switch(s.op){case"<":case"<=":o=s6(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Gh}xT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];xT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function RT(t,e,n){let r=Ii,i=!0;for(const s of $d(t,e)){let o=Ii,a=!0;switch(s.op){case">=":case">":o=o6(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ii}ST({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];ST({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function m6(t,e,n,r,i,s,o,a){return new Ka(t,e,n,r,i,s,o,a)}function $f(t){return new Ka(t)}function CT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zR(t){return t.collectionGroup!==null}function ou(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ee(Fe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wu(s,r))}),n.has(Fe.keyField().canonicalString())||e.ce.push(new Wu(Fe.keyField(),r))}return e.ce}function Nn(t){const e=ne(t);return e.le||(e.le=g6(e,ou(t))),e.le}function g6(t,e){if(t.limitType==="F")return wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new wa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wa(t.startAt.position,t.startAt.inclusive):null;return wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ey(t,e){const n=t.filters.concat([e]);return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ty(t,e,n){return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kf(t,e){return mc(Nn(t),Nn(e))&&t.limitType===e.limitType}function $R(t){return`${Gs(Nn(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jR(i)).join(", ")}]`),Bf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_a(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_a(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function gc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ou(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=bT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ou(r),i)||r.endAt&&!function(o,a,l){const u=bT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ou(r),i))}(t,e)}function y6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KR(t){return(e,n)=>{let r=!1;for(const i of ou(t)){const s=v6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function v6(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?zi(l,u):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new Me(q.comparator);function dn(){return _6}const qR=new Me(q.comparator);function jl(...t){let e=qR;for(const n of t)e=e.insert(n.key,n);return e}function WR(t){let e=qR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rr(){return au()}function GR(){return au()}function au(){return new es(t=>t.toString(),(t,e)=>t.isEqual(e))}const w6=new Me(q.comparator),E6=new Ee(q.comparator);function oe(...t){let e=E6;for(const n of t)e=e.add(n);return e}const T6=new Ee(re);function I6(){return T6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function HR(t){return{integerValue:""+t}}function QR(t,e){return Lj(e)?HR(e):q_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function x6(t,e,n){return t instanceof Ta?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&z_(s)&&(s=$_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ia?XR(t,e):t instanceof xa?JR(t,e):function(i,s){const o=YR(i,s),a=kT(o)+kT(i.Pe);return yy(o)&&yy(i.Pe)?HR(a):q_(i.serializer,a)}(t,e)}function S6(t,e,n){return t instanceof Ia?XR(t,e):t instanceof xa?JR(t,e):n}function YR(t,e){return t instanceof Sa?function(r){return yy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ta extends qf{}class Ia extends qf{constructor(e){super(),this.elements=e}}function XR(t,e){const n=ZR(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class xa extends qf{constructor(e){super(),this.elements=e}}function JR(t,e){let n=ZR(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Sa extends qf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kT(t){return Ne(t.integerValue||t.doubleValue)}function ZR(t){return qu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.field=e,this.transform=n}}function b6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ia&&i instanceof Ia||r instanceof xa&&i instanceof xa?va(r.elements,i.elements,gr):r instanceof Sa&&i instanceof Sa?gr(r.Pe,i.Pe):r instanceof Ta&&i instanceof Ta}(t.transform,e.transform)}class A6{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wf{}function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gf(t.key,$t.none()):new qa(t.key,t.data,$t.none());{const n=t.data,r=Ct.empty();let i=new Ee(Fe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xr(t.key,r,new en(i.toArray()),$t.none())}}function P6(t,e,n){t instanceof qa?function(i,s,o){const a=i.value.clone(),l=DT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,s,o){if(!Qh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=DT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(tC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lu(t,e,n,r){return t instanceof qa?function(s,o,a,l){if(!Qh(s.precondition,o))return a;const u=s.value.clone(),h=OT(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,o,a,l){if(!Qh(s.precondition,o))return a;const u=OT(s.fieldTransforms,l,o),h=o.data;return h.setAll(tC(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Qh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function R6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YR(r.transform,i||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function NT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&va(r,i,(s,o)=>b6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qa extends Wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends Wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DT(t,e,n){const r=new Map;Y(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,S6(o,a,n[i]))}return r}function OT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x6(s,o,e))}return r}class Gf extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nC extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=eC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(n,r)=>NT(n,r))&&va(this.baseMutations,e.baseMutations,(n,r)=>NT(n,r))}}class H_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Y(e.mutations.length===r.length);let i=function(){return w6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new H_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,de;function k6(t){switch(t){default:return Q();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function rC(t){if(t===void 0)return zt("GRPC error has no .code"),j.UNKNOWN;switch(t){case et.OK:return j.OK;case et.CANCELLED:return j.CANCELLED;case et.UNKNOWN:return j.UNKNOWN;case et.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case et.INTERNAL:return j.INTERNAL;case et.UNAVAILABLE:return j.UNAVAILABLE;case et.UNAUTHENTICATED:return j.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case et.NOT_FOUND:return j.NOT_FOUND;case et.ALREADY_EXISTS:return j.ALREADY_EXISTS;case et.PERMISSION_DENIED:return j.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case et.ABORTED:return j.ABORTED;case et.OUT_OF_RANGE:return j.OUT_OF_RANGE;case et.UNIMPLEMENTED:return j.UNIMPLEMENTED;case et.DATA_LOSS:return j.DATA_LOSS;default:return Q()}}(de=et||(et={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new Cs([4294967295,4294967295],0);function VT(t){const e=N6().encode(t),n=new pR;return n.update(e),new Uint8Array(n.digest())}function MT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([i,s],0)]}class Y_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Cs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Cs.fromNumber(r)));return i.compare(D6)===1&&(i=new Cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=VT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Y_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=VT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(J.min(),i,new Me(re),dn(),oe())}}class yc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yc(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class iC{constructor(e,n){this.targetId=e,this.me=n}}class sC{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LT{constructor(){this.fe=0,this.ge=jT(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new yc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Y(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class O6{constructor(e){this.Le=e,this.Be=new Map,this.ke=dn(),this.qe=FT(),this.Qe=new Me(re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(zd(s))if(r===0){const o=new q(s.path);this.Ue(n,o,Qe.newNoDocument(o,J.min()))}else Y(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Bi(r).toUint8Array()}catch(l){if(l instanceof kR)return ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Y_(o,i,s)}catch(l){return ya(l instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&zd(a.target)){const l=new q(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qe.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=oe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Hf(e,n,this.Qe,this.ke,r);return this.ke=dn(),this.qe=FT(),this.Qe=new Me(re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new LT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ee(re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FT(){return new Me(q.comparator)}function jT(){return new Me(q.comparator)}const V6={asc:"ASCENDING",desc:"DESCENDING"},M6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L6={and:"AND",or:"OR"};class F6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j6(t,e){return ba(t,e.toTimestamp())}function Gt(t){return Y(!!t),J.fromTimestamp(function(n){const r=Kr(n);return new Be(r.seconds,r.nanos)}(t))}function X_(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aC(t){const e=ye.fromString(t);return Y(gC(e)),e}function Kd(t,e){return X_(t.databaseId,e.path)}function ks(t,e){const n=aC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(cC(n))}function lC(t,e){return X_(t.databaseId,e)}function uC(t){const e=aC(t);return e.length===4?ye.emptyPath():cC(e)}function Sy(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cC(t){return Y(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UT(t,e,n){return{name:Kd(t,e),fields:n.value.mapValue.fields}}function U6(t,e,n){const r=ks(t,e.name),i=Gt(e.updateTime),s=e.createTime?Gt(e.createTime):J.min(),o=new Ct({mapValue:{fields:e.fields}}),a=Qe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function B6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Y(h===void 0||typeof h=="string"),rt.fromBase64String(h||"")):(Y(h===void 0||h instanceof Buffer||h instanceof Uint8Array),rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?j.UNKNOWN:rC(u.code);return new K(h,u.message||"")}(o);n=new sC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ks(t,r.document.name),s=Gt(r.document.updateTime),o=r.document.createTime?Gt(r.document.createTime):J.min(),a=new Ct({mapValue:{fields:r.document.fields}}),l=Qe.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Yh(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ks(t,r.document),s=r.readTime?Gt(r.readTime):J.min(),o=Qe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ks(t,r.document),s=r.removedTargetIds||[];n=new Yh([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new C6(i,s),a=r.targetId;n=new iC(a,o)}}return n}function qd(t,e){let n;if(e instanceof qa)n={update:UT(t,e.key,e.value)};else if(e instanceof Gf)n={delete:Kd(t,e.key)};else if(e instanceof Xr)n={update:UT(t,e.key,e.data),updateMask:G6(e.fieldMask)};else{if(!(e instanceof nC))return Q();n={verify:Kd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ia)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:j6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function by(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?$t.updateTime(Gt(s.updateTime)):s.exists!==void 0?$t.exists(s.exists):$t.none()}(e.currentDocument):$t.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Y(a.setToServerValue==="REQUEST_TIME"),l=new Ta;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];l=new Ia(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];l=new xa(h)}else"increment"in a?l=new Sa(o,a.increment):Q();const u=Fe.fromServerFormat(a.fieldPath);return new W_(u,l)}(t,i)):[];if(e.update){e.update.name;const i=ks(t,e.update.name),s=new Ct({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new en(u.map(h=>Fe.fromServerFormat(h)))}(e.updateMask);return new Xr(i,s,o,n,r)}return new qa(i,s,n,r)}if(e.delete){const i=ks(t,e.delete);return new Gf(i,n)}if(e.verify){const i=ks(t,e.verify);return new nC(i,n)}return Q()}function z6(t,e){return t&&t.length>0?(Y(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gt(i.updateTime):Gt(s);return o.isEqual(J.min())&&(o=Gt(s)),new A6(o,i.transformResults||[])}(n,e))):[]}function hC(t,e){return{documents:[lC(t,e.path)]}}function dC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lC(t,i);const s=function(u){if(u.length!==0)return mC(_e.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Ao(f.field),direction:K6(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Iy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function fC(t){let e=uC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Y(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=pC(d);return f instanceof _e&&K_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new Wu(Po(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Bf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new wa(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,g=d.values||[];return new wa(g,f)}(n.endAt)),m6(e,i,o,s,a,"F",l,u)}function $6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Po(n.unaryFilter.field);return ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Po(n.unaryFilter.field);return ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Po(n.unaryFilter.field);return ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return ue.create(Po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _e.create(n.compositeFilter.filters.map(r=>pC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function K6(t){return V6[t]}function q6(t){return M6[t]}function W6(t){return L6[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function Po(t){return Fe.fromServerFormat(t.fieldPath)}function mC(t){return t instanceof ue?function(n){if(n.op==="=="){if(IT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(TT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(TT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:q6(n.op),value:n.value}}}(t):t instanceof _e?function(n){const r=n.getFilters().map(i=>mC(i));return r.length===1?r[0]:{compositeFilter:{op:W6(n.op),filters:r}}}(t):Q()}function G6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.ct=e}}function H6(t,e){let n;if(e.document)n=U6(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=q.fromSegments(e.noDocument.path),i=Qs(e.noDocument.readTime);n=Qe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{const r=q.fromSegments(e.unknownDocument.path),i=Qs(e.unknownDocument.version);n=Qe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Be(i[0],i[1]);return J.fromTimestamp(s)}(e.readTime)),n}function BT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Kd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ba(s,o.version.toTimestamp()),createTime:ba(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Hs(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:Hs(e.version)}}return r}function Wd(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qs(t){const e=new Be(t.seconds,t.nanoseconds);return J.fromTimestamp(e)}function vs(t,e){const n=(e.baseMutations||[]).map(s=>by(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>by(t.ct,s)),i=Be.fromMillis(e.localWriteTimeMs);return new G_(e.batchId,i,n,r)}function Bl(t){const e=Qs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Qs(t.lastLimboFreeSnapshotVersion):J.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Y(s.documents.length===1),Nn($f(uC(s.documents[0])))}(t.query):function(s){return Nn(fC(s))}(t.query),new Rr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,rt.fromBase64String(t.resumeToken))}function vC(t,e){const n=Hs(e.snapshotVersion),r=Hs(e.lastLimboFreeSnapshotVersion);let i;i=zd(e.target)?hC(t.ct,e.target):dC(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function _C(t){const e=fC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ty(e,e.limit,"L"):e}function Pm(t,e){return new Q_(e.largestBatchId,by(t.ct,e.overlayMutation))}function zT(t,e){const n=e.path.lastSegment();return[t,Wt(e.path.popLast()),n]}function $T(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Hs(r.readTime),documentKey:Wt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{getBundleMetadata(e,n){return KT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Qs(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return KT(e).put(function(i){return{bundleId:i.id,createTime:Hs(Gt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return qT(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:_C(s.bundledQuery),readTime:Qs(s.readTime)}}(r)})}saveNamedQuery(e,n){return qT(e).put(function(i){return{name:i.name,readTime:Hs(Gt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function KT(t){return lt(t,"bundles")}function qT(t){return lt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Qf(e,r)}getOverlay(e,n){return xl(e).get(zT(this.userId,n)).next(r=>r?Pm(this.serializer,r):null)}getOverlays(e,n){const r=rr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Q_(n,o);i.push(this.ht(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Wt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xl(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=rr(),s=Wt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xl(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Pm(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=rr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xl(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const d=Pm(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):h.done()}).next(()=>s)}ht(e,n){return xl(e).put(function(i,s,o){const[a,l,u]=zT(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qd(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function xl(t){return lt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{Pt(e){return lt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?rt.fromUint8Array(r):rt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){const r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Bu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Kr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Bi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?NR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):zf(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}_s.vt=new _s;function X6(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function WT(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=X6(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class J6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=WT(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=WT(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Z6{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class eU{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Sl{constructor(){this.jt=new J6,this.Ht=new Z6(this.jt),this.Jt=new eU(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ws(this.indexId,this.documentKey,this.arrayValue,r)}}function ii(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=GT(t.arrayValue,e.arrayValue),n!==0?n:(n=GT(t.directionalValue,e.directionalValue),n!==0?n:q.comparator(t.documentKey,e.documentKey)))}function GT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.Xt=new Ee((n,r)=>Fe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Y(e.collectionGroup===this.collectionId),this.nn)return!1;const n=py(e);if(n!==void 0&&!this.sn(n))return!1;const r=ms(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Ee(Fe.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new qh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new qh(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new qh(r.field,r.dir==="asc"?0:1)));return new Bd(Bd.UNKNOWN_ID,this.collectionId,n,Uu.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){var e,n;if(Y(t instanceof ue||t instanceof _e),t instanceof ue){if(t instanceof BR){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ue.create(t.field,"==",s)))||[];return _e.create(i,"or")}return t}const r=t.filters.map(i=>wC(i));return _e.create(r,t.op)}function tU(t){if(t.getFilters().length===0)return[];const e=Ry(wC(t));return Y(EC(e)),Ay(e)||Py(e)?[e]:e.getFilters()}function Ay(t){return t instanceof ue}function Py(t){return t instanceof _e&&K_(t)}function EC(t){return Ay(t)||Py(t)||function(n){if(n instanceof _e&&vy(n)){for(const r of n.getFilters())if(!Ay(r)&&!Py(r))return!1;return!0}return!1}(t)}function Ry(t){if(Y(t instanceof ue||t instanceof _e),t instanceof ue)return t;if(t.filters.length===1)return Ry(t.filters[0]);const e=t.filters.map(r=>Ry(r));let n=_e.create(e,t.op);return n=Gd(n),EC(n)?n:(Y(n instanceof _e),Y(Ea(n)),Y(n.filters.length>1),n.filters.reduce((r,i)=>J_(r,i)))}function J_(t,e){let n;return Y(t instanceof ue||t instanceof _e),Y(e instanceof ue||e instanceof _e),n=t instanceof ue?e instanceof ue?function(i,s){return _e.create([i,s],"and")}(t,e):QT(t,e):e instanceof ue?QT(e,t):function(i,s){if(Y(i.filters.length>0&&s.filters.length>0),Ea(i)&&Ea(s))return FR(i,s.getFilters());const o=vy(i)?i:s,a=vy(i)?s:i,l=o.filters.map(u=>J_(u,a));return _e.create(l,"or")}(t,e),Gd(n)}function QT(t,e){if(Ea(e))return FR(e,t.getFilters());{const n=e.filters.map(r=>J_(t,r));return _e.create(n,"or")}}function Gd(t){if(Y(t instanceof ue||t instanceof _e),t instanceof ue)return t;const e=t.getFilters();if(e.length===1)return Gd(e[0]);if(MR(t))return t;const n=e.map(i=>Gd(i)),r=[];return n.forEach(i=>{i instanceof ue?r.push(i):i instanceof _e&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:_e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.un=new Z_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(_n.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(_n.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class Z_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ee(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ee(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Uint8Array(0);class rU{constructor(e,n){this.databaseId=n,this.cn=new Z_,this.ln=new es(r=>Gs(r),(r,i)=>mc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:Wt(i)};return YT(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[ER(n),""],!1,!0);return YT(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(nr(o.parent))}return r})}addFieldIndex(e,n){const r=bl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Eo(e);return s.next(a=>{o.put($T(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=bl(e),i=Eo(e),s=wo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=bl(e),r=wo(e),i=Eo(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new HT(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=wo(e);let i=!0;const s=new Map;return L.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=oe();const a=[];return L.forEach(s,(l,u)=>{B("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${Gs(n)}`);const h=function(E,C){const N=py(C);if(N===void 0)return null;for(const O of $d(E,N.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),d=function(E,C){const N=new Map;for(const O of ms(C))for(const T of $d(E,O.fieldPath))switch(T.op){case"==":case"in":N.set(O.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return N.set(O.fieldPath.canonicalString(),T.value),Array.from(N.values())}return null}(u,l),f=function(E,C){const N=[];let O=!0;for(const T of ms(C)){const w=T.kind===0?PT(E,T.fieldPath,E.startAt):RT(E,T.fieldPath,E.startAt);N.push(w.value),O&&(O=w.inclusive)}return new wa(N,O)}(u,l),g=function(E,C){const N=[];let O=!0;for(const T of ms(C)){const w=T.kind===0?RT(E,T.fieldPath,E.endAt):PT(E,T.fieldPath,E.endAt);N.push(w.value),O&&(O=w.inclusive)}return new wa(N,O)}(u,l),v=this.In(l,u,f),I=this.In(l,u,g),S=this.Tn(l,u,d),y=this.En(l.indexId,h,v,f.inclusive,I,g.inclusive,S);return L.forEach(y,_=>r.G(_,n.limit).next(E=>{E.forEach(C=>{const N=q.fromSegments(C.documentKey);o.has(N)||(o=o.add(N),a.push(N))})}))}).next(()=>a)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=tU(_e.create(e.filters,"and")).map(r=>wy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),h=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/u]):_h,g=this.An(e,f,r[d%u],i),v=this.Rn(e,f,s[d%u],o),I=a.map(S=>this.An(e,f,S,!0));h.push(...this.createRange(g,v,I))}return h}An(e,n,r,i){const s=new ws(e,q.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new ws(e,q.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new HT(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ee(Fe.comparator),h=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?h=!0:u=u.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Sl;for(const i of ms(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);_s.vt.It(s,o)}return r.zt()}dn(e){const n=new Sl;return _s.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Sl;return _s.vt.It(Ku(this.databaseId,n),r.Yt(function(s){const o=ms(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Sl);let s=0;for(const o of ms(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&qu(a))i=this.gn(i,o,a);else{const u=l.Yt(o.kind);_s.vt.It(a,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Sl;l.seed(a.zt()),_s.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof ue&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bl(e),i=Eo(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,d){const f=d?new Uu(d.sequenceNumber,new _n(Qs(d.readTime),new q(nr(d.documentKey)),d.largestBatchId)):Uu.empty(),g=h.fields.map(([v,I])=>new qh(Fe.fromServerFormat(v),I));return new Bd(h.indexId,h.collectionGroup,g,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:re(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=bl(e),s=Eo(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put($T(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.wn(e,i,l).next(u=>{const h=this.Sn(s,l);return u.isEqual(h)?L.resolve():this.bn(e,s,l,u,h)}))))})}Dn(e,n,r,i){return wo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return wo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=wo(e);let s=new Ee(ii);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new ws(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Ee(ii);const i=this.Vn(n,e);if(i==null)return r;const s=py(n);if(s!=null){const o=e.data.field(s.fieldPath);if(qu(o))for(const a of o.arrayValue.values||[])r=r.add(new ws(n.indexId,e.key,this.dn(a),i))}else r=r.add(new ws(n.indexId,e.key,_h,i));return r}bn(e,n,r,i,s){B("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,h,d,f){const g=l.getIterator(),v=u.getIterator();let I=_o(g),S=_o(v);for(;I||S;){let y=!1,_=!1;if(I&&S){const E=h(I,S);E<0?_=!0:E>0&&(y=!0)}else I!=null?_=!0:y=!0;y?(d(S),S=_o(v)):_?(f(I),I=_o(g)):(I=_o(g),S=_o(v))}}(i,s,ii,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),L.waitFor(o)}yn(e){let n=1;return Eo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ii(o,a)).filter((o,a,l)=>!a||ii(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ii(o,e),l=ii(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,_h,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,_h,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return ii(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(XT)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Q())).next(XT)}}function YT(t){return lt(t,"collectionParents")}function wo(t){return lt(t,"indexEntries")}function bl(t){return lt(t,"indexConfiguration")}function Eo(t){return lt(t,"indexState")}function XT(t){Y(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;j_(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _n(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(h,d,f)=>(a++,f.delete()));s.push(l.next(()=>{Y(a===1)}));const u=[];for(const h of n.mutations){const d=bR(e,h.key.path,n.batchId);s.push(i.delete(d)),u.push(h.key)}return L.waitFor(s).next(()=>u)}function Hd(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);class Yf{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){Y(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Yf(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return si(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ro(e),o=si(e);return o.add({}).next(a=>{Y(typeof a=="number");const l=new G_(a,n,r,i),u=function(g,v,I){const S=I.baseMutations.map(_=>qd(g.ct,_)),y=I.mutations.map(_=>qd(g.ct,_));return{userId:v,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:S,mutations:y}}(this.serializer,this.userId,l),h=[];let d=new Ee((f,g)=>re(f.canonicalString(),g.canonicalString()));for(const f of i){const g=bR(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),h.push(o.put(u)),h.push(s.put(g,jj))}return d.forEach(f=>{h.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),L.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return si(e).get(n).next(r=>r?(Y(r.userId===this.userId),vs(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return si(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=r),s=vs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return si(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return si(e).U("userMutationsIndex",n).next(r=>r.map(i=>vs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Wh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ro(e).J({range:i},(o,a,l)=>{const[u,h,d]=o,f=nr(h);if(u===this.userId&&n.path.isEqual(f))return si(e).get(d).next(g=>{if(!g)throw Q();Y(g.userId===this.userId),s.push(vs(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ee(re);const i=[];return n.forEach(s=>{const o=Wh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ro(e).J({range:a},(u,h,d)=>{const[f,g,v]=u,I=nr(g);f===this.userId&&s.path.isEqual(I)?r=r.add(v):d.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Wh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ee(re);return Ro(e).J({range:o},(l,u,h)=>{const[d,f,g]=l,v=nr(f);d===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(g)):h.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(si(e).get(s).next(o=>{if(o===null)throw Q();Y(o.userId===this.userId),r.push(vs(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return TC(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ro(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=nr(s[1]);i.push(l)}else a.done()}).next(()=>{Y(i.length===0)})})}containsKey(e,n){return IC(e,this.userId,n)}Nn(e){return xC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function IC(t,e,n){const r=Wh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ro(t).J({range:s,H:!0},(a,l,u)=>{const[h,d,f]=a;h===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function si(t){return lt(t,"mutations")}function Ro(t){return lt(t,"documentMutations")}function xC(t){return lt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ys(0)}static kn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Ys(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>J.fromTimestamp(new Be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>To(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Y(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return To(e).J((o,a)=>{const l=Bl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return To(e).J((r,i)=>{const s=Bl(i);n(s)})}qn(e){return ZT(e).get("targetGlobalKey").next(n=>(Y(n!==null),n))}Qn(e,n){return ZT(e).put("targetGlobalKey",n)}Kn(e,n){return To(e).put(vC(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Gs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return To(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Bl(a);mc(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=mi(e);return n.forEach(o=>{const a=Wt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=mi(e);return L.forEach(n,s=>{const o=Wt(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=mi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=mi(e);let s=oe();return i.J({range:r,H:!0},(o,a,l)=>{const u=nr(o[1]),h=new q(u);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=Wt(n.path),i=IDBKeyRange.bound([r],[ER(r)],!1,!0);let s=0;return mi(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return To(e).get(n).next(r=>r?Bl(r):null)}}function To(t){return lt(t,"targets")}function ZT(t){return lt(t,"targetGlobal")}function mi(t){return lt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class sU{constructor(e){this.Un=e,this.buffer=new Ee(eI),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zi(n)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Hn(3e5)})}}class aU{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Cn.oe);const r=new sU(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(JT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JT):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),So()<=le.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function lU(t,e){return new aU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n){this.db=e,this.garbageCollector=lU(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return wh(e,r)}removeReference(e,n,r){return wh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return wh(e,n)}nr(e,n){return function(i,s){let o=!1;return xC(i).Y(a=>IC(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,J.min()),mi(e).delete(function(d){return[0,Wt(d.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return wh(e,n)}tr(e,n){const r=mi(e);let i,s=Cn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Cn.oe&&n(new q(nr(i)),s),s=u,i=l):s=Cn.oe}).next(()=>{s!==Cn.oe&&n(new q(nr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wh(t,e){return mi(t).put(function(r,i){return{targetId:0,path:Wt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return us(e).put(r)}removeEntry(e,n,r){return us(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Wd(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Qe.newInvalidDocument(n);return us(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Al(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:Qe.newInvalidDocument(n)};return us(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Al(n))},(i,s)=>{r={document:this.ir(n,s),size:Hd(s)}}).next(()=>r)}getEntries(e,n){let r=dn();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=dn(),i=new Me(q.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,Hd(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new Ee(rI);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Al(i.first()),Al(i.last())),o=i.getIterator();let a=o.getNext();return us(e).J({index:"documentKeyIndex",range:s},(l,u,h)=>{const d=q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&rI(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.$(Al(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Wd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return us(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let h=dn();for(const d of u){const f=this.ir(q.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(gc(n,f)||i.has(f.key))&&(h=h.insert(f.key,f))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=dn();const o=nI(n,r),a=nI(n,_n.max());return us(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,h)=>{const d=this.ir(q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new hU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return tI(e).get("remoteDocumentGlobalKey").next(n=>(Y(!!n),n))}rr(e,n){return tI(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=H6(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(J.min())))return r}return Qe.newInvalidDocument(e)}}function bC(t){return new cU(t)}class hU extends SC{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new es(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ee((s,o)=>re(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=BT(this.cr.serializer,o);i=i.add(s.path.popLast());const u=Hd(l);r+=u-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=BT(this.cr.serializer,o.convertToNoDocument(J.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function tI(t){return lt(t,"remoteDocumentGlobal")}function us(t){return lt(t,"remoteDocumentsV14")}function Al(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nI(t,e){const n=e.documentKey.path.toArray();return[t,Wd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=re(n[s],r[s]),i)return i;return i=re(n.length,r.length),i||(i=re(n[n.length-2],r[r.length-2]),i||re(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lu(r.mutation,i,en.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=rr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=rr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=dn();const o=au(),a=function(){return au()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Xr)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),lu(h.mutation,u,h.mutation.getFieldMask(),Be.now())):o.set(u.key,en.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new dU(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=au();let i=new Me((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||en.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=GR();h.forEach(f=>{if(!s.has(f)){const g=eC(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(rr());let a=-1,l=s;return o.next(u=>L.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,oe())).next(h=>({batchId:a,changes:WR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=jl();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=function(d,f){return new Ka(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Qe.newInvalidDocument(h)))});let a=jl();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&lu(h.mutation,u,en.empty(),Be.now()),gc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gt(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_C(i.bundledQuery),readTime:Gt(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.overlays=new Me(q.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=rr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=rr(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=rr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q_(n,r));let s=this.Ir.get(n);s===void 0&&(s=oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.Tr=new Ee(ut.Er),this.dr=new Ee(ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new q(new ye([])),r=new ut(n,e),i=new ut(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new q(new ye([])),r=new ut(n,e),i=new ut(n,e+1);let s=oe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||re(e.wr,n.wr)}static Ar(e,n){return re(e.wr,n.wr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ee(ut.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new G_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ee(re);return n.forEach(i=>{const s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new ut(new q(s),0);let a=new Ee(re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Y(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const s=new ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ut(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.Mr=e,this.docs=function(){return new Me(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let r=dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qe.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=dn();const o=n.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||j_(TR(h),r)<=0||(i.has(h.key)||gc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vU(this)}getSize(e){return L.resolve(this.size)}}class vU extends SC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.persistence=e,this.Nr=new es(n=>Gs(n),mc),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new e0,this.targetCount=0,this.kr=Ys.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cn(0),this.Kr=!1,this.Kr=!0,this.$r=new mU,this.referenceDelegate=e(this),this.Ur=new _U(this),this.indexManager=new nU,this.remoteDocumentCache=function(i){return new yU(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new yC(n),this.Gr=new fU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gU(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new wU(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class wU extends xR{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.Jr=new e0,this.Yr=null}static Zr(e){return new Xf(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Uf("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yT,{unique:!0}),l.createObjectStore("documentMutations")}(e),iI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),iI(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yT,{unique:!0});const d=u.store("mutations"),f=h.map(g=>d.put(g));return L.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Xj});u.createIndex("collectionPathOverlayIndex",Jj,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Zj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Uj});u.createIndex("documentKeyIndex",Bj),u.createIndex("collectionGroupIndex",zj)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Gj}).createIndex("sequenceNumberIndex",Hj,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Qj}).createIndex("documentKeyIndex",Yj,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Hd(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{Y(l.userId===s.userId);const u=vs(this.serializer,l);return TC(e,s.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new ye(o),u=function(d){return[0,Wt(d)]}(l);s.push(n.get(u).next(h=>h?L.resolve():(d=>n.put({targetId:0,path:Wt(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Wj});const r=n.store("collectionParents"),i=new Z_,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Wt(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new ye(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const h=nr(a);return s(h.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=Bl(i),o=vC(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new q(ye.fromString(d.document.name).popFirst(5)):d.noDocument?q.fromSegments(d.noDocument.path):d.unknownDocument?q.fromSegments(d.unknownDocument.path):Q()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=bC(this.serializer),s=new PC(Xf.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let h=(u=a.get(l.userId))!==null&&u!==void 0?u:oe();vs(this.serializer,l).keys().forEach(d=>h=h.add(d)),a.set(l.userId,h)}),L.forEach(a,(l,u)=>{const h=new Bt(u),d=Qf.lt(this.serializer,h),f=s.getIndexManager(h),g=Yf.lt(h,this.serializer,f,s.referenceDelegate);return new AC(i,g,d,f).recalculateAndSaveOverlaysForDocumentKeys(new my(n,Cn.oe),l).next()})})}}function iI(t){t.createObjectStore("targetDocuments",{keyPath:Kj}).createIndex("documentTargetsIndex",qj,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$j,{unique:!0}),t.createObjectStore("targetGlobal")}const Rm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class t0{constructor(e,n,r,i,s,o,a,l,u,h,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=u,this.li=h,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!t0.D())throw new K(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uU(this,i),this.Ai=n+"main",this.serializer=new yC(l),this.Ri=new Vi(this.Ai,this.hi,new EU(this.serializer)),this.$r=new Y6,this.Ur=new iU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bC(this.serializer),this.Gr=new Q6,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K(j.FAILED_PRECONDITION,Rm);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Cn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Eh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Zi(e))return B("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Pl(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return Eh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=lt(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):Pl(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new K(j.FAILED_PRECONDITION,Rm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Eh(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&B("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new my(e,Cn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Eh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Yf.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rU(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Qf.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?n6:l===16?t6:l===15?B_:l===14?RR:l===13?PR:l===12?e6:l===11?AR:void Q()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new my(a,this.Qr?this.Qr.next():Cn.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new K(j.FAILED_PRECONDITION,IR);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Pl(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new K(j.FAILED_PRECONDITION,Rm)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pl(e).put("owner",n)}static D(){return Vi.D()}bi(e){const n=Pl(e);return n.get("owner").next(r=>this.vi(r)?(B("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;oR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return B("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pl(t){return lt(t,"owner")}function Eh(t){return lt(t,"clientMetadata")}function TU(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oR()?8:SR(at())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new IU;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(So()<=le.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(So()<=le.DEBUG&&B("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(So()<=le.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):L.resolve())}Yi(e,n){if(CT(n))return L.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ty(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Ty(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return CT(n)||i.isEqual(J.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?L.resolve(null):(So()<=le.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bo(n)),this.rs(e,o,n,Nj(i,-1)).next(a=>a))})}ts(e,n){let r=new Ee(KR(e));return n.forEach((i,s)=>{gc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return So()<=le.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",bo(n)),this.Ji.getDocumentsMatchingQuery(e,n,_n.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Me(re),this._s=new es(s=>Gs(s),mc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CC(t,e,n,r){return new xU(t,e,n,r)}async function kC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=oe();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function SU(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let g=L.resolve();return f.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(I=>{const S=u.docVersions.get(v);Y(S!==null),I.version.compareTo(S)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),h.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function bU(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(rt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(I,S,y){return I.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let l=dn(),u=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(AU(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(J.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function AU(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=dn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function PU(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RU(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Cy(t,e,n){const r=ne(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Zi(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function sI(t,e,n){const r=ne(t);let i=J.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=ne(l),f=d._s.get(h);return f!==void 0?L.resolve(d.os.get(f)):d.Ur.getTargetData(u,h)}(r,o,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:oe())).next(a=>(CU(r,y6(e),a),{documents:a,Ts:s})))}function CU(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class oI{constructor(){this.activeTargetIds=I6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.so=new oI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Cm(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class OU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Cm(),l=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(h=>(B("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ya("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=NU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Cm();return new Promise((o,a)=>{const l=new mR;l.setWithCredentials(!0),l.listenOnce(gR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kh.NO_ERROR:const h=l.getResponseJson();B(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Kh.TIMEOUT:B(At,`RPC '${e}' ${s} timed out`),a(new K(j.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const d=l.getStatus();if(B(At,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(y)>=0?y:j.UNKNOWN}(g.status);a(new K(v,g.message))}else a(new K(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(j.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{B(At,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);B(At,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Cm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_R(),a=vR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");B(At,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const v=new DU({Io:S=>{g?B(At,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(B(At,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),B(At,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},To:()=>d.close()}),I=(S,y,_)=>{S.listen(y,E=>{try{_(E)}catch(C){setTimeout(()=>{throw C},0)}})};return I(d,Fl.EventType.OPEN,()=>{g||(B(At,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),I(d,Fl.EventType.CLOSE,()=>{g||(g=!0,B(At,`RPC '${e}' stream ${i} transport closed`),v.So())}),I(d,Fl.EventType.ERROR,S=>{g||(g=!0,ya(At,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new K(j.UNAVAILABLE,"The operation could not be completed")))}),I(d,Fl.EventType.MESSAGE,S=>{var y;if(!g){const _=S.data[0];Y(!!_);const E=_,C=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(C){B(At,`RPC '${e}' stream ${i} received error:`,C);const N=C.status;let O=function(A){const P=et[A];if(P!==void 0)return rC(P)}(N),T=C.message;O===void 0&&(O=j.INTERNAL,T="Unknown error status: "+N+" with message "+C.message),g=!0,v.So(new K(O,T)),d.close()}else B(At,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),I(a,yR.STAT_EVENT,S=>{S.stat===fy.PROXY?B(At,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===fy.NOPROXY&&B(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(){return typeof window<"u"?window:null}function Xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){return new F6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(zt(n.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new K(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MU extends VC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=B6(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Gt(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Sy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zd(l)?{documents:hC(s,l)}:{query:dC(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oC(s,o.resumeToken);const u=Iy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=ba(s,o.snapshotVersion.toTimestamp());const u=Iy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=$6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Sy(this.serializer),n.removeTarget=e,this.a_(n)}}class LU extends VC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Y(!!e.streamToken),this.lastStreamToken=e.streamToken,Y(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=z6(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Sy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qd(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,xy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(j.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,xy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zt(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ao(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.L_.add(4),await vc(u),u.q_.set("Unknown"),u.L_.delete(4),await Zf(u)}(this))})}),this.q_=new jU(r,i)}}async function Zf(t){if(ao(t))for(const e of t.B_)await e(!0)}async function vc(t){for(const e of t.B_)await e(!1)}function MC(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),o0(n)?s0(n):Wa(n).r_()&&i0(n,e))}function r0(t,e){const n=ne(t),r=Wa(n);n.N_.delete(e),r.r_()&&LC(n,e),n.N_.size===0&&(r.r_()?r.o_():ao(n)&&n.q_.set("Unknown"))}function i0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wa(t).A_(e)}function LC(t,e){t.Q_.xe(e),Wa(t).R_(e)}function s0(t){t.Q_=new O6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wa(t).start(),t.q_.v_()}function o0(t){return ao(t)&&!Wa(t).n_()&&t.N_.size>0}function ao(t){return ne(t).L_.size===0}function FC(t){t.Q_=void 0}async function BU(t){t.q_.set("Online")}async function zU(t){t.N_.forEach((e,n)=>{i0(t,e)})}async function $U(t,e){FC(t),o0(t)?(t.q_.M_(e),s0(t)):t.q_.set("Unknown")}async function KU(t,e,n){if(t.q_.set("Online"),e instanceof sC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof Yh?t.Q_.Ke(e):e instanceof iC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{const r=await NC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),LC(s,l);const d=new Rr(h.target,l,u,h.sequenceNumber);i0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!Zi(e))throw e;t.L_.add(1),await vc(t),t.q_.set("Offline"),n||(n=()=>NC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zf(t)})}function jC(t,e){return e().catch(n=>Qd(t,n,e))}async function _c(t){const e=ne(t),n=$i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qU(e);)try{const i=await PU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,WU(e,i)}catch(i){await Qd(e,i)}UC(e)&&BC(e)}function qU(t){return ao(t)&&t.O_.length<10}function WU(t,e){t.O_.push(e);const n=$i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UC(t){return ao(t)&&!$i(t).n_()&&t.O_.length>0}function BC(t){$i(t).start()}async function GU(t){$i(t).p_()}async function HU(t){const e=$i(t);for(const n of t.O_)e.m_(n.mutations)}async function QU(t,e,n){const r=t.O_.shift(),i=H_.from(r,e,n);await jC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _c(t)}async function YU(t,e){e&&$i(t).V_&&await async function(r,i){if(function(o){return k6(o)&&o!==j.ABORTED}(i.code)){const s=r.O_.shift();$i(r).s_(),await jC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await _c(r)}}(t,e),UC(t)&&BC(t)}async function lI(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ao(n);n.L_.add(3),await vc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zf(n)}async function XU(t,e){const n=ne(t);e?(n.L_.delete(2),await Zf(n)):e||(n.L_.add(2),await vc(n),n.q_.set("Unknown"))}function Wa(t){return t.K_||(t.K_=function(n,r,i){const s=ne(n);return s.w_(),new MU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:BU.bind(null,t),Ro:zU.bind(null,t),mo:$U.bind(null,t),d_:KU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),o0(t)?s0(t):t.q_.set("Unknown")):(await t.K_.stop(),FC(t))})),t.K_}function $i(t){return t.U_||(t.U_=function(n,r,i){const s=ne(n);return s.w_(),new LU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GU.bind(null,t),mo:YU.bind(null,t),f_:HU.bind(null,t),g_:QU.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await _c(t)):(await t.U_.stop(),t.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new a0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(zt("AsyncQueue",`${e}: ${t}`),Zi(t))return new K(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.W_=new Me(q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Aa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Aa(e,n,sa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ZU{constructor(){this.queries=cI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=cI(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new K(j.ABORTED,"Firestore shutting down"))}}function cI(){return new es(t=>$R(t),Kf)}async function zC(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new JU,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=l0(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&u0(n)}async function $C(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e5(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&u0(n)}function t5(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function u0(t){t.Y_.forEach(e=>{e.next()})}var ky,hI;(hI=ky||(ky={})).ea="default",hI.Cache="cache";class KC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.key=e}}class WC{constructor(e){this.key=e}}class n5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=KR(e),this.Ra=new sa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new uI,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=gc(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?v!==I&&(r.track({type:3,doc:g}),S=!0):this.ga(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,v){const I=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return I(g)-I(v)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Aa(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qC(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Aa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class r5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class i5{constructor(e){this.key=e,this.va=!1}}class s5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new es(a=>$R(a),Kf),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(q.comparator),this.Na=new Map,this.La=new e0,this.Ba={},this.ka=new Map,this.qa=Ys.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function o5(t,e,n=!0){const r=JC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await GC(r,e,n,!0),i}async function a5(t,e){const n=JC(t);await GC(n,e,!0,!1)}async function GC(t,e,n,r){const i=await RU(t.localStore,Nn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await l5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&MC(t.remoteStore,i),a}async function l5(t,e,n,r,i){t.Ka=(d,f,g)=>async function(I,S,y,_){let E=S.view.ma(y);E.ns&&(E=await sI(I.localStore,S.query,!1).then(({documents:T})=>S.view.ma(T,E)));const C=_&&_.targetChanges.get(S.targetId),N=_&&_.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(E,I.isPrimaryClient,C,N);return fI(I,S.targetId,O.wa),O.snapshot}(t,d,f,g);const s=await sI(t.localStore,e,!0),o=new n5(e,s.Ts),a=o.ma(s.documents),l=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);fI(t,n,u.wa);const h=new r5(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function u5(t,e,n){const r=ne(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Kf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&r0(r.remoteStore,i.targetId),Ny(r,i.targetId)}).catch(so)):(Ny(r,i.targetId),await Cy(r.localStore,i.targetId,!0))}async function c5(t,e){const n=ne(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r0(n.remoteStore,r.targetId))}async function h5(t,e,n){const r=ZC(t);try{const i=await function(o,a){const l=ne(o),u=Be.now(),h=a.reduce((g,v)=>g.add(v.key),oe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=dn(),I=oe();return l.cs.getEntries(g,h).next(S=>{v=S,v.forEach((y,_)=>{_.isValidDocument()||(I=I.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{d=S;const y=[];for(const _ of a){const E=R6(_,d.get(_.key).overlayedDocument);E!=null&&y.push(new Xr(_.key,E,OR(E.value.mapValue),$t.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,y,a)}).next(S=>{f=S;const y=S.applyToLocalDocumentSet(d,I);return l.documentOverlayCache.saveOverlays(g,S.batchId,y)})}).then(()=>({batchId:f.batchId,changes:WR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Me(re)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await wc(r,i.changes),await _c(r.remoteStore)}catch(i){const s=l0(i,"Failed to persist write");n.reject(s)}}async function HC(t,e){const n=ne(t);try{const r=await bU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Y(o.va):i.removedDocuments.size>0&&(Y(o.va),o.va=!1))}),await wc(n,r,e)}catch(r){await so(r)}}function dI(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&u0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d5(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Me(q.comparator);o=o.insert(s,Qe.newNoDocument(s,J.min()));const a=oe().add(s),l=new Hf(J.min(),new Map,new Me(re),o,a);await HC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),c0(r)}else await Cy(r.localStore,e,!1).then(()=>Ny(r,e,n)).catch(so)}async function f5(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await SU(n.localStore,e);YC(n,r,null),QC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wc(n,i)}catch(i){await so(i)}}async function p5(t,e,n){const r=ne(t);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Y(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);YC(r,e,n),QC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wc(r,i)}catch(i){await so(i)}}function QC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function YC(t,e,n){const r=ne(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XC(t,r)})}function XC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(r0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),c0(t))}function fI(t,e,n){for(const r of n)r instanceof qC?(t.La.addReference(r.key,e),m5(t,r)):r instanceof WC?(B("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XC(t,r.key)):Q()}function m5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(B("SyncEngine","New document in limbo: "+n),t.xa.add(r),c0(t))}function c0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new q(ye.fromString(e)),r=t.qa.next();t.Na.set(r,new i5(n)),t.Oa=t.Oa.insert(n,r),MC(t.remoteStore,new Rr(Nn($f(n.path)),r,"TargetPurposeLimboResolution",Cn.oe))}}async function wc(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=n0.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const h=ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(u,f=>L.forEach(f.$i,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>L.forEach(f.Ui,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Zi(d))throw d;B("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const g=h.os.get(f),v=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(f,I)}}}(r.localStore,s))}async function g5(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await kC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new K(j.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(n,r.hs)}}function y5(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let i=oe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function JC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d5.bind(null,e),e.Ca.d_=e5.bind(null,e.eventManager),e.Ca.$a=t5.bind(null,e.eventManager),e}function ZC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,e),e}class Gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CC(this.persistence,new RC,e.initialUser,this.serializer)}Ga(e){return new PC(Xf.Zr,this.serializer)}Wa(e){return new DC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gu.provider={build:()=>new Gu};class v5 extends Gu{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await ZC(this.Ja.syncEngine),await _c(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return CC(this.persistence,new RC,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new oU(r,e.asyncQueue,n)}Ha(e,n){const r=new Mj(n,this.persistence);return new Vj(e.asyncQueue,r)}Ga(e){const n=TU(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new t0(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,VU(),Xh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new DC}}class Yd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,this.syncEngine),await XU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZU}()}createDatastore(e){const n=Jf(e.databaseInfo.databaseId),r=function(s){return new OU(s)}(e.databaseInfo);return function(s,o,a,l){return new FU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new UU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dI(this.syncEngine,n,0),function(){return aI.D()?new aI:new kU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new s5(i,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);B("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await vc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=wR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{B("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function km(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w5(t);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lI(e.remoteStore,i)),t._onlineComponents=e}async function w5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ya("Error using user provided cache. Falling back to memory cache: "+n),await km(t,new Gu)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await km(t,new Gu);return t._offlineComponents}async function tk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await pI(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await pI(t,new Yd))),t._onlineComponents}function E5(t){return tk(t).then(e=>e.syncEngine)}async function Dy(t){const e=await tk(t),n=e.eventManager;return n.onListen=o5.bind(null,e.syncEngine),n.onUnlisten=u5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c5.bind(null,e.syncEngine),n}function T5(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new ek({next:f=>{h.Za(),o.enqueueAndForget(()=>$C(s,d)),f.fromCache&&l.source==="server"?u.reject(new K(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new KC(a,h,{includeMetadataChanges:!0,_a:!0});return zC(s,d)}(await Dy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e,n){if(!n)throw new K(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I5(t,e,n,r){if(e===!0&&r===!0)throw new K(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gI(t){if(!q.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yI(t){if(q.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(t);throw new K(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xj;switch(r.type){case"firstParty":return new Aj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mI.get(n);r&&(B("ComponentProvider","Removing Datastore"),mI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Mi extends ts{constructor(e,n,r){super(e,n,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new q(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function ir(t,e,...n){if(t=$e(t),rk("collection","path",e),t instanceof h0){const r=ye.fromString(e,...n);return yI(r),new Mi(t,null,r)}{if(!(t instanceof on||t instanceof Mi))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return yI(r),new Mi(t.firestore,null,r)}}function uu(t,e,...n){if(t=$e(t),arguments.length===1&&(e=wR.newId()),rk("doc","path",e),t instanceof h0){const r=ye.fromString(e,...n);return gI(r),new on(t,null,new q(r))}{if(!(t instanceof on||t instanceof Mi))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return gI(r),new on(t.firestore,t instanceof Mi?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OC(this,"async_queue_retry"),this.Vu=()=>{const r=Xh();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Xh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Xh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Vr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zi(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=a0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Q()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function wI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ki extends h0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _I,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _I(e),this._firestoreClient=void 0,await e}}}function x5(t,e,n){n||(n="(default)");const r=jf(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Lu(s,e))return i;throw new K(j.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new K(j.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function d0(t){if(t._terminated)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ik(t),t._firestoreClient}function ik(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new i6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _5(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function S5(t,e){ya("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return b5(t,Yd.provider,{build:r=>new v5(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function b5(t,e,n){if((t=hr(t,Ki))._firestoreClient||t._terminated)throw new K(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new K(j.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},ik(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(rt.fromBase64String(e))}catch(n){throw new K(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pa(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=/^__.*__$/;class P5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}class sk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ok(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class m0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new m0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ok(this.Cu)&&A5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class R5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jf(e)}Qu(e,n,r,i=!1){return new m0({Cu:e,methodName:n,qu:r,path:Fe.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g0(t){const e=t._freezeSettings(),n=Jf(t._databaseId);return new R5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C5(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);_0("Data must be an object, but it was:",o,r);const a=ak(r,o);let l,u;if(s.merge)l=new en(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=Oy(e,d,n);if(!o.contains(f))throw new K(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);uk(h,f)||h.push(f)}l=new en(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new P5(new Ct(a),l,u)}class np extends Ec{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}class y0 extends Ec{_toFieldTransform(e){return new W_(e.path,new Ta)}isEqual(e){return e instanceof y0}}class v0 extends Ec{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Sa(e.serializer,QR(e.serializer,this.$u));return new W_(e.path,n)}isEqual(e){return e instanceof v0&&this.$u===e.$u}}function k5(t,e,n,r){const i=t.Qu(1,e,n);_0("Data must be an object, but it was:",i,r);const s=[],o=Ct.empty();oo(r,(l,u)=>{const h=w0(e,l,n);u=$e(u);const d=i.Nu(h);if(u instanceof np)s.push(h);else{const f=Tc(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new en(s);return new sk(o,a,i.fieldTransforms)}function N5(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Oy(e,r,n)],l=[i];if(s.length%2!=0)throw new K(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Oy(e,s[f])),l.push(s[f+1]);const u=[],h=Ct.empty();for(let f=a.length-1;f>=0;--f)if(!uk(u,a[f])){const g=a[f];let v=l[f];v=$e(v);const I=o.Nu(g);if(v instanceof np)u.push(g);else{const S=Tc(v,I);S!=null&&(u.push(g),h.set(g,S))}}const d=new en(u);return new sk(h,d,o.fieldTransforms)}function D5(t,e,n,r=!1){return Tc(n,t.Qu(r?4:3,e))}function Tc(t,e){if(lk(t=$e(t)))return _0("Unsupported field value:",e,t),ak(t,e);if(t instanceof Ec)return function(r,i){if(!ok(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Tc(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Be.fromDate(r);return{timestampValue:ba(i.serializer,s)}}if(r instanceof Be){const s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ba(i.serializer,s)}}if(r instanceof f0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:oC(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:X_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof p0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return q_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ep(r)}`)}(t,e)}function ak(t,e){const n={};return CR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,i)=>{const s=Tc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof f0||t instanceof Pa||t instanceof on||t instanceof Ec||t instanceof p0)}function _0(t,e,n){if(!lk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ep(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Oy(t,e,n){if((e=$e(e))instanceof tp)return e._internalPath;if(typeof e=="string")return w0(t,e);throw Xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const O5=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(O5)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tp(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(j.INVALID_ARGUMENT,a+t+l)}function uk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V5 extends ck{data(){return super.data()}}function rp(t,e){return typeof e=="string"?w0(t,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E0{}class dk extends E0{}function Vy(t,e,...n){let r=[];e instanceof E0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof T0).length,a=s.filter(l=>l instanceof ip).length;if(o>1||o>0&&a>0)throw new K(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ip extends dk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ip(e,n,r)}_apply(e){const n=this._parse(e);return fk(e._query,n),new ts(e.firestore,e.converter,Ey(e._query,n))}_parse(e){const n=g0(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){TI(d,h);const g=[];for(const v of d)g.push(EI(l,s,v));f={arrayValue:{values:g}}}else f=EI(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||TI(d,h),f=D5(a,o,d,h==="in"||h==="not-in");return ue.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function M5(t,e,n){const r=e,i=rp("where",t);return ip._create(i,r,n)}class T0 extends E0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)fk(o,l),o=Ey(o,l)}(e._query,n),new ts(e.firestore,e.converter,Ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class I0 extends dk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new I0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(s,o)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ka(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function L5(t,e="asc"){const n=e,r=rp("orderBy",t);return I0._create(r,n)}function EI(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new K(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(e)&&n.indexOf("/")!==-1)throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!q.isDocumentKey(r))throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ku(t,new q(r))}if(n instanceof on)return Ku(t,n._key);throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(n)}.`)}function TI(t,e){if(!Array.isArray(t)||t.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F5{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ne(o.doubleValue));return new p0(s)}convertGeoPoint(e){return new f0(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);Y(gC(r));const i=new qs(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||zt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pk extends ck{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jh extends pk{data(e={}){return super.data(e)}}class mk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jh(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:U5(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function U5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class x0 extends F5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function Nm(t){t=hr(t,ts);const e=hr(t.firestore,Ki),n=d0(e),r=new x0(e);return hk(t._query),T5(n,t._query).then(i=>new mk(e,r,t,i))}function My(t,e,n,...r){t=hr(t,on);const i=hr(t.firestore,Ki),s=g0(i);let o;return o=typeof(e=$e(e))=="string"||e instanceof tp?N5(s,"updateDoc",t._key,e,n,r):k5(s,"updateDoc",t._key,e),S0(i,[o.toMutation(t._key,$t.exists(!0))])}function B5(t){return S0(hr(t.firestore,Ki),[new Gf(t._key,$t.none())])}function sp(t,e){const n=hr(t.firestore,Ki),r=uu(t),i=j5(t.converter,e);return S0(n,[C5(g0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$t.exists(!1))]).then(()=>r)}function gk(t,...e){var n,r,i;t=$e(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(t instanceof on)u=hr(t.firestore,Ki),h=$f(t._key.path),l={next:d=>{e[o]&&e[o](z5(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=hr(t,ts);u=hr(d.firestore,Ki),h=d._query;const f=new x0(u);l={next:g=>{e[o]&&e[o](new mk(u,f,d,g))},error:e[o+1],complete:e[o+2]},hk(t._query)}return function(f,g,v,I){const S=new ek(I),y=new KC(g,S,v);return f.asyncQueue.enqueueAndForget(async()=>zC(await Dy(f),y)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>$C(await Dy(f),y))}}(d0(u),h,a,l)}function S0(t,e){return function(r,i){const s=new Vr;return r.asyncQueue.enqueueAndForget(async()=>h5(await E5(r),i,s)),s.promise}(d0(t),e)}function z5(t,e,n){const r=n.docs.get(e._key),i=new x0(t);return new pk(t,i,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function $5(){return new y0("serverTimestamp")}function K5(t){return new v0("increment",t)}(function(e,n=!0){(function(i){$a=i})(io),$s(new Ui("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ki(new Sj(r.getProvider("auth-internal")),new Rj(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),cr(pT,"4.7.3",e),cr(pT,"4.7.3","esm2017")})();var tn=function(){return tn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tn.apply(this,arguments)};function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hu(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q5=yk,vk=new fc("auth","Firebase",yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new M_("@firebase/auth");function W5(t,...e){Jd.logLevel<=le.WARN&&Jd.warn(`Auth (${io}): ${t}`,...e)}function Zh(t,...e){Jd.logLevel<=le.ERROR&&Jd.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw A0(t,...e)}function dr(t,...e){return A0(t,...e)}function _k(t,e,n){const r=Object.assign(Object.assign({},q5()),{[e]:n});return new fc("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return _k(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vk.create(t,...e)}function te(t,e,...n){if(!t)throw A0(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zh(e),new Error(e)}function qr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G5(){return II()==="http:"||II()==="https:"}function II(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G5()||rF()||"connection"in navigator)?navigator.onLine:!0}function Q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=eF()||iF()}get(){return H5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new Ic(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return Ek(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return nF()||(u.referrerPolicy="no-referrer"),wk.fetch()(Tk(t,t.config.apiHost,n,a),u)})}async function Ek(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y5),e);try{const i=new Z5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ih(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _k(t,h,u);Qn(t,h)}}catch(i){if(i instanceof vr)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function op(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Tk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P0(t.config,i):`${t.config.apiScheme}://${i}`}function J5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),X5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(t,e,r);return i.customData._tokenResponse=n,i}function xI(t){return t!==void 0&&t.enterprise!==void 0}class e3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function t3(t,e){return ns(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Ik(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r3(t,e=!1){const n=$e(t),r=await n.getIdToken(e),i=R0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(Dm(i.auth_time)),issuedAtTime:cu(Dm(i.iat)),expirationTime:cu(Dm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dm(t){return Number(t)*1e3}function R0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=nR(n);return i?JSON.parse(i):(Zh("Failed to decode base64 JWT payload"),null)}catch(i){return Zh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SI(t){const e=R0(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&i3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qu(t,Ik(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xk(s.providerUserInfo):[],a=a3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fy(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function o3(t){const e=$e(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xk(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e){const n=await Ek(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Tk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u3(t,e){return ns(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=SI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await l3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new oa;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r3(this,e)}reload(){return o3(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Qu(this,n3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:C,isAnonymous:N,providerData:O,stsTokenManager:T}=n;te(E&&T,e,"internal-error");const w=oa.fromJSON(this.name,T);te(typeof E=="string",e,"internal-error"),oi(d,e.name),oi(f,e.name),te(typeof C=="boolean",e,"internal-error"),te(typeof N=="boolean",e,"internal-error"),oi(g,e.name),oi(v,e.name),oi(I,e.name),oi(S,e.name),oi(y,e.name),oi(_,e.name);const A=new kr({uid:E,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:N,photoURL:v,phoneNumber:g,tenantId:I,stsTokenManager:w,createdAt:y,lastLoginAt:_});return O&&Array.isArray(O)&&(A.providerData=O.map(P=>Object.assign({},P))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new oa;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new oa;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;function Nr(t){qr(t instanceof Function,"Expected a class definition");let e=bI.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sk.type="NONE";const AI=Sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ed(this.userKey,i.apiKey,s),this.fullPersistenceKey=ed("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(Nr(AI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nr(AI);const o=ed(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=kr._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new aa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new aa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kk(e))return"Blackberry";if(Nk(e))return"Webos";if(Ak(e))return"Safari";if((e.includes("chrome/")||Pk(e))&&!e.includes("edge/"))return"Chrome";if(Ck(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bk(t=at()){return/firefox\//i.test(t)}function Ak(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pk(t=at()){return/crios\//i.test(t)}function Rk(t=at()){return/iemobile/i.test(t)}function Ck(t=at()){return/android/i.test(t)}function kk(t=at()){return/blackberry/i.test(t)}function Nk(t=at()){return/webos/i.test(t)}function C0(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c3(t=at()){var e;return C0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h3(){return sF()&&document.documentMode===10}function Dk(t=at()){return C0(t)||Ck(t)||Nk(t)||kk(t)||/windows phone/i.test(t)||Rk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e=[]){let n;switch(t){case"Browser":n=PI(at());break;case"Worker":n=`${PI(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e={}){return ns(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=6;class m3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:p3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new d3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ik(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Li(this));const n=e?$e(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f3(this),n=new m3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ok(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&W5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ga(t){return $e(t)}class RI{constructor(e){this.auth=e,this.observer=null,this.addObserver=hF(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y3(t){ap=t}function Vk(t){return ap.loadJS(t)}function v3(){return ap.recaptchaEnterpriseScript}function _3(){return ap.gapiScript}function w3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const E3="recaptcha-enterprise",T3="NO_RECAPTCHA";class I3{constructor(e){this.type=E3,this.auth=Ga(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{t3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new e3(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;xI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(T3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&xI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=v3();l.length!==0&&(l+=a),Vk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function CI(t,e,n,r=!1){const i=new I3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function kI(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await CI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await CI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){const n=jf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lu(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function S3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b3(t,e,n){const r=Ga(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Mk(e),{host:o,port:a}=A3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),P3()}function Mk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A3(t){const e=Mk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:NI(o)}}}function NI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function R3(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e){return op(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e){return op(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function N3(t,e){return op(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends k0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,n,"signInWithPassword",C3);case"emailLink":return k3(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,r,"signUpPassword",R3);case"emailLink":return N3(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e){return op(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="http://localhost";class Xs extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:D3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V3(t){const e=Ml(Ll(t)).link,n=e?Ml(Ll(e)).deep_link_id:null,r=Ml(Ll(t)).deep_link_id;return(r?Ml(Ll(r)).link:null)||r||n||e||t}class N0{constructor(e){var n,r,i,s,o,a;const l=Ml(Ll(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=O3((i=l.mode)!==null&&i!==void 0?i:null);te(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=V3(e);try{return new N0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N0.parseLink(n);return te(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Lk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends xc{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends xc{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends xc{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=DI(r);return new Ra({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DI(r);return new Ra({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends vr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ef(e,n,r,i)}}function Fk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,s,e,r):s})}async function M3(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const s=await Qu(t,Fk(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=R0(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),Ra._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e,n=!1){if(Pr(t.app))return Promise.reject(Li(t));const r="signIn",i=await Fk(t,r,e),s=await Ra._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function F3(t,e){return jk(Ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t){const e=Ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function U3(t,e,n){return Pr(t.app)?Promise.reject(Li(t)):F3($e(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&j3(t),r})}function B3(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function z3(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function $3(t,e,n,r){return $e(t).onAuthStateChanged(e,n,r)}function K3(t){return $e(t).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=1e3,W3=10;class Bk extends Uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);h3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bk.type="LOCAL";const G3=Bk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk extends Uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zk.type="SESSION";const $k=zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await H3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=D0("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function Y3(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function X3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z3(){return Kk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="firebaseLocalStorageDb",eB=1,nf="firebaseLocalStorage",Wk="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function tB(){const t=indexedDB.deleteDatabase(qk);return new Sc(t).toPromise()}function jy(){const t=indexedDB.open(qk,eB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nf,{keyPath:Wk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nf)?e(r):(r.close(),await tB(),e(await jy()))})})}async function OI(t,e,n){const r=up(t,!0).put({[Wk]:e,value:n});return new Sc(r).toPromise()}async function nB(t,e){const n=up(t,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function VI(t,e){const n=up(t,!0).delete(e);return new Sc(n).toPromise()}const rB=800,iB=3;class Gk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(Z3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X3(),!this.activeServiceWorker)return;this.sender=new Q3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await OI(e,tf,"1"),await VI(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=up(i,!1).getAll();return new Sc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gk.type="LOCAL";const sB=Gk;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t,e){return e?Nr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends k0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aB(t){return jk(t.auth,new O0(t),t.bypassAuthState)}function lB(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),L3(n,new O0(t),t.bypassAuthState)}async function uB(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),M3(n,new O0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aB;case"linkViaPopup":case"linkViaRedirect":return uB;case"reauthViaPopup":case"reauthViaRedirect":return lB;default:Qn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=new Ic(2e3,1e4);class Ko extends Hk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cB.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="pendingRedirect",td=new Map;class dB extends Hk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const r=await fB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fB(t,e){const n=gB(e),r=mB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pB(t,e){td.set(t._key(),e)}function mB(t){return Nr(t._redirectPersistence)}function gB(t){return ed(hB,t.config.apiKey,t.name)}async function yB(t,e,n=!1){if(Pr(t.app))return Promise.reject(Li(t));const r=Ga(t),i=oB(r,e),o=await new dB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=10*60*1e3;class _B{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vB&&this.cachedEventUids.clear(),this.cachedEventUids.has(MI(e))}saveEventToCache(e){this.cachedEventUids.add(MI(e)),this.lastProcessedEventTime=Date.now()}}function MI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IB=/^https?/;async function xB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EB(t);for(const n of e)try{if(SB(n))return}catch{}Qn(t,"unauthorized-domain")}function SB(t){const e=Ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IB.test(n))return!1;if(TB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Ic(3e4,6e4);function LI(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AB(t){return new Promise((e,n)=>{var r,i,s;function o(){LI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LI(),n(dr(t,"network-request-failed"))},timeout:bB.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{const a=w3("iframefcb");return fr()[a]=()=>{gapi.load?o():n(dr(t,"network-request-failed"))},Vk(`${_3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nd=null,e})}let nd=null;function PB(t){return nd=nd||AB(t),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=new Ic(5e3,15e3),CB="__/auth/iframe",kB="emulator/auth/iframe",NB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OB(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P0(e,kB):`https://${t.config.authDomain}/${CB}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=DB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pc(r).slice(1)}`}async function VB(t){const e=await PB(t),n=fr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:OB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=dr(t,"network-request-failed"),a=fr().setTimeout(()=>{s(o)},RB.get());function l(){fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LB=500,FB=600,jB="_blank",UB="http://localhost";class FI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BB(t,e,n,r=LB,i=FB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=at().toLowerCase();n&&(a=Pk(u)?jB:n),bk(u)&&(e=e||UB,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(c3(u)&&a!=="_self")return zB(e||"",a),new FI(null);const d=window.open(e||"",a,h);te(d,t,"popup-blocked");try{d.focus()}catch{}return new FI(d)}function zB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="__/auth/handler",KB="emulator/auth/handler",qB=encodeURIComponent("fac");async function jI(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof Lk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof xc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${qB}=${encodeURIComponent(l)}`:"";return`${WB(t)}?${pc(a).slice(1)}${u}`}function WB({config:t}){return t.emulator?P0(t,KB):`https://${t.authDomain}/${$B}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class GB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$k,this._completeRedirectFn=yB,this._overrideRedirectResult=pB}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jI(e,n,r,Ly(),i);return BB(e,o,D0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jI(e,n,r,Ly(),i);return Y3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VB(e),r=new _B(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Om];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dk()||Ak()||C0()}}const HB=GB;var UI="@firebase/auth",BI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XB(t){$s(new Ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ok(t)},u=new g3(r,i,s,l);return S3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$s(new Ui("auth-internal",e=>{const n=Ga(e.getProvider("auth").getImmediate());return(r=>new QB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(UI,BI,YB(t)),cr(UI,BI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=5*60,ZB=sR("authIdTokenMaxAge")||JB;let zI=null;const e9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZB)return;const i=n==null?void 0:n.token;zI!==i&&(zI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bc(t=hR()){const e=jf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x3(t,{popupRedirectResolver:HB,persistence:[sB,G3,$k]}),r=sR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=e9(s.toString());z3(n,o,()=>o(n.currentUser)),B3(n,a=>o(a))}}const i=rR("auth");return i&&b3(n,`http://${i}`),n}function t9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}y3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",t9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XB("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebasestorage.googleapis.com",Xk="storageBucket",n9=2*60*1e3,r9=10*60*1e3,i9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends vr{constructor(e,n,r=0){super(Vm(e),`Firebase Storage: ${n} (${Vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ke||(ke={}));function Vm(t){return"storage/"+t}function V0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ke(ke.UNKNOWN,t)}function s9(t){return new Ke(ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function o9(t){return new Ke(ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ke(ke.UNAUTHENTICATED,t)}function l9(){return new Ke(ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function u9(t){return new Ke(ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Jk(){return new Ke(ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zk(){return new Ke(ke.CANCELED,"User canceled the upload/download.")}function c9(t){return new Ke(ke.INVALID_URL,"Invalid URL '"+t+"'.")}function h9(t){return new Ke(ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function d9(){return new Ke(ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xk+"' property when initializing the app?")}function eN(){return new Ke(ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function f9(){return new Ke(ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function p9(){return new Ke(ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function m9(t){return new Ke(ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uy(t){return new Ke(ke.INVALID_ARGUMENT,t)}function tN(){return new Ke(ke.APP_DELETED,"The Firebase app was deleted.")}function g9(t){return new Ke(ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hu(t,e){return new Ke(ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rl(t){throw new Ke(ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fn.makeFromUrl(e,n)}catch{return new fn(e,"")}if(r.path==="")return r;throw h9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},I=n===Yk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${I}/${i}/${S}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<E.length;C++){const N=E[C],O=N.regex.exec(e);if(O){const T=O[N.indices.bucket];let w=O[N.indices.path];w||(w=""),r=new fn(T,w),N.postModify(r);break}}if(r==null)throw c9(e);return r}}class y9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function f(){s&&clearTimeout(s)}function g(S,...y){if(u){f();return}if(S){f(),h.call(null,S,...y);return}if(l()||o){f(),h.call(null,S,...y);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let v=!1;function I(S){v||(v=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function _9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){return t!==void 0}function E9(t){return typeof t=="function"}function T9(t){return typeof t=="object"&&!Array.isArray(t)}function cp(t){return typeof t=="string"||t instanceof String}function $I(t){return M0()&&t instanceof Blob}function M0(){return typeof Blob<"u"}function KI(t,e,n,r){if(r<e)throw Uy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Uy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ns;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,r,i,s,o,a,l,u,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ns.NO_ERROR,l=s.getStatus();if(!a||rN(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Ns.ABORT;r(!1,new xh(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new xh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());w9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=V0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?tN():Zk();o(l)}else{const l=Jk();o(l)}};this.canceled_?n(!1,new xh(!1,null,!0)):this.backoffId_=v9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function x9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function S9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function P9(t,e,n,r,i,s,o=!0){const a=nN(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return b9(u,e),x9(u,n),S9(u,s),A9(u,r),new I9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C9(...t){const e=R9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(M0())return new Blob(t);throw new Ke(ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function k9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(typeof atob>"u")throw m9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mm{constructor(e,n){this.data=e,this.contentType=n||null}}function D9(t,e){switch(t){case sr.RAW:return new Mm(iN(e));case sr.BASE64:case sr.BASE64URL:return new Mm(sN(t,e));case sr.DATA_URL:return new Mm(V9(e),M9(e))}throw V0()}function iN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function O9(t){let e;try{e=decodeURIComponent(t)}catch{throw hu(sr.DATA_URL,"Malformed data URL.")}return iN(e)}function sN(t,e){switch(t){case sr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case sr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=N9(e)}catch(i){throw i.message.includes("polyfill")?i:hu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class oN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hu(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=L9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function V9(t){const e=new oN(t);return e.base64?sN(sr.BASE64,e.rest):O9(e.rest)}function M9(t){return new oN(t).contentType}function L9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){let r=0,i="";$I(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($I(this.data_)){const r=this.data_,i=k9(r,e,n);return i===null?null:new wi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wi(r,!0)}}static getBlob(...e){if(M0()){const n=e.map(r=>r instanceof wi?r.data_:r);return new wi(C9.apply(null,n))}else{const n=e.map(o=>cp(o)?D9(sr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new wi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){let e;try{e=JSON.parse(t)}catch{return null}return T9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function j9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e){return e}class jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||U9}}let Sh=null;function B9(t){return!cp(t)||t.length<2?t:lN(t)}function uN(){if(Sh)return Sh;const t=[];t.push(new jt("bucket")),t.push(new jt("generation")),t.push(new jt("metageneration")),t.push(new jt("name","fullPath",!0));function e(s,o){return B9(o)}const n=new jt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new jt("size");return i.xform=r,t.push(i),t.push(new jt("timeCreated")),t.push(new jt("updated")),t.push(new jt("md5Hash",null,!0)),t.push(new jt("cacheControl",null,!0)),t.push(new jt("contentDisposition",null,!0)),t.push(new jt("contentEncoding",null,!0)),t.push(new jt("contentLanguage",null,!0)),t.push(new jt("contentType",null,!0)),t.push(new jt("metadata","customMetadata",!0)),Sh=t,Sh}function z9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return z9(r,t),r}function cN(t,e,n){const r=aN(e);return r===null?null:$9(t,r,n)}function K9(t,e,n,r){const i=aN(e);if(i===null||!cp(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),g=Ac(f,n,r),v=nN({alt:"media",token:u});return g+v})[0]}function hN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Qa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){if(!t)throw V0()}function L0(t,e){function n(r,i){const s=cN(t,i,e);return Mr(s!==null),s}return n}function q9(t,e){function n(r,i){const s=cN(t,i,e);return Mr(s!==null),K9(s,i,t.host,t._protocol)}return n}function Pc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=l9():i=a9():n.getStatus()===402?i=o9(t.bucket):n.getStatus()===403?i=u9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dN(t){const e=Pc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=s9(t.path)),s.serverResponse=i.serverResponse,s}return n}function W9(t,e,n){const r=e.fullServerUrl(),i=Ac(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Qa(i,s,L0(t,n),o);return a.errorHandler=dN(e),a}function G9(t,e,n){const r=e.fullServerUrl(),i=Ac(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Qa(i,s,q9(t,n),o);return a.errorHandler=dN(e),a}function H9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=H9(null,e)),r}function Q9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let C=0;C<2;C++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=fN(e,r,i),h=hN(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=wi.getBlob(d,r,f);if(g===null)throw eN();const v={name:u.fullPath},I=Ac(s,t.host,t._protocol),S="POST",y=t.maxUploadRetryTime,_=new Qa(I,S,L0(t,n),y);return _.urlParams=v,_.headers=o,_.body=g.uploadData(),_.errorHandler=Pc(e),_}class rf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function F0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Mr(!1)}return Mr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Y9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=fN(e,r,i),a={name:o.fullPath},l=Ac(s,t.host,t._protocol),u="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=hN(o,n),f=t.maxUploadRetryTime;function g(I){F0(I);let S;try{S=I.getResponseHeader("X-Goog-Upload-URL")}catch{Mr(!1)}return Mr(cp(S)),S}const v=new Qa(l,u,g,f);return v.urlParams=a,v.headers=h,v.body=d,v.errorHandler=Pc(e),v}function X9(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const h=F0(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Mr(!1)}d||Mr(!1);const f=Number(d);return Mr(!isNaN(f)),new rf(f,r.size(),h==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Qa(n,o,s,a);return l.headers=i,l.errorHandler=Pc(e),l}const qI=256*1024;function J9(t,e,n,r,i,s,o,a){const l=new rf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw f9();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const d=l.current,f=d+h;let g="";h===0?g="finalize":u===h?g="upload, finalize":g="upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},I=r.slice(d,f);if(I===null)throw eN();function S(C,N){const O=F0(C,["active","final"]),T=l.current+h,w=r.size();let A;return O==="final"?A=L0(e,s)(C,N):A=null,new rf(T,w,O==="final",A)}const y="POST",_=e.maxUploadRetryTime,E=new Qa(n,y,S,_);return E.headers=v,E.body=I.uploadData(),E.progressCallback=a||null,E.errorHandler=Pc(t),E}const Xt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Lm(t){switch(t){case"running":case"pausing":case"canceling":return Xt.RUNNING;case"paused":return Xt.PAUSED;case"success":return Xt.SUCCESS;case"canceled":return Xt.CANCELED;case"error":return Xt.ERROR;default:return Xt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r){if(E9(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ez{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tz extends ez{initXhr(){this.xhr_.responseType="text"}}function Co(){return new tz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=uN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(rN(i.status,[]))if(s)i=Jk();else{this.sleepTime=Math.max(this.sleepTime*2,i9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ke.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Y9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Co,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=X9(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Co,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=qI*this._chunkMultiplier,n=new rf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=J9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Co,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){qI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=W9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Co,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Q9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Co,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Zk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Lm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Z9(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Lm(this._state)){case Xt.SUCCESS:Io(this._resolve.bind(null,this.snapshot))();break;case Xt.CANCELED:case Xt.ERROR:const n=this._reject;Io(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Lm(this._state)){case Xt.RUNNING:case Xt.PAUSED:e.next&&Io(e.next.bind(e,this.snapshot))();break;case Xt.SUCCESS:e.complete&&Io(e.complete.bind(e))();break;case Xt.CANCELED:case Xt.ERROR:e.error&&Io(e.error.bind(e,this._error))();break;default:e.error&&Io(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this._service=e,n instanceof fn?this._location=n:this._location=fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Js(e,n)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lN(this._location.path)}get storage(){return this._service}get parent(){const e=F9(this._location.path);if(e===null)return null;const n=new fn(this._location.bucket,e);return new Js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw g9(e)}}function rz(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new nz(t,new wi(e),n)}function iz(t){t._throwIfRoot("getDownloadURL");const e=G9(t.storage,t._location,uN());return t.storage.makeRequestWithTokens(e,Co).then(n=>{if(n===null)throw p9();return n})}function sz(t,e){const n=j9(t._location.path,e),r=new fn(t._location.bucket,n);return new Js(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){return/^[A-Za-z]+:\/\//.test(t)}function az(t,e){return new Js(t,e)}function pN(t,e){if(t instanceof j0){const n=t;if(n._bucket==null)throw d9();const r=new Js(n,n._bucket);return e!=null?pN(r,e):r}else return e!==void 0?sz(t,e):t}function lz(t,e){if(e&&oz(e)){if(t instanceof j0)return az(t,e);throw Uy("To use ref(service, url), the first argument must be a Storage instance.")}else return pN(t,e)}function WI(t,e){const n=e==null?void 0:e[Xk];return n==null?null:fn.makeFromBucketSpec(n,t)}function uz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Z4(i,t.app.options.projectId))}class j0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Yk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n9,this._maxUploadRetryTime=r9,this._requests=new Set,i!=null?this._bucket=fn.makeFromBucketSpec(i,this._host):this._bucket=WI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=WI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new y9(tN());{const o=P9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const GI="@firebase/storage",HI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="storage";function cz(t,e,n){return t=$e(t),rz(t,e,n)}function hz(t){return t=$e(t),iz(t)}function dz(t,e){return t=$e(t),lz(t,e)}function gN(t=hR(),e){t=$e(t);const r=jf(t,mN).getImmediate({identifier:e}),i=X4("storage");return i&&fz(r,...i),r}function fz(t,e,n,r={}){uz(t,e,n,r)}function pz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new j0(n,r,i,e,io)}function mz(){$s(new Ui(mN,pz,"PUBLIC").setMultipleInstances(!0)),cr(GI,HI,""),cr(GI,HI,"esm2017")}mz();const hp={apiKey:"AIzaSyB5QFjl6jvIKBCRn12esrOba58STMP9dM0",authDomain:"galeriazdjec-f4180.firebaseapp.com",projectId:"galeriazdjec-f4180",storageBucket:"galeriazdjec-f4180.firebasestorage.app",messagingSenderId:"789024046392",appId:"1:789024046392:web:26d9e3195917ed28e515cd"},U0=cR(hp),kt=x5(U0,{experimentalForceLongPolling:!0});S5(kt).catch(t=>{t.code==="failed-precondition"?console.warn("⚠ Firestore Persistence nie może być aktywowane (może działać w innej zakładce)."):t.code==="unimplemented"&&console.warn("⚠ Przeglądarka nie obsługuje IndexedDB.")});ir(kt,"images");gN(U0,{experimentalForceLongPolling:!0});bc(U0);console.log("✅ Firebase Project ID:",hp.projectId);console.log("✅ Firebase Config:",hp);console.log("✅ Firebase Storage Bucket:",hp.storageBucket);console.log("✅ Firestore Persistence włączone:",kt);function yN(){const[t,e]=k.useState(""),n=async i=>{try{await sp(ir(kt,"tasks"),{text:i,completed:!1,timestamp:new Date}),console.log("Task added to Firestore!")}catch(s){console.error("Error adding task: ",s)}},r=i=>{i.preventDefault(),t.trim()&&(n(t),e(""))};return b.jsxs("form",{className:" space-y-2  !important",onSubmit:r,children:[b.jsx("input",{type:"text",className:"mt-[1px] border border-gray-300 w-[165px] rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow shadow-sm hover:shadow-md",placeholder:"What is the task today?",value:t,onChange:i=>e(i.target.value)}),b.jsx("button",{type:"submit",className:"w-full px-4 py-0.5 mb-1 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75",children:"Add Task"})]})}yN.propTypes={};const QI=()=>{};let B0={},vN={},_N=null,wN={mark:QI,measure:QI};try{typeof window<"u"&&(B0=window),typeof document<"u"&&(vN=document),typeof MutationObserver<"u"&&(_N=MutationObserver),typeof performance<"u"&&(wN=performance)}catch{}const{userAgent:YI=""}=B0.navigator||{},qi=B0,Ce=vN,XI=_N,bh=wN;qi.document;const Jr=!!Ce.documentElement&&!!Ce.head&&typeof Ce.addEventListener=="function"&&typeof Ce.createElement=="function",EN=~YI.indexOf("MSIE")||~YI.indexOf("Trident/");var Ve="classic",TN="duotone",mn="sharp",gn="sharp-duotone",gz=[Ve,TN,mn,gn],yz={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},JI={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},vz=["kit"],_z=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,wz=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Ez={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Tz={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},Iz={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},xz={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},Sz={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},bz={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},IN={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},Az=["solid","regular","light","thin","duotone","brands"],xN=[1,2,3,4,5,6,7,8,9,10],Pz=xN.concat([11,12,13,14,15,16,17,18,19,20]),$l={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Rz=[...Object.keys(xz),...Az,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",$l.GROUP,$l.SWAP_OPACITY,$l.PRIMARY,$l.SECONDARY].concat(xN.map(t=>"".concat(t,"x"))).concat(Pz.map(t=>"w-".concat(t))),Cz={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},kz={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Nz={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},ZI={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const Wr="___FONT_AWESOME___",By=16,SN="fa",bN="svg-inline--fa",Zs="data-fa-i2svg",zy="data-fa-pseudo-element",Dz="data-fa-pseudo-element-pending",z0="data-prefix",$0="data-icon",ex="fontawesome-i2svg",Oz="async",Vz=["HTML","HEAD","STYLE","SCRIPT"],AN=(()=>{try{return!0}catch{return!1}})(),PN=[Ve,mn,gn];function Rc(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Ve]}})}const RN={...IN};RN[Ve]={...IN[Ve],...JI.kit,...JI["kit-duotone"]};const Ds=Rc(RN),$y={...bz};$y[Ve]={...$y[Ve],...ZI.kit,...ZI["kit-duotone"]};const Xu=Rc($y),Ky={...Sz};Ky[Ve]={...Ky[Ve],...Nz.kit};const Os=Rc(Ky),qy={...Iz};qy[Ve]={...qy[Ve],...kz.kit};const Mz=Rc(qy),Lz=_z,CN="fa-layers-text",Fz=wz,jz={...yz};Rc(jz);const Uz=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Fm=$l,Ca=new Set;Object.keys(Xu[Ve]).map(Ca.add.bind(Ca));Object.keys(Xu[mn]).map(Ca.add.bind(Ca));Object.keys(Xu[gn]).map(Ca.add.bind(Ca));const Bz=[...vz,...Rz],du=qi.FontAwesomeConfig||{};function zz(t){var e=Ce.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function $z(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ce&&typeof Ce.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=$z(zz(n));i!=null&&(du[r]=i)});const kN={styleDefault:"solid",familyDefault:"classic",cssPrefix:SN,replacementClass:bN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};du.familyPrefix&&(du.cssPrefix=du.familyPrefix);const ka={...kN,...du};ka.autoReplaceSvg||(ka.observeMutations=!1);const H={};Object.keys(kN).forEach(t=>{Object.defineProperty(H,t,{enumerable:!0,set:function(e){ka[t]=e,fu.forEach(n=>n(H))},get:function(){return ka[t]}})});Object.defineProperty(H,"familyPrefix",{enumerable:!0,set:function(t){ka.cssPrefix=t,fu.forEach(e=>e(H))},get:function(){return ka.cssPrefix}});qi.FontAwesomeConfig=H;const fu=[];function Kz(t){return fu.push(t),()=>{fu.splice(fu.indexOf(t),1)}}const ai=By,or={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function qz(t){if(!t||!Jr)return;const e=Ce.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Ce.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Ce.head.insertBefore(e,r),t}const Wz="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ju(){let t=12,e="";for(;t-- >0;)e+=Wz[Math.random()*62|0];return e}function Ya(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function K0(t){return t.classList?Ya(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function NN(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gz(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(NN(t[n]),'" '),"").trim()}function dp(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function q0(t){return t.size!==or.size||t.x!==or.x||t.y!==or.y||t.rotate!==or.rotate||t.flipX||t.flipY}function Hz(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function Qz(t){let{transform:e,width:n=By,height:r=By,startCentered:i=!1}=t,s="";return i&&EN?s+="translate(".concat(e.x/ai-n/2,"em, ").concat(e.y/ai-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/ai,"em), calc(-50% + ").concat(e.y/ai,"em)) "):s+="translate(".concat(e.x/ai,"em, ").concat(e.y/ai,"em) "),s+="scale(".concat(e.size/ai*(e.flipX?-1:1),", ").concat(e.size/ai*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var Yz=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function DN(){const t=SN,e=bN,n=H.cssPrefix,r=H.replacementClass;let i=Yz;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let tx=!1;function jm(){H.autoAddCss&&!tx&&(qz(DN()),tx=!0)}var Xz={mixout(){return{dom:{css:DN,insertCss:jm}}},hooks(){return{beforeDOMElementCreation(){jm()},beforeI2svg(){jm()}}}};const Gr=qi||{};Gr[Wr]||(Gr[Wr]={});Gr[Wr].styles||(Gr[Wr].styles={});Gr[Wr].hooks||(Gr[Wr].hooks={});Gr[Wr].shims||(Gr[Wr].shims=[]);var ar=Gr[Wr];const ON=[],VN=function(){Ce.removeEventListener("DOMContentLoaded",VN),sf=1,ON.map(t=>t())};let sf=!1;Jr&&(sf=(Ce.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ce.readyState),sf||Ce.addEventListener("DOMContentLoaded",VN));function Jz(t){Jr&&(sf?setTimeout(t,0):ON.push(t))}function Cc(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?NN(t):"<".concat(e," ").concat(Gz(n),">").concat(r.map(Cc).join(""),"</").concat(e,">")}function nx(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Um=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,l,u,h;for(r===void 0?(l=1,h=e[s[0]]):(l=0,h=r);l<o;l++)u=s[l],h=a(h,e[u],u,e);return h};function Zz(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Wy(t){const e=Zz(t);return e.length===1?e[0].toString(16):null}function e$(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function rx(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Gy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=rx(e);typeof ar.hooks.addPack=="function"&&!r?ar.hooks.addPack(t,rx(e)):ar.styles[t]={...ar.styles[t]||{},...i},t==="fas"&&Gy("fa",e)}const{styles:Es,shims:t$}=ar,n$={[Ve]:Object.values(Os[Ve]),[mn]:Object.values(Os[mn]),[gn]:Object.values(Os[gn])};let W0=null,MN={},LN={},FN={},jN={},UN={};const r$={[Ve]:Object.keys(Ds[Ve]),[mn]:Object.keys(Ds[mn]),[gn]:Object.keys(Ds[gn])};function i$(t){return~Bz.indexOf(t)}function s$(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!i$(i)?i:null}const BN=()=>{const t=r=>Um(Es,(i,s,o)=>(i[o]=Um(s,r,{}),i),{});MN=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),LN=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),UN=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in Es||H.autoFetchSvg,n=Um(t$,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});FN=n.names,jN=n.unicodes,W0=fp(H.styleDefault,{family:H.familyDefault})};Kz(t=>{W0=fp(t.styleDefault,{family:H.familyDefault})});BN();function G0(t,e){return(MN[t]||{})[e]}function o$(t,e){return(LN[t]||{})[e]}function xi(t,e){return(UN[t]||{})[e]}function zN(t){return FN[t]||{prefix:null,iconName:null}}function a$(t){const e=jN[t],n=G0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Wi(){return W0}const H0=()=>({prefix:null,iconName:null,rest:[]});function fp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Ve}=e,r=Ds[n][t],i=Xu[n][t]||Xu[n][r],s=t in ar.styles?t:null;return i||s||null}const l$={[Ve]:Object.keys(Os[Ve]),[mn]:Object.keys(Os[mn]),[gn]:Object.keys(Os[gn])};function pp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[Ve]:"".concat(H.cssPrefix,"-").concat(Ve),[mn]:"".concat(H.cssPrefix,"-").concat(mn),[gn]:"".concat(H.cssPrefix,"-").concat(gn)};let i=null,s=Ve;const o=gz.filter(l=>l!==TN);o.forEach(l=>{(t.includes(r[l])||t.some(u=>l$[l].includes(u)))&&(s=l)});const a=t.reduce((l,u)=>{const h=s$(H.cssPrefix,u);if(Es[u]?(u=n$[s].includes(u)?Mz[s][u]:u,i=u,l.prefix=u):r$[s].indexOf(u)>-1?(i=u,l.prefix=fp(u,{family:s})):h?l.iconName=h:u!==H.replacementClass&&!o.some(d=>u===r[d])&&l.rest.push(u),!n&&l.prefix&&l.iconName){const d=i==="fa"?zN(l.iconName):{},f=xi(l.prefix,l.iconName);d.prefix&&(i=null),l.iconName=d.iconName||f||l.iconName,l.prefix=d.prefix||l.prefix,l.prefix==="far"&&!Es.far&&Es.fas&&!H.autoFetchSvg&&(l.prefix="fas")}return l},H0());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===mn&&(Es.fass||H.autoFetchSvg)&&(a.prefix="fass",a.iconName=xi(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===gn&&(Es.fasds||H.autoFetchSvg)&&(a.prefix="fasds",a.iconName=xi(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=Wi()||"fas"),a}class u${constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},Gy(s,i[s]);const o=Os[Ve][s];o&&Gy(o,i[s]),BN()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],l=a[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=a)}),e[s][o]=a}),e}}let ix=[],qo={};const ua={},c$=Object.keys(ua);function h$(t,e){let{mixoutsTo:n}=e;return ix=t,qo={},Object.keys(ua).forEach(r=>{c$.indexOf(r)===-1&&delete ua[r]}),ix.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{qo[o]||(qo[o]=[]),qo[o].push(s[o])})}r.provides&&r.provides(ua)}),n}function Hy(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(qo[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function eo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(qo[t]||[]).forEach(s=>{s.apply(null,n)})}function Gi(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return ua[t]?ua[t].apply(null,e):void 0}function Qy(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Wi();if(e)return e=xi(n,e)||e,nx($N.definitions,n,e)||nx(ar.styles,n,e)}const $N=new u$,d$=()=>{H.autoReplaceSvg=!1,H.observeMutations=!1,eo("noAuto")},f$={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Jr?(eo("beforeI2svg",t),Gi("pseudoElements2svg",t),Gi("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;H.autoReplaceSvg===!1&&(H.autoReplaceSvg=!0),H.observeMutations=!0,Jz(()=>{m$({autoReplaceSvgRoot:e}),eo("watch",t)})}},p$={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:xi(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=fp(t[0]);return{prefix:n,iconName:xi(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(H.cssPrefix,"-"))>-1||t.match(Lz))){const e=pp(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Wi(),iconName:xi(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Wi();return{prefix:e,iconName:xi(e,t)||t}}}},Tn={noAuto:d$,config:H,dom:f$,parse:p$,library:$N,findIconDefinition:Qy,toHtml:Cc},m$=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ce}=t;(Object.keys(ar.styles).length>0||H.autoFetchSvg)&&Jr&&H.autoReplaceSvg&&Tn.dom.i2svg({node:e})};function mp(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Cc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Jr)return;const n=Ce.createElement("div");return n.innerHTML=t.html,n.children}}),t}function g$(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(q0(o)&&n.found&&!r.found){const{width:a,height:l}=n,u={x:a/l/2,y:.5};i.style=dp({...s,"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function y$(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(H.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:o},children:r}]}]}function Q0(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:l,titleId:u,extra:h,watchable:d=!1}=t,{width:f,height:g}=n.found?n:e,v=r==="fak",I=[H.replacementClass,i?"".concat(H.cssPrefix,"-").concat(i):""].filter(N=>h.classes.indexOf(N)===-1).filter(N=>N!==""||!!N).concat(h.classes).join(" ");let S={children:[],attributes:{...h.attributes,"data-prefix":r,"data-icon":i,class:I,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(g)}};const y=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(f/g*16*.0625,"em")}:{};d&&(S.attributes[Zs]=""),a&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(u||Ju())},children:[a]}),delete S.attributes.title);const _={...S,prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:o,styles:{...y,...h.styles}},{children:E,attributes:C}=n.found&&e.found?Gi("generateAbstractMask",_)||{children:[],attributes:{}}:Gi("generateAbstractIcon",_)||{children:[],attributes:{}};return _.children=E,_.attributes=C,o?y$(_):g$(_)}function sx(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,l={...o.attributes,...s?{title:s}:{},class:o.classes.join(" ")};a&&(l[Zs]="");const u={...o.styles};q0(i)&&(u.transform=Qz({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=dp(u);h.length>0&&(l.style=h);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function v$(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=dp(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Bm}=ar;function Yy(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(H.cssPrefix,"-").concat(Fm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(H.cssPrefix,"-").concat(Fm.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(H.cssPrefix,"-").concat(Fm.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const _$={found:!1,width:512,height:512};function w$(t,e){!AN&&!H.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Xy(t,e){let n=e;return e==="fa"&&H.styleDefault!==null&&(e=Wi()),new Promise((r,i)=>{if(n==="fa"){const s=zN(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Bm[e]&&Bm[e][t]){const s=Bm[e][t];return r(Yy(s))}w$(t,e),r({..._$,icon:H.showMissingIcons&&t?Gi("missingIconAbstract")||{}:{}})})}const ox=()=>{},Jy=H.measurePerformance&&bh&&bh.mark&&bh.measure?bh:{mark:ox,measure:ox},Kl='FA "6.6.0"',E$=t=>(Jy.mark("".concat(Kl," ").concat(t," begins")),()=>KN(t)),KN=t=>{Jy.mark("".concat(Kl," ").concat(t," ends")),Jy.measure("".concat(Kl," ").concat(t),"".concat(Kl," ").concat(t," begins"),"".concat(Kl," ").concat(t," ends"))};var Y0={begin:E$,end:KN};const rd=()=>{};function ax(t){return typeof(t.getAttribute?t.getAttribute(Zs):null)=="string"}function T$(t){const e=t.getAttribute?t.getAttribute(z0):null,n=t.getAttribute?t.getAttribute($0):null;return e&&n}function I$(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(H.replacementClass)}function x$(){return H.autoReplaceSvg===!0?id.replace:id[H.autoReplaceSvg]||id.replace}function S$(t){return Ce.createElementNS("http://www.w3.org/2000/svg",t)}function b$(t){return Ce.createElement(t)}function qN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?S$:b$}=e;if(typeof t=="string")return Ce.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(qN(s,{ceFn:n}))}),r}function A$(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const id={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(qN(n),e)}),e.getAttribute(Zs)===null&&H.keepOriginalSource){let n=Ce.createComment(A$(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~K0(e).indexOf(H.replacementClass))return id.replace(t);const r=new RegExp("".concat(H.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===H.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Cc(s)).join(`
`);e.setAttribute(Zs,""),e.innerHTML=i}};function lx(t){t()}function WN(t,e){const n=typeof e=="function"?e:rd;if(t.length===0)n();else{let r=lx;H.mutateApproach===Oz&&(r=qi.requestAnimationFrame||lx),r(()=>{const i=x$(),s=Y0.begin("mutate");t.map(i),s(),n()})}}let X0=!1;function GN(){X0=!0}function Zy(){X0=!1}let of=null;function ux(t){if(!XI||!H.observeMutations)return;const{treeCallback:e=rd,nodeCallback:n=rd,pseudoElementsCallback:r=rd,observeMutationsRoot:i=Ce}=t;of=new XI(s=>{if(X0)return;const o=Wi();Ya(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!ax(a.addedNodes[0])&&(H.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&H.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&ax(a.target)&&~Uz.indexOf(a.attributeName))if(a.attributeName==="class"&&T$(a.target)){const{prefix:l,iconName:u}=pp(K0(a.target));a.target.setAttribute(z0,l||o),u&&a.target.setAttribute($0,u)}else I$(a.target)&&n(a.target)})}),Jr&&of.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function P$(){of&&of.disconnect()}function R$(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function C$(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=pp(K0(t));return i.prefix||(i.prefix=Wi()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=o$(i.prefix,t.innerText)||G0(i.prefix,Wy(t.innerText))),!i.iconName&&H.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function k$(t){const e=Ya(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return H.autoA11y&&(n?e["aria-labelledby"]="".concat(H.replacementClass,"-title-").concat(r||Ju()):(e["aria-hidden"]="true",e.focusable="false")),e}function N$(){return{iconName:null,title:null,titleId:null,prefix:null,transform:or,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function cx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=C$(t),s=k$(t),o=Hy("parseNodeAttributes",{},t);let a=e.styleParser?R$(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:or,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s},...o}}const{styles:D$}=ar;function HN(t){const e=H.autoReplaceSvg==="nest"?cx(t,{styleParser:!1}):cx(t);return~e.extra.classes.indexOf(CN)?Gi("generateLayersText",t,e):Gi("generateSvgReplacementMutation",t,e)}let yr=new Set;PN.map(t=>{yr.add("fa-".concat(t))});Object.keys(Ds[Ve]).map(yr.add.bind(yr));Object.keys(Ds[mn]).map(yr.add.bind(yr));Object.keys(Ds[gn]).map(yr.add.bind(yr));yr=[...yr];function hx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Jr)return Promise.resolve();const n=Ce.documentElement.classList,r=h=>n.add("".concat(ex,"-").concat(h)),i=h=>n.remove("".concat(ex,"-").concat(h)),s=H.autoFetchSvg?yr:PN.map(h=>"fa-".concat(h)).concat(Object.keys(D$));s.includes("fa")||s.push("fa");const o=[".".concat(CN,":not([").concat(Zs,"])")].concat(s.map(h=>".".concat(h,":not([").concat(Zs,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Ya(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const l=Y0.begin("onTree"),u=a.reduce((h,d)=>{try{const f=HN(d);f&&h.push(f)}catch(f){AN||f.name==="MissingIcon"&&console.error(f)}return h},[]);return new Promise((h,d)=>{Promise.all(u).then(f=>{WN(f,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),h()})}).catch(f=>{l(),d(f)})})}function O$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;HN(t).then(n=>{n&&WN([n],e)})}function V$(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Qy(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Qy(i||{})),t(r,{...n,mask:i})}}const M$=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=or,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:l=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:d,iconName:f,icon:g}=t;return mp({type:"icon",...t},()=>(eo("beforeDOMElementCreation",{iconDefinition:t,params:e}),H.autoA11y&&(o?u["aria-labelledby"]="".concat(H.replacementClass,"-title-").concat(a||Ju()):(u["aria-hidden"]="true",u.focusable="false")),Q0({icons:{main:Yy(g),mask:i?Yy(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:{...or,...n},symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:h,classes:l}})))};var L$={mixout(){return{icon:V$(M$)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=hx,t.nodeCallback=O$,t}}},provides(t){t.i2svg=function(e){const{node:n=Ce,callback:r=()=>{}}=e;return hx(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:l,mask:u,maskId:h,extra:d}=n;return new Promise((f,g)=>{Promise.all([Xy(r,o),u.iconName?Xy(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[I,S]=v;f([e,Q0({icons:{main:I,mask:S},prefix:o,iconName:r,transform:a,symbol:l,maskId:h,title:i,titleId:s,extra:d,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=dp(o);a.length>0&&(r.style=a);let l;return q0(s)&&(l=Gi("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},F$={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return mp({type:"layer"},()=>{eo("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(H.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},j$={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return mp({type:"counter",content:t},()=>(eo("beforeDOMElementCreation",{content:t,params:e}),v$({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(H.cssPrefix,"-layers-counter"),...r]}})))}}}},U$={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=or,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return mp({type:"text",content:t},()=>(eo("beforeDOMElementCreation",{content:t,params:e}),sx({content:t,transform:{...or,...n},title:r,extra:{attributes:s,styles:o,classes:["".concat(H.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(EN){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,a=u.height/l}return H.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,sx({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const B$=new RegExp('"',"ug"),dx=[1105920,1112319],fx={FontAwesome:{normal:"fas",400:"fas"},...Tz,...Ez,...Cz},ev=Object.keys(fx).reduce((t,e)=>(t[e.toLowerCase()]=fx[e],t),{}),z$=Object.keys(ev).reduce((t,e)=>{const n=ev[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function $$(t){const e=t.replace(B$,""),n=e$(e,0),r=n>=dx[0]&&n<=dx[1],i=e.length===2?e[0]===e[1]:!1;return{value:Wy(i?e[0]:e),isSecondary:r||i}}function K$(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(ev[n]||{})[i]||z$[n]}function px(t,e){const n="".concat(Dz).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=Ya(t.children).filter(f=>f.getAttribute(zy)===e)[0],a=qi.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),u=l.match(Fz),h=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&d!=="none"&&d!==""){const f=a.getPropertyValue("content");let g=K$(l,h);const{value:v,isSecondary:I}=$$(f),S=u[0].startsWith("FontAwesome");let y=G0(g,v),_=y;if(S){const E=a$(v);E.iconName&&E.prefix&&(y=E.iconName,g=E.prefix)}if(y&&!I&&(!o||o.getAttribute(z0)!==g||o.getAttribute($0)!==_)){t.setAttribute(n,_),o&&t.removeChild(o);const E=N$(),{extra:C}=E;C.attributes[zy]=e,Xy(y,g).then(N=>{const O=Q0({...E,icons:{main:N,mask:H0()},prefix:g,iconName:_,extra:C,watchable:!0}),T=Ce.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(T,t.firstChild):t.appendChild(T),T.outerHTML=O.map(w=>Cc(w)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function q$(t){return Promise.all([px(t,"::before"),px(t,"::after")])}function W$(t){return t.parentNode!==document.head&&!~Vz.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(zy)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function mx(t){if(Jr)return new Promise((e,n)=>{const r=Ya(t.querySelectorAll("*")).filter(W$).map(q$),i=Y0.begin("searchPseudoElements");GN(),Promise.all(r).then(()=>{i(),Zy(),e()}).catch(()=>{i(),Zy(),n()})})}var G$={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=mx,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Ce}=e;H.searchPseudoElements&&mx(n)}}};let gx=!1;var H$={mixout(){return{dom:{unwatch(){GN(),gx=!0}}}},hooks(){return{bootstrap(){ux(Hy("mutationObserverCallbacks",{}))},noAuto(){P$()},watch(t){const{observeMutationsRoot:e}=t;gx?Zy():ux(Hy("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const yx=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var Q$={mixout(){return{parse:{transform:t=>yx(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=yx(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(a," ").concat(l," ").concat(u)},d={transform:"translate(".concat(s/2*-1," -256)")},f={outer:o,inner:h,path:d};return{tag:"g",attributes:{...f.outer},children:[{tag:"g",attributes:{...f.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...f.path}}]}]}}}};const zm={x:0,y:0,width:"100%",height:"100%"};function vx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Y$(t){return t.tag==="g"?t.children:[t]}var X$={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?pp(n.split(" ").map(i=>i.trim())):H0();return r.prefix||(r.prefix=Wi()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:l,icon:u}=i,{width:h,icon:d}=s,f=Hz({transform:a,containerWidth:h,iconWidth:l}),g={tag:"rect",attributes:{...zm,fill:"white"}},v=u.children?{children:u.children.map(vx)}:{},I={tag:"g",attributes:{...f.inner},children:[vx({tag:u.tag,attributes:{...u.attributes,...f.path},...v})]},S={tag:"g",attributes:{...f.outer},children:[I]},y="mask-".concat(o||Ju()),_="clip-".concat(o||Ju()),E={tag:"mask",attributes:{...zm,id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[g,S]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:Y$(d)},E]};return n.push(C,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(y,")"),...zm}}),{children:n,attributes:r}}}},J$={provides(t){let e=!1;qi.matchMedia&&(e=qi.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Z$={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},e8=[Xz,L$,F$,j$,U$,G$,H$,Q$,X$,J$,Z$];h$(e8,{mixoutsTo:Tn});Tn.noAuto;Tn.config;Tn.library;Tn.dom;const tv=Tn.parse;Tn.findIconDefinition;Tn.toHtml;const t8=Tn.icon;Tn.layer;Tn.text;Tn.counter;function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(n),!0).forEach(function(r){Wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function Wo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function r8(t,e){if(t==null)return{};var n=n8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nv(t){return i8(t)||s8(t)||o8(t)||a8()}function i8(t){if(Array.isArray(t))return rv(t)}function s8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o8(t,e){if(t){if(typeof t=="string")return rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(t,e)}}function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,h=t.spinReverse,d=t.pulse,f=t.fixedWidth,g=t.inverse,v=t.border,I=t.listItem,S=t.flip,y=t.size,_=t.rotation,E=t.pull,C=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":g,"fa-border":v,"fa-li":I,"fa-flip":S===!0,"fa-flip-horizontal":S==="horizontal"||S==="both","fa-flip-vertical":S==="vertical"||S==="both"},Wo(e,"fa-".concat(y),typeof y<"u"&&y!==null),Wo(e,"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),Wo(e,"fa-pull-".concat(E),typeof E<"u"&&E!==null),Wo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(C).map(function(N){return C[N]?N:null}).filter(function(N){return N})}function u8(t){return t=t-0,t===t}function QN(t){return u8(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var c8=["style"];function h8(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d8(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=QN(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[h8(i)]=s:e[i]=s,e},{})}function YN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return YN(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var h=e.attributes[u];switch(u){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=d8(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=h:l.attrs[QN(u)]=h}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=r8(n,c8);return i.attrs.style=Zn(Zn({},i.attrs.style),o),t.apply(void 0,[e.tag,Zn(Zn({},i.attrs),a)].concat(nv(r)))}var XN=!1;try{XN=!0}catch{}function f8(){if(!XN&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function wx(t){if(t&&af(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(tv.icon)return tv.icon(t);if(t===null)return null;if(t&&af(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function $m(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Wo({},t,e):{}}var Ex={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},J0=Oe.forwardRef(function(t,e){var n=Zn(Zn({},Ex),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,u=n.maskId,h=wx(r),d=$m("classes",[].concat(nv(l8(n)),nv((o||"").split(" ")))),f=$m("transform",typeof n.transform=="string"?tv.transform(n.transform):n.transform),g=$m("mask",wx(i)),v=t8(h,Zn(Zn(Zn(Zn({},d),f),g),{},{symbol:s,title:a,titleId:l,maskId:u}));if(!v)return f8("Could not find icon",h),null;var I=v.abstract,S={ref:e};return Object.keys(n).forEach(function(y){Ex.hasOwnProperty(y)||(S[y]=n[y])}),p8(I[0],S)});J0.displayName="FontAwesomeIcon";J0.propTypes={beat:Z.bool,border:Z.bool,beatFade:Z.bool,bounce:Z.bool,className:Z.string,fade:Z.bool,flash:Z.bool,mask:Z.oneOfType([Z.object,Z.array,Z.string]),maskId:Z.string,fixedWidth:Z.bool,inverse:Z.bool,flip:Z.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Z.oneOfType([Z.object,Z.array,Z.string]),listItem:Z.bool,pull:Z.oneOf(["right","left"]),pulse:Z.bool,rotation:Z.oneOf([0,90,180,270]),shake:Z.bool,size:Z.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Z.bool,spinPulse:Z.bool,spinReverse:Z.bool,symbol:Z.oneOfType([Z.bool,Z.string]),title:Z.string,titleId:Z.string,transform:Z.oneOfType([Z.string,Z.object]),swapOpacity:Z.bool};var p8=YN.bind(null,Oe.createElement);const m8={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]};var JN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tx=Oe.createContext&&Oe.createContext(JN),g8=["attr","size","title"];function y8(t,e){if(t==null)return{};var n=v8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){_8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _8(t,e,n){return e=w8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=E8(t,"string");return typeof e=="symbol"?e:e+""}function E8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZN(t){return t&&t.map((e,n)=>Oe.createElement(e.tag,uf({key:n},e.attr),ZN(e.child)))}function gp(t){return e=>Oe.createElement(T8,lf({attr:uf({},t.attr)},e),ZN(t.child))}function T8(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=y8(t,g8),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Oe.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:uf(uf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Oe.createElement("title",null,s),t.children)};return Tx!==void 0?Oe.createElement(Tx.Consumer,null,n=>e(n)):e(JN)}function I8(t){return gp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M380.44 32H64a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h384a32.09 32.09 0 0 0 32-32V131.56zM112 176v-64h192v64zm223.91 179.76a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67z"},child:[]}]})(t)}function x8(t){return gp({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"},child:[]}]})(t)}const eD=({task:t,toggleComplete:e,deleteTodo:n,editTodo:r})=>{const[i,s]=k.useState(!1),[o,a]=k.useState(t.text),l=()=>{s(!0)},u=()=>{s(!1),r(t.id,o)},h=d=>{d.key==="Enter"&&u()};return b.jsxs("div",{className:`Todo ${t.completed?"completed":""}`,children:[i?b.jsx("input",{type:"text",value:o,onChange:d=>a(d.target.value),onKeyPress:h,className:"edit-input"}):b.jsx("p",{onClick:()=>e(t.id,t.completed),children:t.text}),b.jsxs("div",{className:"icon-container",children:[i?b.jsx(I8,{"aria-label":"Save Task",role:"button",tabIndex:0,onClick:d=>{d.stopPropagation(),u()}}):b.jsx(x8,{"aria-label":"Edit Task",role:"button",tabIndex:0,onClick:d=>{d.stopPropagation(),l()}}),b.jsx(J0,{icon:m8,"aria-label":"Delete Task",role:"button",tabIndex:0,onClick:d=>{d.stopPropagation(),n(t.id)}})]})]})};eD.propTypes={task:Z.shape({id:Z.string.isRequired,text:Z.string.isRequired,completed:Z.bool.isRequired}).isRequired,toggleComplete:Z.func.isRequired,deleteTodo:Z.func.isRequired,editTodo:Z.func.isRequired};const S8=({tasks:t,toggleComplete:e,deleteTodo:n,editTodo:r})=>b.jsx("div",{className:"task-list",children:t.map(i=>b.jsx(eD,{task:i,toggleComplete:e,deleteTodo:n,editTodo:r},i.id))}),tD=({className:t})=>{const[e,n]=k.useState([]);k.useEffect(()=>{const a=ir(kt,"tasks"),l=Vy(a,L5("timestamp","desc")),u=gk(l,h=>{const d=h.docs.map(f=>({id:f.id,...f.data()}));n(d)});return()=>u()},[]);const r=async a=>{const l={text:a,completed:!1,timestamp:new Date};try{await sp(ir(kt,"tasks"),l),console.log("Task added:",l)}catch(u){console.error("Error adding task:",u)}},i=async(a,l)=>{try{const u=uu(kt,"tasks",a);await My(u,{completed:!l}),console.log("Task updated:",a)}catch(u){console.error("Error updating task:",u)}},s=async a=>{try{const l=uu(kt,"tasks",a);await B5(l),console.log("Task deleted:",a)}catch(l){console.error("Error deleting task:",l)}},o=async(a,l)=>{try{const u=uu(kt,"tasks",a);await My(u,{text:l}),console.log("Task edited:",a)}catch(u){console.error("Error editing task:",u)}};return b.jsx("div",{className:"galeria   ",children:b.jsxs("div",{className:`TodoWrapper ${t} `,children:[b.jsxs("div",{className:"mb-4 p-4 bg-gray-800 text-white rounded-lg shadow-md ",children:[b.jsx("h2",{className:"text-xl font-bold mb-2",children:" Jak dziala lista zadań?"}),b.jsx("p",{className:"mb-2",children:"useState i useEffect - do obsługi stanu i efektów ubocznych. PropTypes – do walidacji właściwości (className). ToDoForm – formularz dodawania nowych zadań. TaskList – komponent wyświetlający listę zadań. firebase/firestore – metody do operacji na bazie danych."}),b.jsx("p",{className:"mb-2 border-1"}),b.jsx("p",{children:"Aplikacja wykorzystuje Firebase jako bazę danych do przechowywania zadań oraz Firebase Authentication do zarządzania użytkownikami. Integruje Firebase Storage lub Firestore do przechowywania i wyświetlania zdjęć zalogowanemu użytkownikowi."}),b.jsx("p",{})]}),b.jsxs("h1",{className:"mb-[9px] -mt-0.5  ",children:["Together We Achieve! ",b.jsx("span",{className:"text-red-500 ml-2 ",children:"❤️"})]}),b.jsx(yN,{onSubmit:r}),b.jsx(S8,{tasks:e,toggleComplete:i,deleteTodo:s,editTodo:o})]})})};tD.propTypes={className:Z.string};const b8=()=>{const[t,e]=k.useState({name:"",email:"",message:""}),n=r=>{const{name:i,value:s}=r.target;e(o=>({...o,[i]:s}))};return b.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-lg max-w-md mx-auto",children:[b.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-gray-800",children:"Get a free quote"}),b.jsx("p",{className:"text-center text-gray-600 mb-1",children:"For a price quote, simply fill out the following form with details about your query."}),b.jsxs("form",{action:"https://public.herotofu.com/v1/1f80fb50-9353-11ef-840d-9fdbf4f87a8b",method:"POST",acceptCharset:"UTF-8",className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-700 text-left"}),b.jsx("input",{type:"text",name:"name",id:"name",value:t.name,onChange:n,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-1 focus:ring-2 focus:ring-blue-500 focus:outline-none text-left",placeholder:"Wpisz swoje imię*"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-gray-700 text-left"}),b.jsx("input",{type:"email",name:"email",id:"email",value:t.email,onChange:n,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-1 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Wpisz swój email*"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-xs font-medium text-gray-700"}),b.jsx("textarea",{name:"message",id:"message",value:t.message,onChange:n,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-1 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Napisz swoją wiadomość",rows:"4"})]}),b.jsx("button",{type:"submit",className:"w-1/2 bg-blue-600 text-white font-bold py-1 rounded hover:bg-blue-700 transition duration-200 focus:ring-2 focus:ring-blue-500 focus:outline-none ml-auto block",children:"Wyślij"}),b.jsx("div",{style:{textIndent:"-99999px",whiteSpace:"nowrap",overflow:"hidden",position:"absolute"},"aria-hidden":"true",children:b.jsx("input",{type:"text",name:"_gotcha",tabIndex:"-1",autoComplete:"off"})})]})]})};function A8({as:t,bsPrefix:e,className:n,...r}){e=Ot(e,"col");const i=vP(),s=_P(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let h,d,f;typeof u=="object"&&u!=null?{span:h,offset:d,order:f}=u:h=u;const g=l!==s?`-${l}`:"";h&&o.push(h===!0?`${e}${g}`:`${e}${g}-${h}`),f!=null&&a.push(`order${g}-${f}`),d!=null&&a.push(`offset${g}-${d}`)}),[{...r,className:Ze(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const ql=k.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=A8(t);return b.jsx(i,{...r,ref:e,className:Ze(n,!o.length&&s)})});ql.displayName="Col";const nD=k.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Ot(t,"row"),o=vP(),a=_P(),l=`${s}-cols`,u=[];return o.forEach(h=>{const d=r[h];delete r[h];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const g=h!==a?`-${h}`:"";f!=null&&u.push(`${l}${g}-${f}`)}),b.jsx(n,{ref:i,...r,className:Ze(e,s,...u)})});nD.displayName="Row";function P8(){return b.jsxs("footer",{className:"text-center text-lg-start text-white",style:{backgroundColor:""},children:[b.jsxs("section",{className:"d-flex justify-content-between p-4",style:{backgroundColor:"#6351ce"},children:[b.jsx("div",{className:"me-5",children:b.jsx("span",{children:"Get connected with me on social networks:"})}),b.jsxs("div",{children:[b.jsx("a",{href:"#",className:"text-white me-4",children:b.jsx("i",{className:"fab fa-facebook-f"})}),b.jsx("a",{href:"#",className:"text-white me-4",children:b.jsx("i",{className:"fab fa-twitter"})}),b.jsx("a",{href:"#",className:"text-white me-4",children:b.jsx("i",{className:"fab fa-google"})}),b.jsx("a",{href:"#",className:"text-white me-4",children:b.jsx("i",{className:"fab fa-instagram"})}),b.jsx("a",{href:"#",className:"text-white me-4",children:b.jsx("i",{className:"fab fa-linkedin"})}),b.jsx("a",{href:"#",className:"text-white me-4",children:b.jsx("i",{className:"fab fa-github"})})]})]}),b.jsx("section",{children:b.jsx(A_,{className:"text-center text-md-start mt-5",children:b.jsxs(nD,{className:"mt-3",children:[b.jsxs(ql,{md:3,lg:4,xl:3,className:"mx-auto mb-4",children:[b.jsx("h6",{className:"text-uppercase fw-bold",children:"Maciej Liberadzki Gallery"}),b.jsx("hr",{className:"mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px",backgroundColor:"#7c4dff",height:"2px"}}),b.jsx("p",{children:"The family gallery is a collection of cherished photos and memories that capture the most important moments of family life."})]}),b.jsxs(ql,{md:2,lg:2,xl:2,className:"mx-auto mb-4",children:[b.jsx("h6",{className:"text-uppercase fw-bold",children:"Technologies used"}),b.jsx("hr",{className:"mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px",backgroundColor:"#7c4dff",height:"2px"}}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"CSS/Tailwind"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"React"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Firebase"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Bootstrap"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Node.js"})})]}),b.jsxs(ql,{md:3,lg:2,xl:2,className:"mx-auto mb-4",children:[b.jsx("h6",{className:"text-uppercase fw-bold",children:"Services"}),b.jsx("hr",{className:"mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px",backgroundColor:"#7c4dff",height:"2px"}}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Support"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Website Maintenence"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Responsive Design"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Web Hosting Service"})}),b.jsx("p",{children:b.jsx("a",{href:"#!",className:"text-white",children:"Tailor-made solutions"})})]}),b.jsxs(ql,{md:4,lg:3,xl:3,className:"mx-auto mb-md-0 mb-4",children:[b.jsx("h6",{className:"text-uppercase fw-bold",children:"Contact"}),b.jsx("hr",{className:"mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px",backgroundColor:"#7c4dff",height:"2px"}}),b.jsxs("p",{children:[b.jsx("i",{className:"fas fa-home mr-3"})," Srebrzynska Park, Lodz, Poland"]}),b.jsxs("p",{children:[b.jsx("i",{className:"fas fa-envelope mr-3"})," LoremIpsum"]}),b.jsxs("p",{children:[b.jsx("i",{className:"fas fa-phone mr-3"})," + 01 234 567 88"]}),b.jsx("p",{children:b.jsx("i",{className:""})})]})]})})}),b.jsxs("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:["© 2024 Designed by me",b.jsx("a",{className:"text-white",href:""})]})]})}function R8(){const[t,e]=k.useState(""),[n,r]=k.useState(window.innerWidth<=992);k.useEffect(()=>{const s=()=>{r(window.innerWidth<=992)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]);const i=s=>{if(s.preventDefault(),t.trim()==="")return;const o="https://www.google.com/search?q="+encodeURIComponent(t);window.open(o,"_blank"),e("")};return b.jsx("div",{className:"mx-auto",style:{width:"140px",marginBottom:n?"40px":"0px"},children:b.jsx("form",{onSubmit:i,children:b.jsx("input",{type:"text",placeholder:"Search anything...",className:"form-control","aria-label":"Search",value:t,onChange:s=>e(s.target.value),style:{height:"25px"}})})})}var Pe="-ms-",pu="-moz-",ge="-webkit-",rD="comm",yp="rule",Z0="decl",C8="@import",iD="@keyframes",k8="@layer",sD=Math.abs,ew=String.fromCharCode,iv=Object.assign;function N8(t,e){return ht(t,0)^45?(((e<<2^ht(t,0))<<2^ht(t,1))<<2^ht(t,2))<<2^ht(t,3):0}function oD(t){return t.trim()}function Ir(t,e){return(t=e.exec(t))?t[0]:t}function se(t,e,n){return t.replace(e,n)}function sd(t,e,n){return t.indexOf(e,n)}function ht(t,e){return t.charCodeAt(e)|0}function Na(t,e,n){return t.slice(e,n)}function er(t){return t.length}function aD(t){return t.length}function Wl(t,e){return e.push(t),t}function D8(t,e){return t.map(e).join("")}function xx(t,e){return t.filter(function(n){return!Ir(n,e)})}var vp=1,Da=1,lD=0,Vn=0,tt=0,Xa="";function _p(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:vp,column:Da,length:o,return:"",siblings:a}}function li(t,e){return iv(_p("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function xo(t){for(;t.root;)t=li(t.root,{children:[t]});Wl(t,t.siblings)}function O8(){return tt}function V8(){return tt=Vn>0?ht(Xa,--Vn):0,Da--,tt===10&&(Da=1,vp--),tt}function Gn(){return tt=Vn<lD?ht(Xa,Vn++):0,Da++,tt===10&&(Da=1,vp++),tt}function Vs(){return ht(Xa,Vn)}function od(){return Vn}function wp(t,e){return Na(Xa,t,e)}function sv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M8(t){return vp=Da=1,lD=er(Xa=t),Vn=0,[]}function L8(t){return Xa="",t}function Km(t){return oD(wp(Vn-1,ov(t===91?t+2:t===40?t+1:t)))}function F8(t){for(;(tt=Vs())&&tt<33;)Gn();return sv(t)>2||sv(tt)>3?"":" "}function j8(t,e){for(;--e&&Gn()&&!(tt<48||tt>102||tt>57&&tt<65||tt>70&&tt<97););return wp(t,od()+(e<6&&Vs()==32&&Gn()==32))}function ov(t){for(;Gn();)switch(tt){case t:return Vn;case 34:case 39:t!==34&&t!==39&&ov(tt);break;case 40:t===41&&ov(t);break;case 92:Gn();break}return Vn}function U8(t,e){for(;Gn()&&t+tt!==57;)if(t+tt===84&&Vs()===47)break;return"/*"+wp(e,Vn-1)+"*"+ew(t===47?t:Gn())}function B8(t){for(;!sv(Vs());)Gn();return wp(t,Vn)}function z8(t){return L8(ad("",null,null,null,[""],t=M8(t),0,[0],t))}function ad(t,e,n,r,i,s,o,a,l){for(var u=0,h=0,d=o,f=0,g=0,v=0,I=1,S=1,y=1,_=0,E="",C=i,N=s,O=r,T=E;S;)switch(v=_,_=Gn()){case 40:if(v!=108&&ht(T,d-1)==58){sd(T+=se(Km(_),"&","&\f"),"&\f",sD(u?a[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Km(_);break;case 9:case 10:case 13:case 32:T+=F8(v);break;case 92:T+=j8(od()-1,7);continue;case 47:switch(Vs()){case 42:case 47:Wl($8(U8(Gn(),od()),e,n,l),l);break;default:T+="/"}break;case 123*I:a[u++]=er(T)*y;case 125*I:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+h:y==-1&&(T=se(T,/\f/g,"")),g>0&&er(T)-d&&Wl(g>32?bx(T+";",r,n,d-1,l):bx(se(T," ","")+";",r,n,d-2,l),l);break;case 59:T+=";";default:if(Wl(O=Sx(T,e,n,u,h,i,a,E,C=[],N=[],d,s),s),_===123)if(h===0)ad(T,e,O,O,C,s,d,a,N);else switch(f===99&&ht(T,3)===110?100:f){case 100:case 108:case 109:case 115:ad(t,O,O,r&&Wl(Sx(t,O,O,0,0,i,a,E,i,C=[],d,N),N),i,N,d,a,r?C:N);break;default:ad(T,O,O,O,[""],N,0,a,N)}}u=h=g=0,I=y=1,E=T="",d=o;break;case 58:d=1+er(T),g=v;default:if(I<1){if(_==123)--I;else if(_==125&&I++==0&&V8()==125)continue}switch(T+=ew(_),_*I){case 38:y=h>0?1:(T+="\f",-1);break;case 44:a[u++]=(er(T)-1)*y,y=1;break;case 64:Vs()===45&&(T+=Km(Gn())),f=Vs(),h=d=er(E=T+=B8(od())),_++;break;case 45:v===45&&er(T)==2&&(I=0)}}return s}function Sx(t,e,n,r,i,s,o,a,l,u,h,d){for(var f=i-1,g=i===0?s:[""],v=aD(g),I=0,S=0,y=0;I<r;++I)for(var _=0,E=Na(t,f+1,f=sD(S=o[I])),C=t;_<v;++_)(C=oD(S>0?g[_]+" "+E:se(E,/&\f/g,g[_])))&&(l[y++]=C);return _p(t,e,n,i===0?yp:a,l,u,h,d)}function $8(t,e,n,r){return _p(t,e,n,rD,ew(O8()),Na(t,2,-2),0,r)}function bx(t,e,n,r,i){return _p(t,e,n,Z0,Na(t,0,r),Na(t,r+1,-1),r,i)}function uD(t,e,n){switch(N8(t,e)){case 5103:return ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ge+t+t;case 4789:return pu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ge+t+pu+t+Pe+t+t;case 5936:switch(ht(t,e+11)){case 114:return ge+t+Pe+se(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ge+t+Pe+se(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ge+t+Pe+se(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ge+t+Pe+t+t;case 6165:return ge+t+Pe+"flex-"+t+t;case 5187:return ge+t+se(t,/(\w+).+(:[^]+)/,ge+"box-$1$2"+Pe+"flex-$1$2")+t;case 5443:return ge+t+Pe+"flex-item-"+se(t,/flex-|-self/g,"")+(Ir(t,/flex-|baseline/)?"":Pe+"grid-row-"+se(t,/flex-|-self/g,""))+t;case 4675:return ge+t+Pe+"flex-line-pack"+se(t,/align-content|flex-|-self/g,"")+t;case 5548:return ge+t+Pe+se(t,"shrink","negative")+t;case 5292:return ge+t+Pe+se(t,"basis","preferred-size")+t;case 6060:return ge+"box-"+se(t,"-grow","")+ge+t+Pe+se(t,"grow","positive")+t;case 4554:return ge+se(t,/([^-])(transform)/g,"$1"+ge+"$2")+t;case 6187:return se(se(se(t,/(zoom-|grab)/,ge+"$1"),/(image-set)/,ge+"$1"),t,"")+t;case 5495:case 3959:return se(t,/(image-set\([^]*)/,ge+"$1$`$1");case 4968:return se(se(t,/(.+:)(flex-)?(.*)/,ge+"box-pack:$3"+Pe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ge+t+t;case 4200:if(!Ir(t,/flex-|baseline/))return Pe+"grid-column-align"+Na(t,e)+t;break;case 2592:case 3360:return Pe+se(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ir(r.props,/grid-\w+-end/)})?~sd(t+(n=n[e].value),"span",0)?t:Pe+se(t,"-start","")+t+Pe+"grid-row-span:"+(~sd(n,"span",0)?Ir(n,/\d+/):+Ir(n,/\d+/)-+Ir(t,/\d+/))+";":Pe+se(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ir(r.props,/grid-\w+-start/)})?t:Pe+se(se(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return se(t,/(.+)-inline(.+)/,ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(er(t)-1-e>6)switch(ht(t,e+1)){case 109:if(ht(t,e+4)!==45)break;case 102:return se(t,/(.+:)(.+)-([^]+)/,"$1"+ge+"$2-$3$1"+pu+(ht(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sd(t,"stretch",0)?uD(se(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return se(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return Pe+i+":"+s+u+(o?Pe+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(ht(t,e+6)===121)return se(t,":",":"+ge)+t;break;case 6444:switch(ht(t,ht(t,14)===45?18:11)){case 120:return se(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ge+(ht(t,14)===45?"inline-":"")+"box$3$1"+ge+"$2$3$1"+Pe+"$2box$3")+t;case 100:return se(t,":",":"+Pe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return se(t,"scroll-","scroll-snap-")+t}return t}function cf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function K8(t,e,n,r){switch(t.type){case k8:if(t.children.length)break;case C8:case Z0:return t.return=t.return||t.value;case rD:return"";case iD:return t.return=t.value+"{"+cf(t.children,r)+"}";case yp:if(!er(t.value=t.props.join(",")))return""}return er(n=cf(t.children,r))?t.return=t.value+"{"+n+"}":""}function q8(t){var e=aD(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function W8(t){return function(e){e.root||(e=e.return)&&t(e)}}function G8(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Z0:t.return=uD(t.value,t.length,n);return;case iD:return cf([li(t,{value:se(t.value,"@","@"+ge)})],r);case yp:if(t.length)return D8(n=t.props,function(i){switch(Ir(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":xo(li(t,{props:[se(i,/:(read-\w+)/,":"+pu+"$1")]})),xo(li(t,{props:[i]})),iv(t,{props:xx(n,r)});break;case"::placeholder":xo(li(t,{props:[se(i,/:(plac\w+)/,":"+ge+"input-$1")]})),xo(li(t,{props:[se(i,/:(plac\w+)/,":"+pu+"$1")]})),xo(li(t,{props:[se(i,/:(plac\w+)/,Pe+"input-$1")]})),xo(li(t,{props:[i]})),iv(t,{props:xx(n,r)});break}return""})}}var H8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},un={},Oa=typeof process<"u"&&un!==void 0&&(un.REACT_APP_SC_ATTR||un.SC_ATTR)||"data-styled",cD="active",hD="data-styled-version",Ep="6.1.13",tw=`/*!sc*/
`,hf=typeof window<"u"&&"HTMLElement"in window,Q8=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&un!==void 0&&un.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&un.REACT_APP_SC_DISABLE_SPEEDY!==""?un.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&un.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&un!==void 0&&un.SC_DISABLE_SPEEDY!==void 0&&un.SC_DISABLE_SPEEDY!==""&&un.SC_DISABLE_SPEEDY!=="false"&&un.SC_DISABLE_SPEEDY),Tp=Object.freeze([]),Va=Object.freeze({});function Y8(t,e,n){return n===void 0&&(n=Va),t.theme!==n.theme&&t.theme||e||n.theme}var dD=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),X8=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,J8=/(^-|-$)/g;function Ax(t){return t.replace(X8,"-").replace(J8,"")}var Z8=/(a)(d)/gi,Ah=52,Px=function(t){return String.fromCharCode(t+(t>25?39:97))};function av(t){var e,n="";for(e=Math.abs(t);e>Ah;e=e/Ah|0)n=Px(e%Ah)+n;return(Px(e%Ah)+n).replace(Z8,"$1-$2")}var qm,fD=5381,Go=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},pD=function(t){return Go(fD,t)};function mD(t){return av(pD(t)>>>0)}function e7(t){return t.displayName||t.name||"Component"}function Wm(t){return typeof t=="string"&&!0}var gD=typeof Symbol=="function"&&Symbol.for,yD=gD?Symbol.for("react.memo"):60115,t7=gD?Symbol.for("react.forward_ref"):60112,n7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i7=((qm={})[t7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qm[yD]=vD,qm);function Rx(t){return("type"in(e=t)&&e.type.$$typeof)===yD?vD:"$$typeof"in t?i7[t.$$typeof]:n7;var e}var s7=Object.defineProperty,o7=Object.getOwnPropertyNames,Cx=Object.getOwnPropertySymbols,a7=Object.getOwnPropertyDescriptor,l7=Object.getPrototypeOf,kx=Object.prototype;function _D(t,e,n){if(typeof e!="string"){if(kx){var r=l7(e);r&&r!==kx&&_D(t,r,n)}var i=o7(e);Cx&&(i=i.concat(Cx(e)));for(var s=Rx(t),o=Rx(e),a=0;a<i.length;++a){var l=i[a];if(!(l in r7||n&&n[l]||o&&l in o||s&&l in s)){var u=a7(e,l);try{s7(t,l,u)}catch{}}}}return t}function Ma(t){return typeof t=="function"}function nw(t){return typeof t=="object"&&"styledComponentId"in t}function Ss(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function lv(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Zu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function uv(t,e,n){if(n===void 0&&(n=!1),!n&&!Zu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=uv(t[r],e[r]);else if(Zu(e))for(var r in e)t[r]=uv(t[r],e[r]);return t}function rw(t,e){Object.defineProperty(t,"toString",{value:e})}function kc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var u7=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw kc(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(tw);return n},t}(),ld=new Map,df=new Map,ud=1,Ph=function(t){if(ld.has(t))return ld.get(t);for(;df.has(ud);)ud++;var e=ud++;return ld.set(t,e),df.set(e,t),e},c7=function(t,e){ud=e+1,ld.set(t,e),df.set(e,t)},h7="style[".concat(Oa,"][").concat(hD,'="').concat(Ep,'"]'),d7=new RegExp("^".concat(Oa,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),f7=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},p7=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(tw),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(d7);if(l){var u=0|parseInt(l[1],10),h=l[2];u!==0&&(c7(h,u),f7(t,h,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},Nx=function(t){for(var e=document.querySelectorAll(h7),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Oa)!==cD&&(p7(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function m7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var wD=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Oa,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Oa,cD),r.setAttribute(hD,Ep);var o=m7();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},g7=function(){function t(e){this.element=wD(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw kc(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),y7=function(){function t(e){this.element=wD(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),v7=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Dx=hf,_7={isServer:!hf,useCSSOMInjection:!Q8},ED=function(){function t(e,n,r){e===void 0&&(e=Va),n===void 0&&(n={});var i=this;this.options=tn(tn({},_7),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&hf&&Dx&&(Dx=!1,Nx(this)),rw(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(d){var f=function(y){return df.get(y)}(d);if(f===void 0)return"continue";var g=s.names.get(f),v=o.getGroup(d);if(g===void 0||!g.size||v.length===0)return"continue";var I="".concat(Oa,".g").concat(d,'[id="').concat(f,'"]'),S="";g!==void 0&&g.forEach(function(y){y.length>0&&(S+="".concat(y,","))}),l+="".concat(v).concat(I,'{content:"').concat(S,'"}').concat(tw)},h=0;h<a;h++)u(h);return l}(i)})}return t.registerId=function(e){return Ph(e)},t.prototype.rehydrate=function(){!this.server&&hf&&Nx(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(tn(tn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new v7(i):r?new g7(i):new y7(i)}(this.options),new u7(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Ph(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Ph(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Ph(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),w7=/&/g,E7=/^\s*\/\/.*$/gm;function TD(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=TD(n.children,e)),n})}function T7(t){var e,n,r,i=Va,s=i.options,o=s===void 0?Va:s,a=i.plugins,l=a===void 0?Tp:a,u=function(f,g,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(e):f},h=l.slice();h.push(function(f){f.type===yp&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(w7,n).replace(r,u))}),o.prefix&&h.push(G8),h.push(K8);var d=function(f,g,v,I){g===void 0&&(g=""),v===void 0&&(v=""),I===void 0&&(I="&"),e=I,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var S=f.replace(E7,""),y=z8(v||g?"".concat(v," ").concat(g," { ").concat(S," }"):S);o.namespace&&(y=TD(y,o.namespace));var _=[];return cf(y,q8(h.concat(W8(function(E){return _.push(E)})))),_};return d.hash=l.length?l.reduce(function(f,g){return g.name||kc(15),Go(f,g.name)},fD).toString():"",d}var I7=new ED,cv=T7(),ID=Oe.createContext({shouldForwardProp:void 0,styleSheet:I7,stylis:cv});ID.Consumer;Oe.createContext(void 0);function Ox(){return k.useContext(ID)}var xD=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=cv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,rw(this,function(){throw kc(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=cv),this.name+e.hash},t}(),x7=function(t){return t>="A"&&t<="Z"};function Vx(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;x7(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var SD=function(t){return t==null||t===!1||t===""},bD=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!SD(s)&&(Array.isArray(s)&&s.isCss||Ma(s)?r.push("".concat(Vx(i),":"),s,";"):Zu(s)?r.push.apply(r,Hu(Hu(["".concat(i," {")],bD(s),!1),["}"],!1)):r.push("".concat(Vx(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in H8||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ms(t,e,n,r){if(SD(t))return[];if(nw(t))return[".".concat(t.styledComponentId)];if(Ma(t)){if(!Ma(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ms(i,e,n,r)}var s;return t instanceof xD?n?(t.inject(n,r),[t.getName(r)]):[t]:Zu(t)?bD(t):Array.isArray(t)?Array.prototype.concat.apply(Tp,t.map(function(o){return Ms(o,e,n,r)})):[t.toString()]}function S7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ma(n)&&!nw(n))return!1}return!0}var b7=pD(Ep),A7=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&S7(e),this.componentId=n,this.baseHash=Go(b7,n),this.baseStyle=r,ED.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ss(i,this.staticRulesId);else{var s=lv(Ms(this.rules,e,n,r)),o=av(Go(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ss(i,o),this.staticRulesId=o}else{for(var l=Go(this.baseHash,r.hash),u="",h=0;h<this.rules.length;h++){var d=this.rules[h];if(typeof d=="string")u+=d;else if(d){var f=lv(Ms(d,e,n,r));l=Go(l,f+h),u+=f}}if(u){var g=av(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(u,".".concat(g),void 0,this.componentId)),i=Ss(i,g)}}return i},t}(),AD=Oe.createContext(void 0);AD.Consumer;var Gm={};function P7(t,e,n){var r=nw(t),i=t,s=!Wm(t),o=e.attrs,a=o===void 0?Tp:o,l=e.componentId,u=l===void 0?function(C,N){var O=typeof C!="string"?"sc":Ax(C);Gm[O]=(Gm[O]||0)+1;var T="".concat(O,"-").concat(mD(Ep+O+Gm[O]));return N?"".concat(N,"-").concat(T):T}(e.displayName,e.parentComponentId):l,h=e.displayName,d=h===void 0?function(C){return Wm(C)?"styled.".concat(C):"Styled(".concat(e7(C),")")}(t):h,f=e.displayName&&e.componentId?"".concat(Ax(e.displayName),"-").concat(e.componentId):e.componentId||u,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var I=i.shouldForwardProp;if(e.shouldForwardProp){var S=e.shouldForwardProp;v=function(C,N){return I(C,N)&&S(C,N)}}else v=I}var y=new A7(n,f,r?i.componentStyle:void 0);function _(C,N){return function(O,T,w){var A=O.attrs,P=O.componentStyle,D=O.defaultProps,V=O.foldedComponentIds,R=O.styledComponentId,qe=O.target,Vt=Oe.useContext(AD),ft=Ox(),ae=O.shouldForwardProp||ft.shouldForwardProp,U=Y8(T,Vt,D)||Va,G=function(ve,Ye,Et){for(var _r,an=tn(tn({},Ye),{className:void 0,theme:Et}),In=0;In<ve.length;In+=1){var Mn=Ma(_r=ve[In])?_r(an):_r;for(var Mt in Mn)an[Mt]=Mt==="className"?Ss(an[Mt],Mn[Mt]):Mt==="style"?tn(tn({},an[Mt]),Mn[Mt]):Mn[Mt]}return Ye.className&&(an.className=Ss(an.className,Ye.className)),an}(A,T,U),X=G.as||qe,he={};for(var ie in G)G[ie]===void 0||ie[0]==="$"||ie==="as"||ie==="theme"&&G.theme===U||(ie==="forwardedAs"?he.as=G.forwardedAs:ae&&!ae(ie,X)||(he[ie]=G[ie]));var me=function(ve,Ye){var Et=Ox(),_r=ve.generateAndInjectStyles(Ye,Et.styleSheet,Et.stylis);return _r}(P,G),it=Ss(V,R);return me&&(it+=" "+me),G.className&&(it+=" "+G.className),he[Wm(X)&&!dD.has(X)?"class":"className"]=it,he.ref=w,k.createElement(X,he)}(E,C,N)}_.displayName=d;var E=Oe.forwardRef(_);return E.attrs=g,E.componentStyle=y,E.displayName=d,E.shouldForwardProp=v,E.foldedComponentIds=r?Ss(i.foldedComponentIds,i.styledComponentId):"",E.styledComponentId=f,E.target=r?i.target:t,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(N){for(var O=[],T=1;T<arguments.length;T++)O[T-1]=arguments[T];for(var w=0,A=O;w<A.length;w++)uv(N,A[w],!0);return N}({},i.defaultProps,C):C}}),rw(E,function(){return".".concat(E.styledComponentId)}),s&&_D(E,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function Mx(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Lx=function(t){return Object.assign(t,{isCss:!0})};function PD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ma(t)||Zu(t))return Lx(Ms(Mx(Tp,Hu([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ms(r):Lx(Ms(Mx(r,e)))}function hv(t,e,n){if(n===void 0&&(n=Va),!e)throw kc(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,PD.apply(void 0,Hu([i],s,!1)))};return r.attrs=function(i){return hv(t,e,tn(tn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return hv(t,e,tn(tn({},n),i))},r}var RD=function(t){return hv(P7,t)},uo=RD;dD.forEach(function(t){uo[t]=RD(t)});function iw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=lv(PD.apply(void 0,Hu([t],e,!1))),i=mD(r);return new xD(i,r)}const R7="#4fa94d",C7={"aria-busy":!0,role:"progressbar"},k7=uo.div`
  display: ${t=>t.$visible?"flex":"none"};
`,N7="http://www.w3.org/2000/svg",D7=({height:t=80,width:e=80,color:n=R7,ariaLabel:r="circles-loading",wrapperStyle:i,wrapperClass:s,visible:o=!0})=>b.jsx(k7,{style:i,$visible:o,className:s,"aria-label":r,"data-testid":"circles-loading",...C7,children:b.jsxs("svg",{width:e,height:t,viewBox:"0 0 135 135",xmlns:N7,fill:n,"data-testid":"circles-svg",children:[b.jsx("title",{children:"circles-loading"}),b.jsx("desc",{children:"Animated representation of circles"}),b.jsx("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z",children:b.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})}),b.jsx("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z",children:b.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"})})]})}),jn=242.776657104492,O7=1.6,V7=iw`
12.5% {
  stroke-dasharray: ${jn*.14}px, ${jn}px;
  stroke-dashoffset: -${jn*.11}px;
}
43.75% {
  stroke-dasharray: ${jn*.35}px, ${jn}px;
  stroke-dashoffset: -${jn*.35}px;
}
100% {
  stroke-dasharray: ${jn*.01}px, ${jn}px;
  stroke-dashoffset: -${jn*.99}px;
}
`;uo.path`
  stroke-dasharray: ${jn*.01}px, ${jn};
  stroke-dashoffset: 0;
  animation: ${V7} ${O7}s linear infinite;
`;const M7=iw`
to {
   transform: rotate(360deg);
 }
`;uo.svg`
  animation: ${M7} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;uo.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const L7=iw`
to {
   stroke-dashoffset: 136;
 }
`;uo.polygon`
  stroke-dasharray: 17;
  animation: ${L7} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;uo.svg`
  transform-origin: 50% 65%;
`;function F7(t){return gp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function j7(t){return gp({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}const CD=k.createContext({});function U7(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const sw=typeof window<"u",B7=sw?k.useLayoutEffect:k.useEffect,ow=k.createContext(null),kD=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function z7(t=!0){const e=k.useContext(ow);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=k.useId();k.useEffect(()=>{if(t)return i(s)},[t]);const o=k.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}function aw(t,e){t.indexOf(e)===-1&&t.push(e)}function lw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yn=t=>t;let dv=yn;const $7={skipAnimations:!1,useManualTiming:!1};function uw(t){let e;return()=>(e===void 0&&(e=t()),e)}const La=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class cw{constructor(){this.subscriptions=[]}add(e){return aw(this.subscriptions,e),()=>lw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lr=t=>t*1e3,Fr=t=>t/1e3;function ND(t,e){return e?t*(1e3/e):0}const K7=uw(()=>window.ScrollTimeline!==void 0);class q7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(K7()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class W7 extends q7{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function hw(t,e){return t?t[e]||t.default||t:void 0}const fv=2e4;function DD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fv;)e+=n,r=t.next(e);return e>=fv?1/0:e}function dw(t){return typeof t=="function"}function Fx(t,e){t.timeline=e,t.onfinish=null}const fw=t=>Array.isArray(t)&&typeof t[0]=="number",G7={linearEasing:void 0};function H7(t,e){const n=uw(t);return()=>{var r;return(r=G7[e])!==null&&r!==void 0?r:n()}}const ff=H7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),OD=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(La(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function VD(t){return!!(typeof t=="function"&&ff()||!t||typeof t=="string"&&(t in pv||ff())||fw(t)||Array.isArray(t)&&t.every(VD))}const Gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gl([0,.65,.55,1]),circOut:Gl([.55,0,1,.45]),backIn:Gl([.31,.01,.66,-.59]),backOut:Gl([.33,1.53,.69,.99])};function MD(t,e){if(t)return typeof t=="function"&&ff()?OD(t,e):fw(t)?Gl(t):Array.isArray(t)?t.map(n=>MD(n,e)||pv.easeOut):pv[t]}const Rh=["read","resolveKeyframes","update","preRender","render","postRender"],jx={value:null,addProjectionMetrics:null};function Q7(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(h.schedule(d),t()),l++,d(a)}const h={schedule:(d,f=!1,g=!1)=>{const I=g&&i?n:r;return f&&o.add(d),I.has(d)||I.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&jx.value&&jx.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const Y7=40;function LD(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Rh.reduce((y,_)=>(y[_]=Q7(s,e?_:void 0),y),{}),{read:a,resolveKeyframes:l,update:u,preRender:h,render:d,postRender:f}=o,g=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Y7),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Rh.reduce((y,_)=>{const E=o[_];return y[_]=(C,N=!1,O=!1)=>(n||v(),E.schedule(C,N,O)),y},{}),cancel:y=>{for(let _=0;_<Rh.length;_++)o[Rh[_]].cancel(y)},state:i,steps:o}}const{schedule:xe,cancel:Hi,state:yt,steps:Hm}=LD(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),{schedule:pw,cancel:CH}=LD(queueMicrotask,!1);let cd;function X7(){cd=void 0}const pr={now:()=>(cd===void 0&&pr.set(yt.isProcessing||$7.useManualTiming?yt.timestamp:performance.now()),cd),set:t=>{cd=t,queueMicrotask(X7)}},Un={x:!1,y:!1};function FD(){return Un.x||Un.y}function J7(t){return t==="x"||t==="y"?Un[t]?null:(Un[t]=!0,()=>{Un[t]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}function Z7(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function jD(t,e){const n=Z7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Ux(t){return!(t.pointerType==="touch"||FD())}function eK(t,e,n={}){const[r,i,s]=jD(t,n),o=a=>{if(!Ux(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{Ux(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function Bx(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const UD=(t,e)=>e?t===e?!0:UD(t,e.parentElement):!1,mw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nK(t){return tK.has(t.tagName)||t.tabIndex!==-1}const Hl=new WeakSet;function zx(t){return e=>{e.key==="Enter"&&t(e)}}function Qm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=zx(()=>{if(Hl.has(n))return;Qm(n,"down");const i=zx(()=>{Qm(n,"up")}),s=()=>Qm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $x(t){return mw(t)&&!FD()}function iK(t,e,n={}){const[r,i,s]=jD(t,n),o=a=>{const l=a.currentTarget;if(!l||!$x(a)||Hl.has(l))return;Hl.add(l),Bx(a,"set");const u=e(l,a),h=(g,v)=>{l.removeEventListener("pointerup",d),l.removeEventListener("pointercancel",f),Bx(g,"release"),!(!$x(g)||!Hl.has(l))&&(Hl.delete(l),typeof u=="function"&&u(g,{success:v}))},d=g=>{(g.isTrusted?sK(g,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?h(g,!1):h(g,!(l instanceof Element)||UD(l,g.target))},f=g=>{h(g,!1)};l.addEventListener("pointerup",d,i),l.addEventListener("pointercancel",f,i),l.addEventListener("lostpointercapture",f,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!nK(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",u=>rK(u,i),i)}),s}function sK(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const Kx=30,oK=t=>!isNaN(parseFloat(t));class aK{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=pr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cw);const r=this.events[e].add(n);return e==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Kx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kx);return ND(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ec(t,e){return new aK(t,e)}const BD=k.createContext({strict:!1}),qx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const t in qx)Fa[t]={isEnabled:e=>qx[t].some(n=>!!e[n])};function lK(t){for(const e in t)Fa[e]={...Fa[e],...t[e]}}const uK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uK.has(t)}let zD=t=>!pf(t);function cK(t){t&&(zD=e=>e.startsWith("on")?!pf(e):t(e))}try{cK(require("@emotion/is-prop-valid").default)}catch{}function hK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(zD(i)||n===!0&&pf(i)||!e&&!pf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function dK(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ip=k.createContext({});function xp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tc(t){return typeof t=="string"||Array.isArray(t)}const gw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yw=["initial",...gw];function Sp(t){return xp(t.animate)||yw.some(e=>tc(t[e]))}function $D(t){return!!(Sp(t)||t.variants)}function fK(t,e){if(Sp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return t.inherit!==!1?e:{}}function pK(t){const{initial:e,animate:n}=fK(t,k.useContext(Ip));return k.useMemo(()=>({initial:e,animate:n}),[Wx(e),Wx(n)])}function Wx(t){return Array.isArray(t)?t.join(" "):t}const mK=Symbol.for("motionComponentSymbol");function Ho(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gK(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ho(n)&&(n.current=r))},[e])}const vw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yK="framerAppearId",KD="data-"+vw(yK),qD=k.createContext({});function vK(t,e,n,r,i){var s,o;const{visualElement:a}=k.useContext(Ip),l=k.useContext(BD),u=k.useContext(ow),h=k.useContext(kD).reducedMotion,d=k.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,g=k.useContext(qD);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&_K(d.current,n,i,g);const v=k.useRef(!1);k.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const I=n[KD],S=k.useRef(!!I&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,I))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,I)));return B7(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),pw.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,I)}),S.current=!1))}),f}function _K(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WD(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ho(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function WD(t){if(t)return t.options.allowProjection!==!1?t.projection:WD(t.parent)}function wK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&lK(t);function a(u,h){let d;const f={...k.useContext(kD),...u,layoutId:EK(u)},{isStatic:g}=f,v=pK(u),I=r(u,g);if(!g&&sw){TK();const S=IK(f);d=S.MeasureLayout,v.visualElement=vK(i,I,f,e,S.ProjectionNode)}return b.jsxs(Ip.Provider,{value:v,children:[d&&v.visualElement?b.jsx(d,{visualElement:v.visualElement,...f}):null,n(i,u,gK(I,v.visualElement,h),I,g,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=k.forwardRef(a);return l[mK]=i,l}function EK({layoutId:t}){const e=k.useContext(CD).id;return e&&t!==void 0?e+"-"+t:t}function TK(t,e){k.useContext(BD).strict}function IK(t){const{drag:e,layout:n}=Fa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const GD=t=>e=>typeof e=="string"&&e.startsWith(t),_w=GD("--"),xK=GD("var(--"),ww=t=>xK(t)?SK.test(t.split("/*")[0].trim()):!1,SK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nc={};function bK(t){for(const e in t)nc[e]=t[e],_w(e)&&(nc[e].isCSSVariable=!0)}const Ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(Ja);function HD(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nc[t]||t==="opacity")}const Nt=t=>!!(t&&t.getVelocity),QD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hr=(t,e,n)=>n>e?e:n<t?t:n,Za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rc={...Za,transform:t=>Hr(0,1,t)},Ch={...Za,default:1},Nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=Nc("deg"),mr=Nc("%"),ee=Nc("px"),AK=Nc("vh"),PK=Nc("vw"),Gx={...mr,parse:t=>mr.parse(t)/100,transform:t=>mr.transform(t*100)},RK={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee},CK={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:Ch,scaleX:Ch,scaleY:Ch,scaleZ:Ch,skew:ui,skewX:ui,skewY:ui,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:rc,originX:Gx,originY:Gx,originZ:ee},Hx={...Za,transform:Math.round},Ew={...RK,...CK,zIndex:Hx,size:ee,fillOpacity:rc,strokeOpacity:rc,numOctaves:Hx},kK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NK=Ja.length;function DK(t,e,n){let r="",i=!0;for(let s=0;s<NK;s++){const o=Ja[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=QD(a,Ew[o]);if(!l){i=!1;const h=kK[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Tw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(co.has(l)){o=!0;continue}else if(_w(l)){i[l]=u;continue}else{const h=QD(u,Ew[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=DK(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const Iw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YD(t,e,n){for(const r in e)!Nt(e[r])&&!HD(r,n)&&(t[r]=e[r])}function OK({transformTemplate:t},e){return k.useMemo(()=>{const n=Iw();return Tw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function VK(t,e){const n=t.style||{},r={};return YD(r,n,t),Object.assign(r,OK(t,e)),r}function MK(t,e){const n={},r=VK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const LK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xw(t){return typeof t!="string"||t.includes("-")?!1:!!(LK.indexOf(t)>-1||/[A-Z]/u.test(t))}const FK={offset:"stroke-dashoffset",array:"stroke-dasharray"},jK={offset:"strokeDashoffset",array:"strokeDasharray"};function UK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?FK:jK;t[s.offset]=ee.transform(-r);const o=ee.transform(e),a=ee.transform(n);t[s.array]=`${o} ${a}`}function Qx(t,e,n){return typeof t=="string"?t:ee.transform(e+n*t)}function BK(t,e,n){const r=Qx(e,t.x,t.width),i=Qx(n,t.y,t.height);return`${r} ${i}`}function Sw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,d){if(Tw(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=BK(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&UK(f,o,a,l,!1)}const XD=()=>({...Iw(),attrs:{}}),bw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zK(t,e,n,r){const i=k.useMemo(()=>{const s=XD();return Sw(s,e,bw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};YD(s,t.style,t),i.style={...s,...i.style}}return i}function $K(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(xw(n)?zK:MK)(r,s,o,n),u=hK(r,typeof n=="string",t),h=n!==k.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=k.useMemo(()=>Nt(d)?d.get():d,[d]);return k.createElement(n,{...h,children:f})}}function Yx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Aw(t,e,n,r){if(typeof e=="function"){const[i,s]=Yx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Yx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const mv=t=>Array.isArray(t),KK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),qK=t=>mv(t)?t[t.length-1]||0:t;function hd(t){const e=Nt(t)?t.get():t;return KK(e)?e.toValue():e}function WK({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:GK(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const JD=t=>(e,n)=>{const r=k.useContext(Ip),i=k.useContext(ow),s=()=>WK(t,e,r,i);return n?s():U7(s)};function GK(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=hd(s[f]);let{initial:o,animate:a}=t;const l=Sp(t),u=$D(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!xp(d)){const f=Array.isArray(d)?d:[d];for(let g=0;g<f.length;g++){const v=Aw(t,f[g]);if(v){const{transitionEnd:I,transition:S,...y}=v;for(const _ in y){let E=y[_];if(Array.isArray(E)){const C=h?E.length-1:0;E=E[C]}E!==null&&(i[_]=E)}for(const _ in I)i[_]=I[_]}}}return i}function Pw(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Nt(i[o])||e.style&&Nt(e.style[o])||HD(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const HK={useVisualState:JD({scrapeMotionValuesFromProps:Pw,createRenderState:Iw})};function ZD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function e2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const t2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n2(t,e,n,r){e2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(t2.has(i)?i:vw(i),e.attrs[i])}function r2(t,e,n){const r=Pw(t,e,n);for(const i in t)if(Nt(t[i])||Nt(e[i])){const s=Ja.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Xx=["x","y","width","height","cx","cy","r"],QK={useVisualState:JD({scrapeMotionValuesFromProps:r2,createRenderState:XD,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(co.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Xx.length;a++){const l=Xx[a];t[l]!==e[l]&&(o=!0)}o&&xe.read(()=>{ZD(n,r),xe.render(()=>{Sw(r,i,bw(n.tagName),t.transformTemplate),n2(n,r)})})}})};function YK(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...xw(r)?QK:HK,preloadedFeatures:t,useRender:$K(i),createVisualElement:e,Component:r};return wK(o)}}function ic(t,e,n){const r=t.getProps();return Aw(r,e,n!==void 0?n:r.custom,t)}const i2=new Set(["width","height","top","left","right","bottom",...Ja]);function XK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ec(n))}function JK(t,e){const n=ic(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=qK(s[o]);XK(t,o,a)}}function ZK(t){return!!(Nt(t)&&t.add)}function gv(t,e){const n=t.getValue("willChange");if(ZK(n))return n.add(e)}function s2(t){return t.props[KD]}const o2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eq=1e-7,tq=12;function nq(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=o2(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>eq&&++a<tq);return o}function Dc(t,e,n,r){if(t===e&&n===r)return yn;const i=s=>nq(s,0,1,t,n);return s=>s===0||s===1?s:o2(i(s),e,r)}const a2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l2=t=>e=>1-t(1-e),u2=Dc(.33,1.53,.69,.99),Rw=l2(u2),c2=a2(Rw),h2=t=>(t*=2)<1?.5*Rw(t):.5*(2-Math.pow(2,-10*(t-1))),Cw=t=>1-Math.sin(Math.acos(t)),d2=l2(Cw),f2=a2(Cw),p2=t=>/^0[^.\s]+$/u.test(t);function rq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p2(t):!0}const mu=t=>Math.round(t*1e5)/1e5,kw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iq(t){return t==null}const sq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nw=(t,e)=>n=>!!(typeof n=="string"&&sq.test(n)&&n.startsWith(t)||e&&!iq(n)&&Object.prototype.hasOwnProperty.call(n,e)),m2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(kw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oq=t=>Hr(0,255,t),Ym={...Za,transform:t=>Math.round(oq(t))},bs={test:Nw("rgb","red"),parse:m2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ym.transform(t)+", "+Ym.transform(e)+", "+Ym.transform(n)+", "+mu(rc.transform(r))+")"};function aq(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yv={test:Nw("#"),parse:aq,transform:bs.transform},Qo={test:Nw("hsl","hue"),parse:m2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+mr.transform(mu(e))+", "+mr.transform(mu(n))+", "+mu(rc.transform(r))+")"},Pt={test:t=>bs.test(t)||yv.test(t)||Qo.test(t),parse:t=>bs.test(t)?bs.parse(t):Qo.test(t)?Qo.parse(t):yv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bs.transform(t):Qo.transform(t)},lq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lq))===null||n===void 0?void 0:n.length)||0)>0}const g2="number",y2="color",cq="var",hq="var(",Jx="${}",dq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(dq,l=>(Pt.test(l)?(r.color.push(s),i.push(y2),n.push(Pt.parse(l))):l.startsWith(hq)?(r.var.push(s),i.push(cq),n.push(l)):(r.number.push(s),i.push(g2),n.push(parseFloat(l))),++s,Jx)).split(Jx);return{values:n,split:a,indexes:r,types:i}}function v2(t){return sc(t).values}function _2(t){const{split:e,types:n}=sc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===g2?s+=mu(i[o]):a===y2?s+=Pt.transform(i[o]):s+=i[o]}return s}}const fq=t=>typeof t=="number"?0:t;function pq(t){const e=v2(t);return _2(t)(e.map(fq))}const Qi={test:uq,parse:v2,createTransformer:_2,getAnimatableNone:pq},mq=new Set(["brightness","contrast","saturate","opacity"]);function gq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kw)||[];if(!r)return t;const i=n.replace(r,"");let s=mq.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const yq=/\b([a-z-]*)\(.*?\)/gu,vv={...Qi,getAnimatableNone:t=>{const e=t.match(yq);return e?e.map(gq).join(" "):t}},vq={...Ew,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:vv,WebkitFilter:vv},w2=t=>vq[t];function E2(t,e){let n=w2(t);return n!==vv&&(n=Qi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _q=new Set(["auto","none","0"]);function wq(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!_q.has(s)&&sc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=E2(n,i)}const As=t=>t*180/Math.PI,_v=t=>{const e=As(Math.atan2(t[1],t[0]));return wv(e)},Eq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:_v,rotateZ:_v,skewX:t=>As(Math.atan(t[1])),skewY:t=>As(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wv=t=>(t=t%360,t<0&&(t+=360),t),Zx=_v,eS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eS,scaleY:tS,scale:t=>(eS(t)+tS(t))/2,rotateX:t=>wv(As(Math.atan2(t[6],t[5]))),rotateY:t=>wv(As(Math.atan2(-t[2],t[0]))),rotateZ:Zx,rotate:Zx,skewX:t=>As(Math.atan(t[4])),skewY:t=>As(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nS(t){return t.includes("scale")?1:0}function Ev(t,e){if(!t||t==="none")return nS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Tq,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Eq,i=a}if(!i)return nS(e);const s=r[e],o=i[1].split(",").map(xq);return typeof s=="function"?s(o):o[s]}const Iq=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ev(n,e)};function xq(t){return parseFloat(t.trim())}const rS=t=>t===Za||t===ee,Sq=new Set(["x","y","z"]),bq=Ja.filter(t=>!Sq.has(t));function Aq(t){const e=[];return bq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ja={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ev(e,"x"),y:(t,{transform:e})=>Ev(e,"y")};ja.translateX=ja.x;ja.translateY=ja.y;const Ls=new Set;let Tv=!1,Iv=!1;function T2(){if(Iv){const t=Array.from(Ls).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Aq(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iv=!1,Tv=!1,Ls.forEach(t=>t.complete()),Ls.clear()}function I2(){Ls.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Iv=!0)})}function Pq(){I2(),T2()}class Dw{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ls.add(this),Tv||(Tv=!0,xe.read(I2),xe.resolveKeyframes(T2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ls.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ls.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Rq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cq(t){const e=Rq.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function S2(t,e,n=1){const[r,i]=Cq(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return x2(o)?parseFloat(o):o}return ww(i)?S2(i,e,n+1):i}const b2=t=>e=>e.test(t),kq={test:t=>t==="auto",parse:t=>t},A2=[Za,ee,mr,ui,PK,AK,kq],iS=t=>A2.find(b2(t));class P2 extends Dw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),ww(u))){const h=S2(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!i2.has(r)||e.length!==2)return;const[i,s]=e,o=iS(i),a=iS(s);if(o!==a)if(rS(o)&&rS(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)rq(e[i])&&r.push(i);r.length&&wq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ja[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ja[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const sS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qi.test(t)||t==="0")&&!t.startsWith("url("));function Nq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Dq(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=sS(i,e),a=sS(s,e);return!o||!a?!1:Nq(t)||(n==="spring"||dw(n))&&r}const Oq=t=>t!==null;function bp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Oq),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Vq=40;class R2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Vq?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Pq(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=pr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Dq(e,r,i,s))if(o)this.options.duration=0;else{l&&l(bp(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const je=(t,e,n)=>t+(e-t)*n;function Xm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Mq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Xm(l,a,t+1/3),s=Xm(l,a,t),o=Xm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function mf(t,e){return n=>n>0?e:t}const Jm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Lq=[yv,bs,Qo],Fq=t=>Lq.find(e=>e.test(t));function oS(t){const e=Fq(t);if(!e)return!1;let n=e.parse(t);return e===Qo&&(n=Mq(n)),n}const aS=(t,e)=>{const n=oS(t),r=oS(e);if(!n||!r)return mf(t,e);const i={...n};return s=>(i.red=Jm(n.red,r.red,s),i.green=Jm(n.green,r.green,s),i.blue=Jm(n.blue,r.blue,s),i.alpha=je(n.alpha,r.alpha,s),bs.transform(i))},jq=(t,e)=>n=>e(t(n)),Oc=(...t)=>t.reduce(jq),xv=new Set(["none","hidden"]);function Uq(t,e){return xv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Bq(t,e){return n=>je(t,e,n)}function Ow(t){return typeof t=="number"?Bq:typeof t=="string"?ww(t)?mf:Pt.test(t)?aS:Kq:Array.isArray(t)?C2:typeof t=="object"?Pt.test(t)?aS:zq:mf}function C2(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Ow(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function zq(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ow(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function $q(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Kq=(t,e)=>{const n=Qi.createTransformer(e),r=sc(t),i=sc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?xv.has(t)&&!i.values.length||xv.has(e)&&!r.values.length?Uq(t,e):Oc(C2($q(r,i),i.values),n):mf(t,e)};function k2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):Ow(t)(t,e)}const qq=5;function N2(t,e,n){const r=Math.max(e-qq,0);return ND(n-t(r),e-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zm=.001;function Wq({duration:t=Ge.duration,bounce:e=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let i,s,o=1-e;o=Hr(Ge.minDamping,Ge.maxDamping,o),t=Hr(Ge.minDuration,Ge.maxDuration,Fr(t)),o<1?(i=u=>{const h=u*o,d=h*t,f=h-n,g=Sv(u,o),v=Math.exp(-d);return Zm-f/g*v},s=u=>{const d=u*o*t,f=d*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-d),I=Sv(Math.pow(u,2),o);return(-i(u)+Zm>0?-1:1)*((f-g)*v)/I}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-Zm+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=Hq(i,s,a);if(t=Lr(t),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Gq=12;function Hq(t,e,n){let r=n;for(let i=1;i<Gq;i++)r=r-t(r)/e(r);return r}function Sv(t,e){return t*Math.sqrt(1-e*e)}const Qq=["duration","bounce"],Yq=["stiffness","damping","mass"];function lS(t,e){return e.some(n=>t[n]!==void 0)}function Xq(t){let e={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...t};if(!lS(t,Yq)&&lS(t,Qq))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Hr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ge.mass,stiffness:i,damping:s}}else{const n=Wq(t);e={...e,...n,mass:Ge.mass},e.isResolvedFromDuration=!0}return e}function D2(t=Ge.visualDuration,e=Ge.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:g}=Xq({...n,velocity:-Fr(n.velocity||0)}),v=f||0,I=u/(2*Math.sqrt(l*h)),S=o-s,y=Fr(Math.sqrt(l/h)),_=Math.abs(S)<5;r||(r=_?Ge.restSpeed.granular:Ge.restSpeed.default),i||(i=_?Ge.restDelta.granular:Ge.restDelta.default);let E;if(I<1){const N=Sv(y,I);E=O=>{const T=Math.exp(-I*y*O);return o-T*((v+I*y*S)/N*Math.sin(N*O)+S*Math.cos(N*O))}}else if(I===1)E=N=>o-Math.exp(-y*N)*(S+(v+y*S)*N);else{const N=y*Math.sqrt(I*I-1);E=O=>{const T=Math.exp(-I*y*O),w=Math.min(N*O,300);return o-T*((v+I*y*S)*Math.sinh(w)+N*S*Math.cosh(w))/N}}const C={calculatedDuration:g&&d||null,next:N=>{const O=E(N);if(g)a.done=N>=d;else{let T=0;I<1&&(T=N===0?Lr(v):N2(E,N,O));const w=Math.abs(T)<=r,A=Math.abs(o-O)<=i;a.done=w&&A}return a.value=a.done?o:O,a},toString:()=>{const N=Math.min(DD(C),fv),O=OD(T=>C.next(N*T).value,N,30);return N+"ms "+O}};return C}function uS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},g=w=>a!==void 0&&w<a||l!==void 0&&w>l,v=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let I=n*e;const S=d+I,y=o===void 0?S:o(S);y!==S&&(I=y-d);const _=w=>-I*Math.exp(-w/r),E=w=>y+_(w),C=w=>{const A=_(w),P=E(w);f.done=Math.abs(A)<=u,f.value=f.done?y:P};let N,O;const T=w=>{g(f.value)&&(N=w,O=D2({keyframes:[f.value,v(f.value)],velocity:N2(E,w,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:w=>{let A=!1;return!O&&N===void 0&&(A=!0,C(w),T(w)),N!==void 0&&w>=N?O.next(w-N):(!A&&C(w),f)}}}const Jq=Dc(.42,0,1,1),Zq=Dc(0,0,.58,1),O2=Dc(.42,0,.58,1),eW=t=>Array.isArray(t)&&typeof t[0]!="number",cS={linear:yn,easeIn:Jq,easeInOut:O2,easeOut:Zq,circIn:Cw,circInOut:f2,circOut:d2,backIn:Rw,backInOut:c2,backOut:u2,anticipate:h2},hS=t=>{if(fw(t)){dv(t.length===4);const[e,n,r,i]=t;return Dc(e,n,r,i)}else if(typeof t=="string")return dv(cS[t]!==void 0),cS[t];return t};function tW(t,e,n){const r=[],i=n||k2,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yn:e;a=Oc(l,a)}r.push(a)}return r}function nW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(dv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=tW(e,r,i),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const f=La(t[d],t[d+1],h);return a[d](f)};return n?h=>u(Hr(t[0],t[s-1],h)):u}function rW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=La(0,e,r);t.push(je(n,1,i))}}function iW(t){const e=[0];return rW(e,t.length-1),e}function sW(t,e){return t.map(n=>n*e)}function oW(t,e){return t.map(()=>e||O2).splice(0,t.length-1)}function gf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=eW(r)?r.map(hS):hS(r),s={done:!1,value:e[0]},o=sW(n&&n.length===e.length?n:iW(e),t),a=nW(o,e,{ease:Array.isArray(i)?i:oW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const aW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xe.update(e,!0),stop:()=>Hi(e),now:()=>yt.isProcessing?yt.timestamp:pr.now()}},lW={decay:uS,inertia:uS,tween:gf,keyframes:gf,spring:D2},uW=t=>t/100;class Vw extends R2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Dw,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=dw(n)?n:lW[n]||gf;let l,u;a!==gf&&typeof e[0]!="number"&&(l=Oc(uW,k2(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=DD(h));const{calculatedDuration:d}=h,f=d+i,g=f*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:g,repeatType:v,repeatDelay:I,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),_=this.speed>=0?y<0:y>h;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,C=s;if(g){const w=Math.min(this.currentTime,h)/d;let A=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&A--,A=Math.min(A,g+1),!!(A%2)&&(v==="reverse"?(P=1-P,I&&(P-=I/d)):v==="mirror"&&(C=o)),E=Hr(0,1,P)*d}const N=_?{done:!1,value:l[0]}:C.next(E);a&&(N.value=a(N.value));let{done:O}=N;!_&&u!==null&&(O=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&i!==void 0&&(N.value=bp(l,this.options,i)),S&&S(N.value),T&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Fr(e.calculatedDuration):0}get time(){return Fr(this.currentTime)}set time(e){e=Lr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=aW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const cW=new Set(["opacity","clipPath","filter","transform"]);function hW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=MD(a,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const dW=uw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yf=10,fW=2e4;function pW(t){return dw(t.type)||t.type==="spring"||!VD(t.ease)}function mW(t,e){const n=new Vw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<fW;)r=n.sample(s),i.push(r.value),s+=yf;return{times:void 0,keyframes:i,duration:s-yf,ease:"linear"}}const V2={anticipate:h2,backInOut:c2,circInOut:f2};function gW(t){return t in V2}class dS extends R2{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new P2(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&ff()&&gW(s)&&(s=V2[s]),pW(this.options)){const{onComplete:d,onUpdate:f,motionValue:g,element:v,...I}=this.options,S=mW(e,I);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,i=S.times,s=S.ease,o="keyframes"}const h=hW(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Fx(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;a.set(bp(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Fr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Fr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Lr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return yn;const{animation:r}=n;Fx(r,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...g}=this.options,v=new Vw({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),I=Lr(this.time);u.setWithVelocity(v.sample(I-yf).value,v.sample(I).value,yf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return dW()&&r&&cW.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const yW={type:"spring",stiffness:500,damping:25,restSpeed:10},vW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_W={type:"keyframes",duration:.8},wW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EW=(t,{keyframes:e})=>e.length>2?_W:co.has(t)?t.startsWith("scale")?vW(e[1]):yW:wW;function TW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const Mw=(t,e,n,r={},i,s)=>o=>{const a=hw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Lr(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};TW(a)||(h={...h,...EW(t,h)}),h.duration&&(h.duration=Lr(h.duration)),h.repeatDelay&&(h.repeatDelay=Lr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=bp(h.keyframes,a);if(f!==void 0)return xe.update(()=>{h.onUpdate(f),h.onComplete()}),new W7([])}return!s&&dS.supports(h)?new dS(h):new Vw(h)};function IW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function M2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),g=l[d];if(g===void 0||h&&IW(h,d))continue;const v={delay:n,...hw(o||{},d)};let I=!1;if(window.MotionHandoffAnimation){const y=s2(t);if(y){const _=window.MotionHandoffAnimation(y,d,xe);_!==null&&(v.startTime=_,I=!0)}}gv(t,d),f.start(Mw(d,f,g,t.shouldReduceMotion&&i2.has(d)?{type:!1}:v,t,I));const S=f.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{xe.update(()=>{a&&JK(t,a)})}),u}function bv(t,e,n={}){var r;const i=ic(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(M2(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return xW(t,e,h+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function xW(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(SW).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(bv(u,e,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function SW(t,e){return t.sortNodePosition(e)}function bW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=bv(t,e,n);else{const i=typeof e=="function"?ic(t,e,n.custom):e;r=Promise.all(M2(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function L2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const AW=yw.length;function F2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?F2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AW;n++){const r=yw[n],i=t.props[r];(tc(i)||i===!1)&&(e[r]=i)}return e}const PW=[...gw].reverse(),RW=gw.length;function CW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>bW(t,n,r)))}function kW(t){let e=CW(t),n=fS(),r=!0;const i=l=>(u,h)=>{var d;const f=ic(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:g,transitionEnd:v,...I}=f;u={...u,...I,...v}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,h=F2(t.parent)||{},d=[],f=new Set;let g={},v=1/0;for(let S=0;S<RW;S++){const y=PW[S],_=n[y],E=u[y]!==void 0?u[y]:h[y],C=tc(E),N=y===l?_.isActive:null;N===!1&&(v=S);let O=E===h[y]&&E!==u[y]&&C;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),_.protectedKeys={...g},!_.isActive&&N===null||!E&&!_.prevProp||xp(E)||typeof E=="boolean")continue;const T=NW(_.prevProp,E);let w=T||y===l&&_.isActive&&!O&&C||S>v&&C,A=!1;const P=Array.isArray(E)?E:[E];let D=P.reduce(i(y),{});N===!1&&(D={});const{prevResolvedValues:V={}}=_,R={...V,...D},qe=ae=>{w=!0,f.has(ae)&&(A=!0,f.delete(ae)),_.needsAnimating[ae]=!0;const U=t.getValue(ae);U&&(U.liveStyle=!1)};for(const ae in R){const U=D[ae],G=V[ae];if(g.hasOwnProperty(ae))continue;let X=!1;mv(U)&&mv(G)?X=!L2(U,G):X=U!==G,X?U!=null?qe(ae):f.add(ae):U!==void 0&&f.has(ae)?qe(ae):_.protectedKeys[ae]=!0}_.prevProp=E,_.prevResolvedValues=D,_.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(O&&T)||A)&&d.push(...P.map(ae=>({animation:ae,options:{type:y}})))}if(f.size){const S={};if(typeof u.initial!="boolean"){const y=ic(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(S.transition=y.transition)}f.forEach(y=>{const _=t.getBaseTarget(y),E=t.getValue(y);E&&(E.liveStyle=!0),S[y]=_??null}),d.push({animation:S})}let I=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(d):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=fS(),r=!0}}}function NW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!L2(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fS(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DW extends rs{constructor(e){super(e),e.animationState||(e.animationState=kW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let OW=0;class VW extends rs{constructor(){super(...arguments),this.id=OW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MW={animation:{Feature:DW},exit:{Feature:VW}};function oc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vc(t){return{point:{x:t.pageX,y:t.pageY}}}const LW=t=>e=>mw(e)&&t(e,Vc(e));function gu(t,e,n,r){return oc(t,e,LW(n),r)}function j2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function FW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const U2=1e-4,UW=1-U2,BW=1+U2,B2=.01,zW=0-B2,$W=0+B2;function Kt(t){return t.max-t.min}function KW(t,e,n){return Math.abs(t-e)<=n}function pS(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=Kt(n)/Kt(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UW&&t.scale<=BW||isNaN(t.scale))&&(t.scale=1),(t.translate>=zW&&t.translate<=$W||isNaN(t.translate))&&(t.translate=0)}function yu(t,e,n,r){pS(t.x,e.x,n.x,r?r.originX:void 0),pS(t.y,e.y,n.y,r?r.originY:void 0)}function mS(t,e,n){t.min=n.min+e.min,t.max=t.min+Kt(e)}function qW(t,e,n){mS(t.x,e.x,n.x),mS(t.y,e.y,n.y)}function gS(t,e,n){t.min=e.min-n.min,t.max=t.min+Kt(e)}function vu(t,e,n){gS(t.x,e.x,n.x),gS(t.y,e.y,n.y)}const yS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:yS(),y:yS()}),vS=()=>({min:0,max:0}),Xe=()=>({x:vS(),y:vS()});function Sn(t){return[t("x"),t("y")]}function eg(t){return t===void 0||t===1}function Av({scale:t,scaleX:e,scaleY:n}){return!eg(t)||!eg(e)||!eg(n)}function gs(t){return Av(t)||z2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function z2(t){return _S(t.x)||_S(t.y)}function _S(t){return t&&t!=="0%"}function vf(t,e,n){const r=t-n,i=e*r;return n+i}function wS(t,e,n,r,i){return i!==void 0&&(t=vf(t,i,r)),vf(t,n,r)+e}function Pv(t,e=0,n=1,r,i){t.min=wS(t.min,e,n,r,i),t.max=wS(t.max,e,n,r,i)}function $2(t,{x:e,y:n}){Pv(t.x,e.translate,e.scale,e.originPoint),Pv(t.y,n.translate,n.scale,n.originPoint)}const ES=.999999999999,TS=1.0000000000001;function WW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$2(t,o)),r&&gs(s.latestValues)&&Jo(t,s.latestValues))}e.x<TS&&e.x>ES&&(e.x=1),e.y<TS&&e.y>ES&&(e.y=1)}function Xo(t,e){t.min=t.min+e,t.max=t.max+e}function IS(t,e,n,r,i=.5){const s=je(t.min,t.max,i);Pv(t,e,n,s,r)}function Jo(t,e){IS(t.x,e.x,e.scaleX,e.scale,e.originX),IS(t.y,e.y,e.scaleY,e.scale,e.originY)}function K2(t,e){return j2(jW(t.getBoundingClientRect(),e))}function GW(t,e,n){const r=K2(t,n),{scroll:i}=e;return i&&(Xo(r.x,i.offset.x),Xo(r.y,i.offset.y)),r}const q2=({current:t})=>t?t.ownerDocument.defaultView:null,xS=(t,e)=>Math.abs(t-e);function HW(t,e){const n=xS(t.x,e.x),r=xS(t.y,e.y);return Math.sqrt(n**2+r**2)}class W2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ng(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=HW(d.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:v}=d,{timestamp:I}=yt;this.history.push({...v,timestamp:I});const{onStart:S,onMove:y}=this.handlers;f||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=tg(f,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ng(d.type==="pointercancel"?this.lastMoveEventInfo:tg(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,S),v&&v(d,S)},!mw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Vc(e),a=tg(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=yt;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,ng(a,this.history)),this.removeListeners=Oc(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hi(this.updatePoint)}}function tg(t,e){return e?{point:e(t.point)}:t}function SS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ng({point:t},e){return{point:t,delta:SS(t,G2(e)),offset:SS(t,QW(e)),velocity:YW(e,.1)}}function QW(t){return t[0]}function G2(t){return t[t.length-1]}function YW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=G2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Lr(e)));)n--;if(!r)return{x:0,y:0};const s=Fr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function XW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function bS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JW(t,{top:e,left:n,bottom:r,right:i}){return{x:bS(t.x,n,i),y:bS(t.y,e,r)}}function AS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZW(t,e){return{x:AS(t.x,e.x),y:AS(t.y,e.y)}}function eG(t,e){let n=.5;const r=Kt(t),i=Kt(e);return i>r?n=La(e.min,e.max-r,t.min):r>i&&(n=La(t.min,t.max-i,e.min)),Hr(0,1,n)}function tG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rv=.35;function nG(t=Rv){return t===!1?t=0:t===!0&&(t=Rv),{x:PS(t,"left","right"),y:PS(t,"top","bottom")}}function PS(t,e,n){return{min:RS(t,e),max:RS(t,n)}}function RS(t,e){return typeof t=="number"?t:t[e]||0}const rG=new WeakMap;class iG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vc(h).point)},s=(h,d)=>{const{drag:f,dragPropagation:g,onDragStart:v}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J7(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sn(S=>{let y=this.getAxisMotionValue(S).get()||0;if(mr.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[S];E&&(y=Kt(E)*(parseFloat(y)/100))}}this.originPoint[S]=y}),v&&xe.postRender(()=>v(h,d)),gv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:v,onDrag:I}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:S}=d;if(g&&this.currentDirection===null){this.currentDirection=sG(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),I&&I(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Sn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new W2(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:q2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&xe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!kh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=XW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ho(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=JW(i.layoutBox,n):this.constraints=!1,this.elastic=nG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Sn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ho(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=GW(r,i.root,this.visualElement.getTransformPagePoint());let o=ZW(i.layout.layoutBox,s);if(n){const a=n(FW(o));this.hasMutatedConstraints=!!a,a&&(o=j2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Sn(h=>{if(!kh(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gv(this.visualElement,e),r.start(Mw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Sn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Sn(n=>{const{drag:r}=this.getProps();if(!kh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ho(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Sn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=eG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sn(o=>{if(!kh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(je(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;rG.set(this.visualElement,this);const e=this.visualElement.current,n=gu(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ho(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xe.read(r);const o=oc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Sn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Rv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function kh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oG extends rs{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new iG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const CS=t=>(e,n)=>{t&&xe.postRender(()=>t(e,n))};class aG extends rs{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new W2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CS(e),onStart:CS(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&xe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=kS(t,e.target.x),r=kS(t,e.target.y);return`${n}% ${r}%`}},lG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Qi.parse(t);if(i.length>5)return r;const s=Qi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=je(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class uG extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;bK(cG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function H2(t){const[e,n]=z7(),r=k.useContext(CD);return b.jsx(uG,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(qD),isPresent:e,safeToRemove:n})}const cG={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:lG};function hG(t,e,n){const r=Nt(t)?t:ec(t);return r.start(Mw("",r,e,n)),r.animation}function dG(t){return t instanceof SVGElement&&t.tagName!=="svg"}const fG=(t,e)=>t.depth-e.depth;class pG{constructor(){this.children=[],this.isDirty=!1}add(e){aw(this.children,e),this.isDirty=!0}remove(e){lw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fG),this.isDirty=!1,this.children.forEach(e)}}function mG(t,e){const n=pr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Hi(r),t(s-e))};return xe.read(r,!0),()=>Hi(r)}const Q2=["TopLeft","TopRight","BottomLeft","BottomRight"],gG=Q2.length,NS=t=>typeof t=="string"?parseFloat(t):t,DS=t=>typeof t=="number"||ee.test(t);function yG(t,e,n,r,i,s){i?(t.opacity=je(0,n.opacity!==void 0?n.opacity:1,vG(r)),t.opacityExit=je(e.opacity!==void 0?e.opacity:1,0,_G(r))):s&&(t.opacity=je(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<gG;o++){const a=`border${Q2[o]}Radius`;let l=OS(e,a),u=OS(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||DS(l)===DS(u)?(t[a]=Math.max(je(NS(l),NS(u),r),0),(mr.test(u)||mr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function OS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vG=Y2(0,.5,d2),_G=Y2(.5,.95,yn);function Y2(t,e,n){return r=>r<t?0:r>e?1:n(La(t,e,r))}function VS(t,e){t.min=e.min,t.max=e.max}function xn(t,e){VS(t.x,e.x),VS(t.y,e.y)}function MS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LS(t,e,n,r,i){return t-=e,t=vf(t,1/n,r),i!==void 0&&(t=vf(t,1/i,r)),t}function wG(t,e=0,n=1,r=.5,i,s=t,o=t){if(mr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(s.min,s.max,r);t===s&&(a-=e),t.min=LS(t.min,e,n,a,i),t.max=LS(t.max,e,n,a,i)}function FS(t,e,[n,r,i],s,o){wG(t,e[n],e[r],e[i],e.scale,s,o)}const EG=["x","scaleX","originX"],TG=["y","scaleY","originY"];function jS(t,e,n,r){FS(t.x,e,EG,n?n.x:void 0,r?r.x:void 0),FS(t.y,e,TG,n?n.y:void 0,r?r.y:void 0)}function US(t){return t.translate===0&&t.scale===1}function X2(t){return US(t.x)&&US(t.y)}function BS(t,e){return t.min===e.min&&t.max===e.max}function IG(t,e){return BS(t.x,e.x)&&BS(t.y,e.y)}function zS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function J2(t,e){return zS(t.x,e.x)&&zS(t.y,e.y)}function $S(t){return Kt(t.x)/Kt(t.y)}function KS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xG{constructor(){this.members=[]}add(e){aw(this.members,e),e.scheduleRender()}remove(e){if(lw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SG(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const rg=["","X","Y","Z"],bG={visibility:"hidden"},qS=1e3;let AG=0;function ig(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Z2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=s2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Z2(r)}function eO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=AG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CG),this.nodes.forEach(VG),this.nodes.forEach(MG),this.nodes.forEach(kG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=mG(f,250),dd.hasAnimatedSinceResize&&(dd.hasAnimatedSinceResize=!1,this.nodes.forEach(GS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||h.getDefaultTransition()||BG,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=h.getProps(),_=!this.targetLayout||!J2(this.targetLayout,v),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const C={...hw(I,"layout"),onPlay:S,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||GS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Z2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WS);return}this.isUpdating||this.nodes.forEach(DG),this.isUpdating=!1,this.nodes.forEach(OG),this.nodes.forEach(PG),this.nodes.forEach(RG),this.clearAllSnapshots();const a=pr.now();yt.delta=Hr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,Hm.update.process(yt),Hm.preRender.process(yt),Hm.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NG),this.sharedNodes.forEach(FG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!X2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||gs(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),zG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Xe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some($G))){const{scroll:h}=this.root;h&&(Xo(l.x,h.offset.x),Xo(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Xe();if(xn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&xn(l,o),Xo(l.x,d.offset.x),Xo(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Xe();xn(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Jo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),gs(h.latestValues)&&Jo(l,h.latestValues)}return gs(this.latestValues)&&Jo(l,this.latestValues),l}removeTransform(o){const a=Xe();xn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!gs(u.latestValues))continue;Av(u.latestValues)&&u.updateSnapshot();const h=Xe(),d=u.measurePageBox();xn(h,d),jS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return gs(this.latestValues)&&jS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),vu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),$2(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),vu(this.relativeTargetOrigin,this.target,g.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Av(this.parent.latestValues)||z2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;xn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;WW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xe());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MS(this.prevProjectionDelta.x,this.projectionDelta.x),MS(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!KS(this.projectionDelta.x,this.prevProjectionDelta.x)||!KS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Xe(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,I=g!==v,S=this.getStack(),y=!S||S.members.length<=1,_=!!(I&&!y&&this.options.crossfade===!0&&!this.path.some(UG));this.animationProgress=0;let E;this.mixTargetDelta=C=>{const N=C/1e3;HS(d.x,o.x,N),HS(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jG(this.relativeTarget,this.relativeTargetOrigin,f,N),E&&IG(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Xe()),xn(E,this.relativeTarget)),I&&(this.animationValues=h,yG(h,u,this.latestValues,N,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{dd.hasAnimatedSinceResize=!0,this.currentAnimation=hG(0,qS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&tO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Xe();const d=Kt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Kt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}xn(a,l),Jo(a,h),yu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&ig("z",o,u,this.animationValues);for(let h=0;h<rg.length;h++)ig(`rotate${rg[h]}`,o,u,this.animationValues),ig(`skew${rg[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bG;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=hd(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=hd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(I.transform=h?h({},""):"none",this.hasProjected=!1),I}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=SG(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const I in nc){if(f[I]===void 0)continue;const{correct:S,applyTo:y,isCSSVariable:_}=nc[I],E=u.transform==="none"?f[I]:S(f[I],d);if(y){const C=y.length;for(let N=0;N<C;N++)u[y[N]]=E}else _?this.options.visualElement.renderState.vars[I]=E:u[I]=E}return this.options.layoutId&&(u.pointerEvents=d===this?hd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(WS),this.root.sharedNodes.clear()}}}function PG(t){t.updateLayout()}function RG(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Sn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Kt(f);f.min=r[d].min,f.max=f.min+g}):tO(s,n.layoutBox,r)&&Sn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],g=Kt(r[d]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Yo();yu(a,r,n.layoutBox);const l=Yo();o?yu(l,t.applyTransform(i,!0),n.measuredBox):yu(l,r,n.layoutBox);const u=!X2(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const v=Xe();vu(v,n.layoutBox,f.layoutBox);const I=Xe();vu(I,r,g.layoutBox),J2(v,I)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function CG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NG(t){t.clearSnapshot()}function WS(t){t.clearMeasurements()}function DG(t){t.isLayoutDirty=!1}function OG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VG(t){t.resolveTargetDelta()}function MG(t){t.calcProjection()}function LG(t){t.resetSkewAndRotation()}function FG(t){t.removeLeadSnapshot()}function HS(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function QS(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function jG(t,e,n,r){QS(t.x,e.x,n.x,r),QS(t.y,e.y,n.y,r)}function UG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BG={duration:.45,ease:[.4,0,.1,1]},YS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),XS=YS("applewebkit/")&&!YS("chrome/")?Math.round:yn;function JS(t){t.min=XS(t.min),t.max=XS(t.max)}function zG(t){JS(t.x),JS(t.y)}function tO(t,e,n){return t==="position"||t==="preserve-aspect"&&!KW($S(e),$S(n),.2)}function $G(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const KG=eO({attachResizeListener:(t,e)=>oc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sg={current:void 0},nO=eO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sg.current){const t=new KG({});t.mount(window),t.setOptions({layoutScroll:!0}),sg.current=t}return sg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qG={pan:{Feature:aG},drag:{Feature:oG,ProjectionNode:nO,MeasureLayout:H2}};function ZS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&xe.postRender(()=>s(e,Vc(e)))}class WG extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=eK(e,(n,r)=>(ZS(this.node,r,"Start"),i=>ZS(this.node,i,"End"))))}unmount(){}}class GG extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oc(oc(this.node.current,"focus",()=>this.onFocus()),oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&xe.postRender(()=>s(e,Vc(e)))}class HG extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=iK(e,(n,r)=>(eb(this.node,r,"Start"),(i,{success:s})=>eb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cv=new WeakMap,og=new WeakMap,QG=t=>{const e=Cv.get(t.target);e&&e(t)},YG=t=>{t.forEach(QG)};function XG({root:t,...e}){const n=t||document;og.has(n)||og.set(n,{});const r=og.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YG,{root:t,...e})),r[i]}function JG(t,e,n){const r=XG(e);return Cv.set(t,n),r.observe(t),()=>{Cv.delete(t),r.unobserve(t)}}const ZG={some:0,all:1};class eH extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ZG[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return JG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tH(e,n))&&this.startObserver()}unmount(){}}function tH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nH={inView:{Feature:eH},tap:{Feature:HG},focus:{Feature:GG},hover:{Feature:WG}},rH={layout:{ProjectionNode:nO,MeasureLayout:H2}},kv={current:null},rO={current:!1};function iH(){if(rO.current=!0,!!sw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kv.current=t.matches;t.addListener(e),e()}else kv.current=!1}const sH=[...A2,Pt,Qi],oH=t=>sH.find(b2(t)),aH=new WeakMap;function lH(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Nt(i))t.addValue(r,i);else if(Nt(s))t.addValue(r,ec(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ec(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const tb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=pr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Sp(n),this.isVariantNode=$D(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const v=f[g];l[g]!==void 0&&Nt(v)&&v.set(l[g],!1)}}mount(e){this.current=e,aH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rO.current||iH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hi(this.notifyUpdate),Hi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=co.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fa){const n=Fa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tb.length;r++){const i=tb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=lH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ec(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(x2(i)||p2(i))?i=parseFloat(i):!oH(i)&&Qi.test(n)&&(i=E2(e,n)),this.setBaseTarget(e,Nt(i)?i.get():i)),Nt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Aw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Nt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class iO extends uH{constructor(){super(...arguments),this.KeyframeResolver=P2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cH(t){return window.getComputedStyle(t)}class hH extends iO{constructor(){super(...arguments),this.type="html",this.renderInstance=e2}readValueFromInstance(e,n){if(co.has(n))return Iq(e,n);{const r=cH(e),i=(_w(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return K2(e,n)}build(e,n,r){Tw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Pw(e,n,r)}}class dH extends iO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&ZD(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const r=w2(n);return r&&r.default||0}return n=t2.has(n)?n:vw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return r2(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&xe.postRender(this.updateDimensions)}build(e,n,r){Sw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){n2(e,n,r,i)}mount(e){this.isSVGTag=bw(e.tagName),super.mount(e)}}const fH=(t,e)=>xw(t)?new dH(e):new hH(e,{allowProjection:t!==k.Fragment}),pH=YK({...MW,...nH,...qG,...rH},fH),mH=dK(pH);function gH(){const[t,e]=k.useState([]),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const v=(await Nm(ir(kt,"posts"))).docs.map(I=>({id:I.id,...I.data()}));e(v)}catch(g){console.error("Błąd podczas pobierania danych:",g)}})()},[]);const l=f=>{var g;try{if(f.includes("youtu.be"))return`https://img.youtube.com/vi/${(g=f.split("youtu.be/")[1])==null?void 0:g.split("?")[0]}/hqdefault.jpg`;if(f.includes("youtube.com")){const I=new URL(f).searchParams.get("v");if(I)return`https://img.youtube.com/vi/${I}/hqdefault.jpg`}return null}catch(v){return console.error("Błąd podczas generowania miniaturki YouTube:",v),null}},u=async f=>{if(f.includes("youtube.com")||f.includes("youtu.be"))return l(f);try{const v=await(await fetch(`https://opengraph.io/api/1.1/site/${encodeURIComponent(f)}?app_id=74430628-2023-4e90-9d59-a4ff6779d48e`)).json();return console.log("OpenGraph response:",v),v.hybridGraph.image||null}catch(g){return console.error("Błąd podczas pobierania miniaturki:",g),null}},h=async f=>{if(f.preventDefault(),!n||!i){alert("Proszę wypełnić oba pola!");return}a(!0);try{const g=await u(i);await sp(ir(kt,"posts"),{title:n,link:i,thumbnail:g,createdAt:$5(),likes:0});const I=(await Nm(ir(kt,"posts"))).docs.map(S=>({id:S.id,...S.data()}));e(I),r(""),s(""),alert("Post został dodany!")}catch(g){console.error("Błąd podczas dodawania posta:",g)}finally{a(!1)}},d=async f=>{try{const g=uu(kt,"posts",f);await My(g,{likes:K5(1)});const I=(await Nm(ir(kt,"posts"))).docs.map(S=>({id:S.id,...S.data()}));e(I)}catch(g){console.error("Błąd podczas aktualizacji liczby polubień:",g)}};return b.jsxs("div",{className:"recent-posts max-w-3xl mx-auto px-4 sm:px-6 py-6",children:[b.jsx("h3",{children:"Dodaj nowy post"}),b.jsxs("form",{onSubmit:h,className:"flex flex-col sm:flex-row gap-2 my-4",children:[b.jsx("input",{className:"border rounded px-2 py-2 w-full sm:w-1/3",type:"text",placeholder:"Tytuł posta",value:n,onChange:f=>r(f.target.value),required:!0}),b.jsx("input",{className:"border rounded px-3 py-2 w-full sm:w-1/3",type:"url",placeholder:"Link do posta",value:i,onChange:f=>s(f.target.value),required:!0}),b.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:o?"Dodawanie...":"Dodaj post"})]}),b.jsx("h3",{children:"Ostatnie posty"}),b.jsx("ul",{className:"space-y-4 mt-6",children:t.map((f,g)=>(console.log("POST:",f),b.jsxs(mH.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:g*.1},className:"w-full flex items-center bg-white p-4 rounded-lg shadow hover:shadow-lg transition-all duration-300 ease-in-out",children:[f.thumbnail&&b.jsx("img",{src:f.thumbnail,alt:f.title,className:"w-[100px] h-[100px] object-cover rounded mr-4"}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("p",{className:"text-left text-sm text-black leading-snug",children:f.title}),f.createdAt&&b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Dodano: ",new Date(f.createdAt.seconds*1e3).toLocaleString()]}),b.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[b.jsx("button",{onClick:()=>d(f.id),className:"text-red-500 text-xl hover:scale-110 transition",children:"❤️"}),b.jsx("span",{className:"text-sm text-gray-600",children:f.likes||0})]})]})]},f.id)))})]})}const mt=[];for(let t=0;t<256;++t)mt.push((t+256).toString(16).slice(1));function yH(t,e=0){return(mt[t[e+0]]+mt[t[e+1]]+mt[t[e+2]]+mt[t[e+3]]+"-"+mt[t[e+4]]+mt[t[e+5]]+"-"+mt[t[e+6]]+mt[t[e+7]]+"-"+mt[t[e+8]]+mt[t[e+9]]+"-"+mt[t[e+10]]+mt[t[e+11]]+mt[t[e+12]]+mt[t[e+13]]+mt[t[e+14]]+mt[t[e+15]]).toLowerCase()}let ag;const vH=new Uint8Array(16);function _H(){if(!ag){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ag=crypto.getRandomValues.bind(crypto)}return ag(vH)}const wH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nb={randomUUID:wH};function EH(t,e,n){var i;if(nb.randomUUID&&!e&&!t)return nb.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??_H();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,yH(r)}const sO=t=>{const n=bc().currentUser;n||console.warn("⚠ Użytkownik nie jest zalogowany, pobieram wszystkie zdjęcia.");const r=ir(kt,"images"),i=n?Vy(r,M5("userId","==",n.uid)):Vy(r);return gk(i,o=>{const a=o.docs.map(l=>({id:l.id,...l.data()}));t(a)})};async function oO(t){if(!t)throw new Error("❌ Brak pliku!");const n=bc().currentUser;if(!n)throw new Error("❌ Użytkownik niezalogowany!");const r=gN(),i=`${n.uid}-${EH()}-${t.name}`,s=dz(r,`images/${n.uid}/${i}`),o=cz(s,t);return new Promise((a,l)=>{o.on("state_changed",u=>{const h=u.bytesTransferred/u.totalBytes*100;console.log(`🚀 Upload ${h.toFixed(2)}% done`)},u=>{console.error("❌ Błąd przesyłania obrazu:",u),l(u)},async()=>{try{const u=await hz(o.snapshot.ref);console.log("✅ URL obrazu:",u),await sp(ir(kt,"images"),{userId:n.uid,imageUrl:u,createdAt:new Date}),a(u)}catch(u){console.error("❌ Błąd zapisu do Firestore:",u),l(u)}})})}const aO=k.createContext(null);function Lw(){const t=k.useContext(aO);return console.log("useAuth() zwróciło:",t),t}const TH=()=>{const{user:t}=Lw(),[e,n]=k.useState(null),[r,i]=k.useState([]),[s,o]=k.useState(!1),[a,l]=k.useState(null);k.useEffect(()=>{const d=sO(f=>{i(f)});return()=>{typeof d=="function"&&d()}},[]);const u=d=>{d.target.files[0]&&n(d.target.files[0])},h=async()=>{if(!t){alert("Musisz być zalogowany, aby przesłać obraz!");return}if(!e){alert("Wybierz plik do przesłania!");return}o(!0);try{const d=await oO(e),f={id:Date.now().toString(),imageUrl:d};i(g=>[...g,f]),n(null),alert("🎉 Obraz przesłany!")}catch(d){console.error("❌ Błąd przesyłania obrazu:",d)}finally{o(!1)}};return b.jsxs("div",{className:"text-center",children:[t&&b.jsxs("div",{className:"bg-black/60 p-4 rounded-lg",children:[b.jsx("h1",{className:"text-l font-bold text-white mb-2",children:"📸 Prześlij zdjęcie"}),b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("input",{type:"file",onChange:u,className:"mb-1 border-1 border-white p-1 rounded text-white bg-black w-full max-w-xs"}),b.jsx("button",{onClick:h,className:"bg-blue-500 text-white px-2 py-1 rounded-lg hover:bg-blue-700 transition w-full max-w-xs",disabled:s,children:s?"⏳ Przesyłanie...":"🚀 Prześlij"})]})]}),b.jsx("h2",{className:"text-l font-bold text-white mt-4",children:"🖼 Zapisane obrazy:"}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-4 justify-center",children:r.length>0?r.map(d=>b.jsx("img",{src:d.imageUrl,alt:"Zapisany obraz",className:"w-24 h-26 object-cover rounded-md border-white shadow-lg cursor-pointer transition-transform hover:scale-105",onClick:()=>l(d.imageUrl)},d.id)):b.jsx("p",{className:"text-white-300 text-1xl",children:"Brak zapisanych obrazów..."})}),a&&b.jsxs("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:()=>l(null),children:[b.jsx("img",{src:a,alt:"Powiększony obraz",className:"max-w-[90%] max-h-[90%] rounded-lg shadow-lg"}),b.jsx("button",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-full",onClick:()=>l(null),children:"❌ Zamknij"})]})]})};function lO({onClose:t}){const{user:e,signIn:n,signOut:r}=Lw()||{},[i,s]=k.useState(""),[o,a]=k.useState("");console.log("Czy onClose działa?",t),k.useEffect(()=>{e&&console.log("🔄 user został zaktualizowany:",e)},[e]);const l=async h=>{if(h.preventDefault(),!n)return console.error("❌ Błąd: signIn nie istnieje");try{await n(i,o),console.log("✅ Zalogowano pomyślnie!"),t()}catch(d){console.error("❌ Błąd logowania:",d.message)}},u=async()=>{if(!r)return console.error("❌ Błąd: signOut nie istnieje");try{await r(),console.log("✅ Wylogowano pomyślnie!")}catch(h){console.error("❌ Błąd wylogowania:",h.message)}};return b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 bg-red-500",children:b.jsx("div",{className:"bg-red-900 p-6 rounded-lg shadow-lg text-white",children:e?b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsxs("h2",{className:"text-xl mb-4",children:["Witaj, ",e.email,"!"]}),b.jsx("button",{onClick:u,className:"bg-red-500 text-white p-2 rounded mb-2",children:"Wyloguj"}),b.jsx("button",{onClick:t,className:"bg-gray-600 text-white p-2 rounded",children:"Zamknij"})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:t,className:"bg-gray-600 text-white p-2 rounded mb-4",children:"Zamknij"}),b.jsx("h2",{className:"text-xl mb-4",children:"Zaloguj się"}),b.jsxs("form",{onSubmit:l,className:"flex flex-col gap-2",children:[b.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:h=>s(h.target.value),className:"border p-2 rounded text-black"}),b.jsx("input",{type:"password",placeholder:"Hasło",value:o,onChange:h=>a(h.target.value),className:"border p-2 rounded text-black"}),b.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded",children:"Zaloguj"}),b.jsx("button",{onClick:t,className:"bg-gray-600 text-white p-2 rounded mb-4",children:"Zamknij"})]})]})})})}lO.propTypes={onClose:Z.func.isRequired};function uO({children:t}){const[e,n]=k.useState(null),r=bc();k.useEffect(()=>{console.log("✅ AuthProvider zamontowany!");const o=$3(r,a=>{n(a)});return()=>o()},[r]);const i=async(o,a)=>{try{const l=await U3(r,o,a);console.log("✅ Zalogowano:",l.user),n(l.user)}catch(l){console.error("❌ Błąd logowania:",l.message)}},s=async()=>{console.log("🔍 Próba wylogowania...");try{await K3(r),console.log("🚪 Użytkownik powinien być wylogowany!"),n(null)}catch(o){console.error("❌ Błąd wylogowania:",o.message)}};return console.log("✅ Przekazywane wartości w AuthProvider:",{user:e,signIn:i,signOut:s}),console.log("✅ AuthProvider renderuje się! user:",e),console.log("✅ AuthProvider przekazuje: ",{user:e,signIn:i,signOut:s}),b.jsxs(aO.Provider,{value:{user:e,signIn:i,signOut:s},children:[" ",t]})}uO.propTypes={children:Z.node.isRequired};const IH=()=>{const[t,e]=k.useState([]),{user:n}=Lw(),[r,i]=k.useState(null);k.useEffect(()=>{const o=sO(a=>{e(a)});return()=>{typeof o=="function"&&o()}},[]);const s=async o=>{if(!n){alert("Musisz być zalogowany, aby przesłać obraz!");return}const a=o.target.files[0];if(a)try{await oO(a),console.log("✅ Nowy obraz dodany")}catch(l){console.error("❌ Błąd przesyłania pliku:",l)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"border-gray-300 rounded-lg p-6 shadow-md text-center bg-black/60 w-6/7 mx-auto",children:[b.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"📷 Moja Galeria"}),n&&b.jsx("input",{type:"file",onChange:s,accept:"image/*",className:"mb-4 p-2 border border-gray-300 rounded bg-white"}),b.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:t.length>0?t.map(o=>b.jsx("img",{src:o.imageUrl,alt:"Obraz",className:"rounded-md shadow-md border border-gray-200 object-cover w-26 h-28 cursor-pointer transition-transform hover:scale-105",onClick:()=>i(o.imageUrl)},o.id)):b.jsx("p",{className:"text-gray-500",children:"Brak obrazów do wyświetlenia."})})]}),r&&b.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-80 flex items-center justify-center z-50 cursor-pointer",onClick:()=>i(null),children:b.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[b.jsx("img",{src:r,alt:"Powiększony obraz",className:"max-w-[90%] max-h-[90%] rounded-lg shadow-lg",onClick:o=>o.stopPropagation()}),b.jsx("button",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-full",onClick:()=>i(null),children:"❌ Zamknij"})]})})]})},xH={BASE_URL:"/gallery/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyB5QFjl6jvIKBCRn12esrOba58STMP9dM0",VITE_FIREBASE_APP_ID:"1:789024046392:web:26d9e3195917ed28e515cd",VITE_FIREBASE_AUTH_DOMAIN:"galeriazdjec-f4180.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-WX9ZBHXLSD",VITE_FIREBASE_MESSAGING_SENDER_ID:"789024046392",VITE_FIREBASE_PROJECT_ID:"galeriazdjec-f4180",VITE_FIREBASE_STORAGE_BUCKET:"galeriazdjec-f4180.appspot.com"},SH="/gallery/assets/video/api.json";function bH(){var v,I,S;const[t,e]=k.useState([]),[n,r]=k.useState(0),[i,s]=k.useState(!1),o=k.useRef(),[a,l]=k.useState(window.innerWidth<=992),[u,h]=k.useState(!0),[d,f]=k.useState(!1);k.useState(null),bc(),k.useEffect(()=>{console.log("Fetching videos from API..."),fetch(SH).then(y=>y.json()).then(y=>e(y)).catch(y=>console.error("Failed to fetch videos:",y)).finally(()=>h(!1)),console.log("Firebase API Key:","AIzaSyB5QFjl6jvIKBCRn12esrOba58STMP9dM0"),console.log("All env variables:",xH)},[]),k.useEffect(()=>{var y;t.length>0&&o.current&&(o.current.src=(y=t[n])==null?void 0:y.video,o.current.load(),s(!1))},[t,n]),k.useEffect(()=>{const y=()=>{l(window.innerWidth<=992)};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]);const g=()=>{s(y=>!y)};return t.length<1?b.jsx("div",{children:"Loading..."}):u?b.jsx("div",{className:"flex justify-center items-center min-h-screen",style:{backgroundColor:"black",color:"white"},children:b.jsx(D7,{color:"#00BFFF",height:80,width:80})}):(console.log("Firebase API Key:","AIzaSyB5QFjl6jvIKBCRn12esrOba58STMP9dM0"),console.log("Firebase Config:",{apiKey:"AIzaSyB5QFjl6jvIKBCRn12esrOba58STMP9dM0",authDomain:"galeriazdjec-f4180.firebaseapp.com",projectId:"galeriazdjec-f4180"}),b.jsx(uO,{children:b.jsxs("div",{style:{backgroundImage:'url("https://raw.githubusercontent.com/wolczan/gallery/main/public/back.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",backgroundAttachment:"fixed"},children:[b.jsx(gh,{expand:"lg",collapseOnSelect:!0,className:"navbar-custom",style:{height:"40px",backgroundColor:"black",color:"white"},children:b.jsxs(A_,{className:"justify-content-between d-flex custom-margin-top",style:{alignItems:"baseline",backgroundColor:""},children:[b.jsxs(gh.Brand,{href:"#home",style:{fontSize:"17px",color:"white"},children:[b.jsx("img",{src:"https://raw.githubusercontent.com/wolczan/gallery/refs/heads/main/napis.webp",width:"35",height:"50",className:"d-inline-block",alt:""}),"Gallery"]}),b.jsx(R8,{}),b.jsx(gh.Toggle,{"aria-controls":"responsive-navbar-nav",style:{paddingBottom:"0px",alignItems:"center",backgroundColor:"white"}}),b.jsx(gh.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"black",opacity:1,padding:"0px"},children:b.jsxs(Xn,{className:"mx-auto",children:[b.jsx(Xn.Link,{href:"#home",className:"nav-link-custom",children:"Home"}),b.jsx(Xn.Link,{href:"#about",className:"nav-link-custom",children:"About"}),b.jsx(Xn.Link,{href:"#pricing",className:"nav-link-custom",children:"Films"}),b.jsx(Xn.Link,{href:"#features",className:"nav-link-custom",children:"Images"}),b.jsx(Xn.Link,{href:"#pricing",className:"nav-link-custom",children:"My List"}),b.jsx(Xn.Link,{href:"#pricing",className:"nav-link-custom",children:"Latest"}),b.jsx(Xn.Link,{href:"#pricing",className:"nav-link-custom",children:"Contact"}),b.jsx(Xn.Link,{onClick:()=>f(!0),className:"nav-link-custom btn btn-custom",children:"Sign In"}),b.jsx(Xn.Link,{href:"#signup",className:"nav-link-custom btn btn-custom",children:"Sign Up"})]})})]})}),d&&b.jsx(lO,{onClose:()=>f(!1)}),b.jsxs("div",{className:"container fix-a",children:[b.jsx("div",{className:"video-container flex-shrink-0 w-[15%] sm:w-[20%] lg:w-[11%] mx-auto justify-center rounded-lg shadow-2xl shadow-white",children:i&&t.length>0?b.jsx("video",{ref:o,src:(v=t[n])==null?void 0:v.video,className:"object-cover rounded-lg w-full h-full",controls:!0,autoPlay:!0,muted:!0,playsInline:!0,poster:(I=t[n])==null?void 0:I.cover,preload:"metadata",style:{width:"180px",height:"260px"},children:"Twoja przeglądarka nie obsługuje elementu video."}):b.jsx("img",{src:(S=t[n])==null?void 0:S.cover,alt:"Video cover",style:{width:"170px",height:"260px"},className:"hover-enlarge object-cover rounded-lg w-full h-full"})}),b.jsxs("div",{className:"info-container relative z-10 p-2 rounded bg-gray-600 text-white flex flex-col justify-between mb-3",style:{minHeight:"150px",maxHeight:"170px",width:"450px",margin:"auto",boxShadow:"10px 15px 80px -5px rgba(0, 0, 0, 0.7)"},children:[b.jsxs("div",{children:[b.jsx("h2",{style:{fontSize:"1rem",fontWeight:"bold",color:"white"},className:"text-2xl font-bold text-white",children:t[n].title}),b.jsx("p",{className:"text-white",children:t[n].description})]}),b.jsx("div",{className:" mt-auto ",children:b.jsx("button",{onClick:g,className:"relative bg-gradient-to-r from-red-600 via-pink-500 to-red-600 hover:from-red-500 hover:via-orange-400 hover:to-red-500 active:from-red-700 active:via-pink-600 active:to-red-700 text-white py-1 px-4 rounded-full m-2 shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95",style:{border:"2px solid red",boxShadow:"0 0 15px rgba(221, 13, 13, 0.8)",color:"white",margin:"0 auto"},children:i?b.jsx(F7,{}):b.jsx(j7,{})})})]}),b.jsx("div",{className:"gallery-container flex flex-wrap justify-center items-center p-1 max-w-screen-lg mx-auto rounded-lg",children:t.map((y,_)=>b.jsx("div",{onClick:()=>r(_),className:`hover-enlarge border-1 m-2 rounded-lg overflow-hidden cursor-pointer ${n===_?" border-blue-500":""}`,style:{width:"109px",height:"140px",borderRadius:"6px"},children:b.jsx("img",{src:y.cover,className:"object-cover w-full h-full rounded-lg",alt:y.title})},y.id))})]}),b.jsxs("div",{className:"container fix-a",children:[b.jsx("div",{className:"video-container flex-shrink-0 w-[15%] sm:w-[20%] lg:w-[11%] mx-auto justify-center rounded-lg shadow-2xl shadow-white",children:b.jsx(tD,{})}),b.jsx("div",{className:"gallery-container flex flex-wrap justify-center items-center p-1 max-w-screen-lg mx-auto rounded-lg",children:b.jsx(TH,{})})]}),b.jsx(IH,{}),b.jsx(gH,{}),b.jsxs("div",{className:"p-4 max-w-screen-sm mx-auto  sm:space-x-0 sm:space-y-1 custom-container text-white",children:[b.jsxs("div",{className:"w-full mt-4 mx-auto",children:[" ",b.jsx(b8,{})]}),b.jsx("div",{className:"w-full map-container  mx-auto",children:b.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2421.374953124007!2d19.395962676321443!3d51.75924867968213!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x471a3460d27d2c89%3A0x4a2f25c77f622a88!2s%C5%81%C3%B3d%C5%BA%2094-203%2C%20Poland!5e0!3m2!1sen!2sus!4v1698609072847!5m2!1sen!2sus",width:"450",height:"380",style:{border:0},allowFullScreen:"",loading:"lazy",title:"Google Map - Łódź 94-203"})})]}),b.jsx(P8,{})]})}))}console.log("Starting application...");lg.createRoot(document.getElementById("root")).render(b.jsx(Oe.StrictMode,{children:b.jsx(bH,{})}));console.log("Application started.");
